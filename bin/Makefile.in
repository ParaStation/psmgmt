

CFLAGS += -O2 @CFLAG_WALL@ @CFLAG_G@ @CFLAG_COMPAT@
PSM_OSDIR := @PSM_OSDIR@
CPPFLAGS += -I@top_srcdir@/include @CPPFLAG_MMD@


VPATH += @srcdir@

LIBDIR := ../lib

.LIBPATTERNS += $(LIBDIR)/lib%.a

TOOLS:=psconfig pscounter
# test_nodes

bin:	$(TOOLS)


unlock: unlock.o -lpshal

tracemcp: tracemcp.o -lpvar -lpshal

psconfig: psconfig.o -lpshal -larg -lm

pscounter: pscounter.o -lpshal -lm

test_nodes: test_nodes.o -lpshal -lpsport -larg -lpse -lpsi -lm -pthread

test_pse: test_pse.o -lpshal -lpsport -larg -lpse -lpsi -lm -lpthread

# WARNING!!! if DEPEXTENSION from configure is empty, make clean remove all files!!
DEPFILES := $(wildcard *@DEPEXTENSION@) dummy.d

clean:
	$(RM) $(DEPFILES) *.o



-include $(DEPFILES)














