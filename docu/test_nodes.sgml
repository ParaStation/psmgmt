<refentry id="test_nodes">
  <refmeta>
    <refentrytitle>test_nodes</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>

  <refnamediv>
    <refname>test_nodes</refname>
    <refpurpose>
      test Myrinet connections within a cluster.
    </refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>test_nodes</command>
      <arg>-np num</arg>
      <arg>-cnt count</arg>
      <arg>-map</arg>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsect1>
    <title>Description</title>
    <para>
      Tests all or some Myrinet connections within a cluster. Therefor the
      program is started on <replaceable>num</replaceable> nodes. After all
      processes came up correctly, each of them starts to send test packets to
      every other nodes of the cluster. For this purpose the <citerefentry>
	<refentrytitle>PSP_IReceive</refentrytitle>
	<manvolnum>3</manvolnum>
      </citerefentry> and <citerefentry>
	<refentrytitle>PSP_ISend</refentrytitle>
	<manvolnum>3</manvolnum>
      </citerefentry> calls of the &ps; PSPort library are used.
    </para>
    <para>
      After every node has received data from any node (i.e. an all to all
      communication was executed), a success message is printed and
      <command>test_nodes</command> exits. Otherwise after a certain timeout a
      message concerning the current status about the tested connection is
      posted.
    </para>
    <para>
      <command>test_nodes</command> will run as long as any connection between
      two tested nodes is unable to transport the test packets.
    </para>
  </refsect1>

  <refsect1>
    <title>Options</title>
    <variablelist>
      <varlistentry>
	<term>
	  <option>-np <replaceable>num</replaceable></option>
        </term>
	<listitem>
	  <para>
	    Run the testing program on <replaceable>num</replaceable>
	    nodes.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>
	  <option>-cnt <replaceable>num</replaceable></option>
        </term>
	<listitem>
	  <para>
	    Send <replaceable>num</replaceable> test packets at once instead of
	    only one.
	  </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>
	  <option>-map</option>
        </term>
	<listitem>
	  <para>
	    Don't print complicated messages in case of an error but print a
	    map with all working connections marked as 1 and all failed
	    connections as 0.
	  </para>
	</listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  <refsect1>
    <title>See also</title>
    <para>
      <xref linkend="psid"/>
    </para>
  </refsect1>
</refentry>
  <!-- Keep this comment at the end of the file
  Local variables:
  mode: xml
  sgml-omittag:nil
  sgml-shorttag:nil
  sgml-namecase-general:nil
  sgml-general-insert-case:lower
  sgml-minimize-attributes:nil
  sgml-always-quote-attributes:t
  sgml-indent-step:2
  sgml-indent-data:t
  sgml-parent-document:("adminguide.xml" "book" "reference" "reference" ("title"))
  sgml-exposed-tags:nil
  sgml-local-catalogs:nil
  sgml-local-ecat-files:nil
  End:
  -->
