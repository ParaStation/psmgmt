###################################################### -*- Makefile -*- #####
#                  ParaStation
#        Copyright (c) 2008-2011 ParTec Cluster Competence Center GmbH, Munich
#############################################################################
#
# $Id$
#
# @author
#         Norbert Eicker <eicker@par-tec.de>
#############################################################################

.PHONY: all
all:

SRCDIR = @srcdir@
VPATH += $(SRCDIR)

#
# install include-headers
#
INSTALL = @INSTALL@
INSTFLAGS_NOEXEC = -m 644

DISTDIR := $(DESTDIR)$(DISTPATH)
INCDIR := $(DISTDIR)/include
DIST_includes := pse.h
DIST_includes += psprotocol.h psnodes.h pstask.h pspartition.h pscommon.h
DIST_includes += psiinfo.h psispawn.h psienv.h psi.h logging.h pscpu.h
DIST_includes += list_t.h

# The following headers are used within psmgmt-devel for plugin development
DIST_includes += config_parsing.h list.h plugin.h psdaemonprotocol.h
DIST_includes += pstask.h selector.h timer.h

$(INCDIR)/%: %
	$(INSTALL) $(INSTFLAGS_NOEXEC) -D $< $@

.PHONY: install
install: $(patsubst %,$(INCDIR)/%,$(DIST_includes))

.PHONY: clean distclean
clean:
	$(RM) $(EXTRACLEAN) *.o

distclean: clean
	$(RM) $(TARGETS)
