Version 5.1.60:
===============
------------------------------------------------------------------------
0f028c1f1 | Norbert Eicker | Wed, 27 Mar 2024 16:29:06 +0100

Fix issue introduced in 8258baad8fbc2a45a0a6d197dfdca7347c1eb65e
------------------------------------------------------------------------
38d16484a | Norbert Eicker | Wed, 27 Mar 2024 00:25:01 +0100

Add a few missing copyright statements
------------------------------------------------------------------------
06fc59147 | Norbert Eicker | Tue, 26 Mar 2024 23:52:10 +0100

IWYU fixes (after update to version 0.22)
------------------------------------------------------------------------
1e8a33e6b | Norbert Eicker | Tue, 26 Mar 2024 23:08:45 +0100

Fix typo in comment
------------------------------------------------------------------------
eb747a570 | Michael Rauh | Tue, 26 Mar 2024 10:42:03 +0100

Fix unexpected NULL attribute unveiled by clang
------------------------------------------------------------------------
8258baad8 | Norbert Eicker | Mon, 25 Mar 2024 17:03:10 +0100

Rework psidspawn's testExecutable()
------------------------------------------------------------------------
62c821548 | Norbert Eicker | Mon, 25 Mar 2024 16:40:40 +0100

Rework psidspawn's changeToWorkDir()
------------------------------------------------------------------------
ec1d5131f | Michael Rauh | Mon, 25 Mar 2024 15:55:07 +0100

Set correct errno for pscommon user query functions
------------------------------------------------------------------------
89bc70824 | Michael Rauh | Mon, 25 Mar 2024 14:21:56 +0100

Fix potentail memory leak and unexpected NULL attribute unveiled
by clang
------------------------------------------------------------------------
ec41bfefe | Norbert Eicker | Thu, 21 Mar 2024 15:11:25 +0100

Close logger connection on dropped FINALIZE message
------------------------------------------------------------------------
63a2c1f91 | Norbert Eicker | Thu, 21 Mar 2024 15:08:53 +0100

Let forwarder track connection to logger in a bool
------------------------------------------------------------------------
2038ec559 | Norbert Eicker | Thu, 21 Mar 2024 15:06:25 +0100

Cut trailing newline when reporting dropped msg to syslog
------------------------------------------------------------------------
2597f5f50 | Stephan Krempel | Tue, 19 Mar 2024 11:42:12 +0100

pspmix: Fix handling of prefix info with PMIx_Spawn()
------------------------------------------------------------------------
c8ae02f30 | Stephan Krempel | Tue, 26 Mar 2024 15:31:17 +0100

Let spawner send respawn fail message to PMIx as well
------------------------------------------------------------------------
6a069960f | Stephan Krempel | Tue, 26 Mar 2024 16:26:48 +0100

pspmix: Rename message type to better fit new purpose
------------------------------------------------------------------------
bf483ff6f | Norbert Eicker | Tue, 26 Mar 2024 14:04:09 +0100

Ensure failure to handle PSP_CD_SIGNAL is not ignored
------------------------------------------------------------------------
bd5d202c5 | Norbert Eicker | Tue, 26 Mar 2024 13:52:54 +0100

Add warning that sendDaemonMsg() only works in psidforwarder
------------------------------------------------------------------------
d149f6401 | Norbert Eicker | Tue, 26 Mar 2024 13:44:10 +0100

IWYU fixes
------------------------------------------------------------------------
041d231b6 | Stephan Krempel | Tue, 26 Mar 2024 12:56:03 +0100

pspmix: Fix sending of PSP_CD_SIGNAL messages
------------------------------------------------------------------------
cfc1cf820 | Stephan Krempel | Tue, 26 Mar 2024 12:43:14 +0100

pspmix: Enhance debugging output
------------------------------------------------------------------------
a47acb8cb | Norbert Eicker | Tue, 26 Mar 2024 10:48:48 +0100

Refine docu comment
------------------------------------------------------------------------
7d620d500 | Norbert Eicker | Tue, 26 Mar 2024 10:47:16 +0100

Return early from sendSpawnSuccess() on missing NS
------------------------------------------------------------------------
5e9d16bd7 | Stephan Krempel | Tue, 26 Mar 2024 01:28:54 +0100

pspmix: Always send spawn success for client TID

Since we are using the client TID for job termination in
case of PMIx_Abort(), it needs not only to be there for
respawned clients.
------------------------------------------------------------------------
d4d1af466 | Stephan Krempel | Tue, 26 Mar 2024 01:26:15 +0100

pspmix: Directly send namespace with spawn success

Only rely on the namespace name that the PMIx server has
sent in the environment addition to each forwarder.
------------------------------------------------------------------------
7e2ff050f | Stephan Krempel | Mon, 25 Mar 2024 23:10:15 +0100

pspmix: Consolidate PSPMIX_LOG_COMM debugging output
------------------------------------------------------------------------
e35c06ecf | Stephan Krempel | Mon, 25 Mar 2024 23:07:42 +0100

PMIx tests: Add simple abort test
------------------------------------------------------------------------
fafe7fbe3 | Norbert Eicker | Mon, 25 Mar 2024 22:42:40 +0100

Release more locks early to prevent double release
------------------------------------------------------------------------
7e0bcd021 | Norbert Eicker | Mon, 25 Mar 2024 22:15:17 +0100

Get rid of PspmixClient_t's nsname member

 - Also release some locks earlier
------------------------------------------------------------------------
5204831ee | Stephan Krempel | Mon, 25 Mar 2024 18:48:33 +0100

pspmix: Implement new client termination concept

- Now handled from the service module
- Signal local clients to terminate
- New message type PSPMIX_TERM_CLIENTS to tell remote
  PMIx servers to do the same.
------------------------------------------------------------------------
3415cf1f9 | Stephan Krempel | Mon, 25 Mar 2024 18:38:48 +0100

pspmix: Split client termination from namespace removal
------------------------------------------------------------------------
fb5660018 | Stephan Krempel | Mon, 25 Mar 2024 18:24:31 +0100

pspmix: Remove back reference to namespace in job

This reference is too dangerous, remove it again and
add some warning comments and safeguards.
------------------------------------------------------------------------
422046c0f | Stephan Krempel | Mon, 25 Mar 2024 18:19:34 +0100

pspmix: Enhance comments
------------------------------------------------------------------------
70e80a6f1 | Norbert Eicker | Fri, 22 Mar 2024 19:36:10 +0100

Actually pass opts to pspmix_service_spawn()
------------------------------------------------------------------------
4f13016db | Norbert Eicker | Fri, 22 Mar 2024 19:35:50 +0100

IWYU fixes
------------------------------------------------------------------------
e9c8d1564 | Norbert Eicker | Thu, 21 Mar 2024 16:49:03 +0100

Refine docu comments
------------------------------------------------------------------------
738b55cb8 | Stephan Krempel | Thu, 21 Mar 2024 15:51:19 +0100

pspmix: Assure to send only one spawn success message ever
------------------------------------------------------------------------
09f139f19 | Stephan Krempel | Thu, 21 Mar 2024 15:50:41 +0100

pspmix: Get PMIx server TID directly in sendSpawnSuccess()
------------------------------------------------------------------------
3c60d40f9 | Stephan Krempel | Thu, 21 Mar 2024 15:39:47 +0100

pspmix: Do spawn check directly in sendSpawnSuccess()
------------------------------------------------------------------------
f1c8960c3 | Stephan Krempel | Thu, 21 Mar 2024 15:22:21 +0100

pspmix: Fix handling of PMIX_WDIR with PMIx_Spawn()
------------------------------------------------------------------------
30218b2fc | Stephan Krempel | Thu, 21 Mar 2024 14:24:55 +0100

pspmix: Another fix of namespace locking
------------------------------------------------------------------------
e1aa63e0a | Stephan Krempel | Thu, 21 Mar 2024 04:08:28 +0100

pspmix: Count ready spawn success in any case
------------------------------------------------------------------------
840e679fd | Stephan Krempel | Thu, 21 Mar 2024 04:04:55 +0100

pspmix: Fix missing lock release
------------------------------------------------------------------------
37668fbdf | Stephan Krempel | Thu, 21 Mar 2024 02:30:55 +0100

pspmix: Mark terminateSession() explicitly as currently unused

Probably we will need this one again in the future.
------------------------------------------------------------------------
0141f4950 | Stephan Krempel | Thu, 21 Mar 2024 02:27:47 +0100

pspmix: Implement and start using terminateJob()
------------------------------------------------------------------------
0c80708f5 | Stephan Krempel | Thu, 21 Mar 2024 02:19:42 +0100

pspmix: Add back reference to the namespace into job
------------------------------------------------------------------------
1518ff446 | Stephan Krempel | Thu, 21 Mar 2024 02:10:00 +0100

pspmix: Store client's tid
------------------------------------------------------------------------
2bdcf9b00 | Stephan Krempel | Thu, 21 Mar 2024 12:59:11 +0100

pspmix: Enhance documentation of rank in PspmixClient_t
------------------------------------------------------------------------
4c19baf04 | Stephan Krempel | Thu, 21 Mar 2024 02:08:57 +0100

pspmix: Implement backup method for getting namespace
------------------------------------------------------------------------
95a4df37a | Stephan Krempel | Thu, 21 Mar 2024 01:59:20 +0100

pspmix: Report problems via PSPMIX_SPAWN_SUCCESS

Problems in hookForwarderInit() are as far as possible
reported via the message since the return code is
ignored anyhow.
------------------------------------------------------------------------
6754e940e | Stephan Krempel | Thu, 21 Mar 2024 01:52:12 +0100

pspmix: Send more information with PSPMIX_SPAWN_SUCCESS
------------------------------------------------------------------------
e4d4d1de2 | Stephan Krempel | Wed, 20 Mar 2024 15:00:22 +0100

pspmix: Fix potential locking problem
------------------------------------------------------------------------
f34965cce | Stephan Krempel | Wed, 20 Mar 2024 14:54:58 +0100

pspmix: Unify order of function parameters
------------------------------------------------------------------------
e7d64f7cf | Norbert Eicker | Wed, 20 Mar 2024 10:51:01 +0100

More refinements of docu comments
------------------------------------------------------------------------
54262a132 | Norbert Eicker | Wed, 20 Mar 2024 09:06:09 +0100

Fix typos
------------------------------------------------------------------------
8997e770a | Stephan Krempel | Wed, 20 Mar 2024 03:32:01 +0100

pspmix: Make respawn successfull already if all clients spawned

Change the default to report success of PMIx_Spawn() already
if all clients have successfully been spawned (exec()ed).

Make the old behavior optional with option "initrequired".

Add a todo to find a way how this option can be set by a user.
------------------------------------------------------------------------
e6eaff80c | Stephan Krempel | Wed, 20 Mar 2024 03:27:24 +0100

pspmix: Prepare respawn options

Create infrastructure to handle custom options passed
by the user to PMIx_Spawn() to modify respawn behavior.
First usecase is "initrequired" to make spawn successful
not before all clients called PMIx_Init().

This "initrequired" behavior is the currently implemented.
------------------------------------------------------------------------
54ed5c5d7 | Stephan Krempel | Wed, 20 Mar 2024 03:21:52 +0100

pspmix: Further describe respawn error handling
------------------------------------------------------------------------
787eed3e4 | Stephan Krempel | Wed, 20 Mar 2024 03:20:26 +0100

pspmix: Enhance respawn documentation
------------------------------------------------------------------------
71f391ece | Norbert Eicker | Tue, 19 Mar 2024 16:40:11 +0100

Ensure to have cmd and argv for each app in PMIx_Spawn()
------------------------------------------------------------------------
3c20af760 | Norbert Eicker | Tue, 19 Mar 2024 16:26:56 +0100

Ensure backward compatibility
------------------------------------------------------------------------
5f7340f7e | Stephan Krempel | Tue, 19 Mar 2024 15:08:53 +0100

pspmix: Describe expected cleanup in comment and add todo
------------------------------------------------------------------------
cf3844a40 | Norbert Eicker | Tue, 19 Mar 2024 13:11:50 +0100

Avoid unneeded double bracket
------------------------------------------------------------------------
9d79a70af | Norbert Eicker | Tue, 19 Mar 2024 13:11:25 +0100

Rename readClientPMIxEnvironment() to waitForClientEnv()
------------------------------------------------------------------------
7daad4e38 | Stephan Krempel | Tue, 19 Mar 2024 13:04:16 +0100

pspmix: Clarify spawn info processing and add TODO
------------------------------------------------------------------------
009173724 | Stephan Krempel | Tue, 19 Mar 2024 12:46:10 +0100

pspmix: Fix debugging output
------------------------------------------------------------------------
ada248835 | Stephan Krempel | Tue, 19 Mar 2024 11:39:23 +0100

pspmix: Fix check for wrong assumption and typo

Fixing the handling is targeted by #193
------------------------------------------------------------------------
c71020242 | Stephan Krempel | Tue, 19 Mar 2024 10:00:58 +0100

pspmix: Resolve todo by explanatory comment
------------------------------------------------------------------------
c4d5b70a4 | Stephan Krempel | Tue, 19 Mar 2024 09:54:06 +0100

pspmix: Avoid unnecessary malloc
------------------------------------------------------------------------
9e65c1509 | Stephan Krempel | Tue, 19 Mar 2024 09:51:32 +0100

pspmix: Send message to forwarder if job setup failed

This enables the forwarder to immediately fail without
waiting for the timeout.
------------------------------------------------------------------------
b9f31d0da | Norbert Eicker | Sat, 16 Mar 2024 17:31:56 +0100

Bugfix: avoid potential segfault
------------------------------------------------------------------------
16bc5adde | Stephan Krempel | Sat, 16 Mar 2024 01:21:13 +0100

pspmix: Prepare cleanup mechanism for failed respawns
------------------------------------------------------------------------
4d642de9f | Stephan Krempel | Sat, 16 Mar 2024 01:18:39 +0100

pspmix: Fix spawn state setting
------------------------------------------------------------------------
c09ff011f | Stephan Krempel | Fri, 15 Mar 2024 16:29:50 +0100

pspmix: Add support for nodetype/arch info key in PMIx_Spawn
------------------------------------------------------------------------
6abbed279 | Norbert Eicker | Fri, 15 Mar 2024 15:44:31 +0100

Do not propagate __MPIEXEC_DIST_START to clients
------------------------------------------------------------------------
648a88c20 | Norbert Eicker | Fri, 15 Mar 2024 13:55:22 +0100

Rename PMIx' job ID from spawnertid
------------------------------------------------------------------------
1ff07bdca | Norbert Eicker | Fri, 15 Mar 2024 13:27:00 +0100

Rename PMIx' session ID from loggertid
------------------------------------------------------------------------
9b5d766d1 | Stephan Krempel | Fri, 15 Mar 2024 13:05:32 +0100

pspmix: Remove unnecessary check during plugin init
------------------------------------------------------------------------
2109e7424 | Norbert Eicker | Fri, 15 Mar 2024 11:14:19 +0100

Get rid of assert()s in pspmixserver
------------------------------------------------------------------------
5796d3291 | Stephan Krempel | Fri, 15 Mar 2024 03:06:14 +0100

pspmix: Always initialize nspace returned to server lib

The standard does not clearly forbid to read ns even if status
is not PMIX_SUCCESS. So always load ns to be safe.
------------------------------------------------------------------------
d204981e0 | Stephan Krempel | Fri, 15 Mar 2024 02:46:06 +0100

pspmix: Avoid double checking PMIx provided environment
------------------------------------------------------------------------
437c49143 | Stephan Krempel | Fri, 15 Mar 2024 02:34:25 +0100

pspmix: Remove spawn hints processing ignored anyhow

-H and -f are not processes by kvsprovider command
they have only an effect when mpiexec creates a new partition.
Thus hints hosts and hostfile did never work and are removed now.
------------------------------------------------------------------------
741744c38 | Stephan Krempel | Fri, 15 Mar 2024 02:30:18 +0100

pspmix: Fix stupidity
------------------------------------------------------------------------
3ae90315a | Stephan Krempel | Fri, 15 Mar 2024 02:17:36 +0100

pspmix: Change assertion to in production check
------------------------------------------------------------------------
b8491dc24 | Stephan Krempel | Fri, 15 Mar 2024 01:55:02 +0100

pspmix: Do not set universe size in kvsprovider call

This was a relict from when we called mpiexec to respawn
processes and is already ignored anyhow.
------------------------------------------------------------------------
35817e8b2 | Stephan Krempel | Fri, 15 Mar 2024 01:48:31 +0100

Rename __PMI_SPAWN_SERVICE_RANK to __SPAWNER_SERVICE_RANK

since it is used by PMI and PMIx
------------------------------------------------------------------------
1056a0268 | Stephan Krempel | Fri, 15 Mar 2024 01:44:06 +0100

pspmix: Remove obsolete comment
------------------------------------------------------------------------
51f652037 | Stephan Krempel | Fri, 15 Mar 2024 01:11:27 +0100

Streamlining
------------------------------------------------------------------------
a9b0d14ce | Stephan Krempel | Fri, 15 Mar 2024 00:42:13 +0100

pspmix: Remove unused environment variables
------------------------------------------------------------------------
95f137ad2 | Stephan Krempel | Thu, 14 Mar 2024 23:53:45 +0100

pspmix: Reduce redundant function parameters
------------------------------------------------------------------------
65bc7468b | Stephan Krempel | Thu, 14 Mar 2024 16:02:50 +0100

pspmix: Adjust spwan state naming in debugging output
------------------------------------------------------------------------
20115cdfc | Stephan Krempel | Thu, 14 Mar 2024 15:54:56 +0100

pspmix: Renaming in spawn state handling
------------------------------------------------------------------------
e2d74d379 | Stephan Krempel | Thu, 14 Mar 2024 15:50:38 +0100

pspmix: Fix struct description
------------------------------------------------------------------------
650a4a34f | Stephan Krempel | Thu, 14 Mar 2024 15:48:40 +0100

pspmix: Fix memory leak
------------------------------------------------------------------------
125a4c11a | Stephan Krempel | Thu, 14 Mar 2024 15:44:13 +0100

pspmix: Remove pending spawn in error case
------------------------------------------------------------------------
e72caf29e | Stephan Krempel | Thu, 14 Mar 2024 15:29:28 +0100

pspmix: Use only hex for __PMIX_SPAWN_PARENT_FWTID
------------------------------------------------------------------------
41f6d23f5 | Stephan Krempel | Wed, 13 Mar 2024 15:24:44 +0100

pspmix: Make __PMIX_SPAWN_PARENT_FWTID human readable

Removes check for TID < 0 since this can happen for large
numbers of nodes (>32767)
------------------------------------------------------------------------
58b46b27a | Norbert Eicker | Tue, 12 Mar 2024 22:35:39 +0100

Replace use of strv_t for environment by env_t
------------------------------------------------------------------------
c87eb86c9 | Norbert Eicker | Tue, 12 Mar 2024 22:34:25 +0100

Streamline
------------------------------------------------------------------------
26daa9afc | Norbert Eicker | Tue, 12 Mar 2024 21:47:35 +0100

Rework psenv's filter functionality

 - Replace the filter argument of envConstruct(), envClone(), envCat()
 - filter is now a function of type bool filter(const char *) to be more
   flexible
 - Also update all users of this functionality
------------------------------------------------------------------------
dd12b0433 | Norbert Eicker | Tue, 12 Mar 2024 19:49:29 +0100

Make use of envStealArray()'s new return feature
------------------------------------------------------------------------
394426734 | Norbert Eicker | Tue, 12 Mar 2024 19:48:09 +0100

Let envStealArray() return the stolen array
------------------------------------------------------------------------
843a7bf5c | Stephan Krempel | Mon, 11 Mar 2024 18:33:03 +0100

pspmix: Adjust environment variables to standard

Use the same names as defined in the standard for environment
variables with the same meaning and adjust others to be named
similarly:

 - PMI_UNIVERSE_SIZE => PMIX_UNIV_SIZE
 - PMI_SIZE => PMIX_JOB_SIZE
 - PMIX_APPCOUNT => PMIX_JOB_NUM_APPS
 - PMIX_APPSIZE_%zu => PMIX_APP_SIZE_%zu
 - PMIX_APPWDIR_%zu => PMIX_APP_WDIR_%zu
 - PMIX_APPARGV_%zu => PMIX_APP_ARGV_%zu
 - PMIX_APPNAME_%zu => PMIX_APP_NAME_%zu
------------------------------------------------------------------------
77c815029 | Stephan Krempel | Fri, 8 Mar 2024 18:34:19 +0100

pspmix: Use strtol() instead of atoi() for error checking
------------------------------------------------------------------------
0a942b592 | Stephan Krempel | Fri, 8 Mar 2024 17:07:53 +0100

pspmix: Fix version separation
------------------------------------------------------------------------
9b09cdd9c | Stephan Krempel | Fri, 8 Mar 2024 16:25:20 +0100

pspmix: Fix memory leaks
------------------------------------------------------------------------
a04a71081 | Stephan Krempel | Fri, 8 Mar 2024 16:50:17 +0100

pspmix: Fix potential segfault
------------------------------------------------------------------------
3fbd9703b | Stephan Krempel | Fri, 8 Mar 2024 13:36:32 +0100

pspmix: Fix memory leak
------------------------------------------------------------------------
e3167eec8 | Stephan Krempel | Fri, 8 Mar 2024 10:09:05 +0100

pspmix/psslurm: Do not use PMI_SPAWNED in pspmix
------------------------------------------------------------------------
bab730f47 | Norbert Eicker | Wed, 6 Mar 2024 20:41:21 +0100

Fix typo
------------------------------------------------------------------------
7cde16486 | Norbert Eicker | Wed, 6 Mar 2024 20:22:51 +0100

Ensure debug logs don't crash the PMIx server
------------------------------------------------------------------------
716356eed | Norbert Eicker | Wed, 6 Mar 2024 20:22:18 +0100

Adapt docu comments
------------------------------------------------------------------------
1eed07c13 | Norbert Eicker | Wed, 6 Mar 2024 20:21:20 +0100

More detailed debug log in psidspawn
------------------------------------------------------------------------
837d72e26 | Norbert Eicker | Wed, 6 Mar 2024 20:19:45 +0100

Fix typos
------------------------------------------------------------------------
d23cc85fc | Stephan Krempel | Wed, 6 Mar 2024 19:06:35 +0100

pspmix: Eliminate hint on PMI preput mechanism
------------------------------------------------------------------------
952a7c793 | Stephan Krempel | Wed, 6 Mar 2024 18:54:18 +0100

pspmix: Adjust to new strvAdd() copying string itself
------------------------------------------------------------------------
2ec0c907a | Stephan Krempel | Wed, 6 Mar 2024 18:34:29 +0100

pspmix: Remove unused preput code
------------------------------------------------------------------------
a251d1424 | Stephan Krempel | Wed, 6 Mar 2024 18:29:56 +0100

pspmix: stop wasting memory
------------------------------------------------------------------------
01b9ecfc0 | Stephan Krempel | Wed, 6 Mar 2024 15:36:38 +0100

pspmix: Fix handling of PMIX_PREFIX info in PMIx_Spawn
------------------------------------------------------------------------
e7ac24f93 | Norbert Eicker | Wed, 6 Mar 2024 16:31:08 +0100

Fix typos
------------------------------------------------------------------------
c06eb28e4 | Norbert Eicker | Wed, 6 Mar 2024 10:51:35 +0100

Whitespace fixes
------------------------------------------------------------------------
ecced21d4 | Norbert Eicker | Wed, 6 Mar 2024 10:51:18 +0100

Streamlining
------------------------------------------------------------------------
60508c984 | Norbert Eicker | Wed, 6 Mar 2024 00:09:38 +0100

Fix typos in comments
------------------------------------------------------------------------
762355800 | Norbert Eicker | Tue, 5 Mar 2024 23:26:59 +0100

Fix docu comment
------------------------------------------------------------------------
7f9b7ecad | Norbert Eicker | Tue, 5 Mar 2024 22:58:28 +0100

Whitespace fixes
------------------------------------------------------------------------
d17089375 | Norbert Eicker | Tue, 5 Mar 2024 22:57:59 +0100

Improve debug log
------------------------------------------------------------------------
670eb27a1 | Norbert Eicker | Tue, 5 Mar 2024 22:57:35 +0100

Fix docu comments
------------------------------------------------------------------------
e579c9676 | Norbert Eicker | Tue, 5 Mar 2024 22:54:12 +0100

Add pspmixhandles.h to pspmix_la_SOURCES for completeness
------------------------------------------------------------------------
66d219856 | Norbert Eicker | Tue, 5 Mar 2024 22:53:27 +0100

IWYU fixes
------------------------------------------------------------------------
f66defc17 | Stephan Krempel | Mon, 26 Feb 2024 14:34:54 +0100

pspmix: Add missing message type strings
------------------------------------------------------------------------
7be0e1890 | Stephan Krempel | Wed, 21 Feb 2024 14:39:56 +0100

pspmix: Tolerate spawning apps with env == NULL
------------------------------------------------------------------------
f8b8613b8 | Stephan Krempel | Tue, 20 Feb 2024 16:08:45 +0100

Do not pre-initialize env in spawn requests
------------------------------------------------------------------------
a4c217379 | Stephan Krempel | Tue, 20 Feb 2024 16:07:11 +0100

Remove unused env entry from spawnRequest struct
------------------------------------------------------------------------
7330274ab | Norbert Eicker | Tue, 20 Feb 2024 15:19:53 +0100

Ensure envClone() provides a perfect copy
------------------------------------------------------------------------
656cb6406 | Stephan Krempel | Tue, 20 Feb 2024 12:33:01 +0100

pspmix: Fix support of multiple spawns in a call
------------------------------------------------------------------------
e620b163c | Stephan Krempel | Tue, 20 Feb 2024 12:29:41 +0100

Introduce strvStealArray() as separate call
------------------------------------------------------------------------
2d791320b | Stephan Krempel | Tue, 20 Feb 2024 12:16:04 +0100

Override PMIX spawn variables in PSI environment
------------------------------------------------------------------------
2a3cedce4 | Stephan Krempel | Tue, 20 Feb 2024 12:10:59 +0100

Revert "Change confusing debugging output"

This reverts commit a220e3ca5946e8397c0731999d67455de0ce1e4d.
------------------------------------------------------------------------
d41955991 | Stephan Krempel | Mon, 19 Feb 2024 22:39:19 +0100

pspmix: Set environment provided with PMIx_Spawn()

This implements the pspmix side as far as possible. To support
it as intended, changes in mpiexec/kvsprovider are needed.
See comment in the code.
------------------------------------------------------------------------
97c1f74d7 | Stephan Krempel | Mon, 19 Feb 2024 20:57:18 +0100

pspmix: Transfer missing resinfo parts to PMIx server

Include partHolder, rankOffset, minRank, and maxRank from
reservation infos in PSPMIX_ADD_JOB messages.
------------------------------------------------------------------------
116743bbb | Stephan Krempel | Tue, 19 Dec 2023 16:25:16 +0100

pspmix: Enhance debugging output
------------------------------------------------------------------------
ad42c1376 | Stephan Krempel | Tue, 19 Dec 2023 16:23:27 +0100

Print much more of a task in debugging output
------------------------------------------------------------------------
168cb76cf | Stephan Krempel | Tue, 19 Dec 2023 16:22:37 +0100

Change confusing debugging output
------------------------------------------------------------------------
8a7e33c65 | Stephan Krempel | Fri, 15 Dec 2023 01:45:06 +0100

pspmix: Set PMI_SPAWNED used by psslurm

Consider this as a common variable of all PMIs
------------------------------------------------------------------------
586b1a0a4 | Stephan Krempel | Fri, 15 Dec 2023 00:59:37 +0100

pspmix: Add pragmas to prevent false warnings
------------------------------------------------------------------------
2e91c5b6d | Stephan Krempel | Fri, 15 Dec 2023 00:56:48 +0100

pspmi/pspmix: Do not consume unexpected serviceInfo

To support spawn in both plugins at the same time, the one
loaded first should not consume serviceInfo requested by
the other one.
------------------------------------------------------------------------
e8a1d7873 | Stephan Krempel | Fri, 15 Dec 2023 00:55:16 +0100

pspmix: Rename functions to match handles names
------------------------------------------------------------------------
ed8bb67ae | Stephan Krempel | Thu, 14 Dec 2023 02:38:38 +0100

pspmix: Fix debugging output in printProcMap()
------------------------------------------------------------------------
ef9c1c5f7 | Stephan Krempel | Thu, 14 Dec 2023 01:31:51 +0100

pspmix: Rework process info for namespace registration

Adjust comment to standards v4 and v5
------------------------------------------------------------------------
763a02f73 | Stephan Krempel | Thu, 14 Dec 2023 01:31:23 +0100

pspmix: Rework nodes info for namespace registration

Adjust comment to standards v4 and v5
------------------------------------------------------------------------
bc40d0de3 | Stephan Krempel | Thu, 14 Dec 2023 00:58:43 +0100

pspmix: Rework apps info for namespace registration

Adjust comment to standards v4 and v5
------------------------------------------------------------------------
6fa2680ad | Stephan Krempel | Thu, 14 Dec 2023 00:25:01 +0100

pspmix: Streamlining
------------------------------------------------------------------------
e0b25cae7 | Stephan Krempel | Thu, 14 Dec 2023 00:21:40 +0100

pspmix: Rework job info for namespace registration

- Adjust comments to standard v4 and v5
- Add PMIX_NSPACE since not necessarily the same as PMIX_JOBID
- Add PMIX_NPROC_OFFSET since probably needed for spawn support
------------------------------------------------------------------------
535df9748 | Stephan Krempel | Thu, 14 Dec 2023 00:17:48 +0100

pspmix: Rework session info for namespace registration

Mainly reordert to match order used in the standard
------------------------------------------------------------------------
cd53959ca | Stephan Krempel | Fri, 8 Dec 2023 19:02:44 +0100

pspmix: Extend spawn debugging output in forwarder
------------------------------------------------------------------------
f4d1d8cf1 | Stephan Krempel | Fri, 8 Dec 2023 19:01:24 +0100

pspmix: Add spawn parent in namespace registration
------------------------------------------------------------------------
ce2703f3f | Stephan Krempel | Fri, 8 Dec 2023 19:00:10 +0100

pspmix: Transfer parent with client spawn request
------------------------------------------------------------------------
278652f98 | Stephan Krempel | Fri, 8 Dec 2023 18:56:04 +0100

pspmix: Rename __PMIX_SPAWN_PARENT

new name is __PMIX_SPAWN_PARENT_FWTID
------------------------------------------------------------------------
745b53fe8 | Stephan Krempel | Fri, 8 Dec 2023 18:47:02 +0100

pspmix: Make spawn->caller permanently usable
------------------------------------------------------------------------
4eac3439f | Stephan Krempel | Fri, 8 Dec 2023 00:27:13 +0100

pspmix: Implement respawn control flow

- Introduce spawn state
- Introduce spawnInfo reporting
------------------------------------------------------------------------
ac16d39c6 | Stephan Krempel | Fri, 8 Dec 2023 00:16:36 +0100

pspmix: Complete call-back to the pmix server lib
------------------------------------------------------------------------
b3fb444f7 | Stephan Krempel | Fri, 8 Dec 2023 00:08:26 +0100

pspmix: Handle PSP_CD_SPAWN* result messages
------------------------------------------------------------------------
d5dc34edc | Stephan Krempel | Thu, 7 Dec 2023 23:53:45 +0100

pspmix: Make findNamespace static
------------------------------------------------------------------------
b105aa440 | Stephan Krempel | Thu, 7 Dec 2023 19:20:47 +0100

pspmix: Introduce spawn ID

Move from PMIX_SPAWNED to PMIX_SPAWNID and __PMIX_SPAWN_PARENT
------------------------------------------------------------------------
dba344f7d | Stephan Krempel | Thu, 7 Dec 2023 19:10:31 +0100

pspmix: Adjust fillWithMpiexec to PMIx
------------------------------------------------------------------------
66fe05324 | Stephan Krempel | Thu, 7 Dec 2023 18:45:26 +0100

pspmix: Don't use separate command for spawn
------------------------------------------------------------------------
51b9df903 | Stephan Krempel | Fri, 27 Oct 2023 15:36:39 +0200

pspmix: Set PMIX_MAX_PROCS == PMIX_JOB_SIZE at job level

Since jobs will never grow, it makes no sense to
leave space between the two values.
------------------------------------------------------------------------
ba02785b6 | Stephan Krempel | Sat, 21 Oct 2023 11:57:23 +0200

pspmix: stopgap solution for spawn ready noderank
------------------------------------------------------------------------
e6127217f | Stephan Krempel | Sat, 21 Oct 2023 11:21:27 +0200

pspmix: Add environment for each single spawn
------------------------------------------------------------------------
29deb99b2 | Stephan Krempel | Fri, 6 Oct 2023 15:02:10 +0200

pspmix: Copying spawn request no longer needed

Since the code is now executed in the psid forwarder and
the request is copied implicitly during sending it there,
we do not need to copy it in doSpawn() again.
------------------------------------------------------------------------
3cef6ae6b | Stephan Krempel | Thu, 5 Oct 2023 13:42:23 +0200

pspmix: Implement actual spawn in tryPMIxSpawn()
------------------------------------------------------------------------
066d45d2d | Stephan Krempel | Tue, 4 Jul 2023 01:26:28 +0200

pspmix: Implement callback handling for spawn
------------------------------------------------------------------------
2d6743ed6 | Stephan Krempel | Tue, 4 Jul 2023 01:25:07 +0200

pspmix: Put spawn infos into list
------------------------------------------------------------------------
2e1354e9f | Stephan Krempel | Tue, 19 Dec 2023 06:05:45 +0100

pspmix: Implement PMIx_Spawn structure

Concept:
1. PMIx server sends request message to the psid forwarder
   of the process that called PMIx_Spawn()
2. forwarder requests new service rank from job's logger
3. forwarder receives the service rank and triggers the spawn
4. forwarder sends response to the spawn request to the PMIx server
------------------------------------------------------------------------
efd0b7444 | Stephan Krempel | Fri, 30 Jun 2023 01:37:06 +0200

Allow stealing of the whole array from strv_t
------------------------------------------------------------------------
557a2d89b | Norbert Eicker | Tue, 26 Mar 2024 12:05:55 +0100

Actually fill __PSI_EXPORTS if -[g]envall is given
------------------------------------------------------------------------
2ae99d726 | Norbert Eicker | Mon, 25 Mar 2024 17:38:25 +0100

Ignore more PMIx test examples when built
------------------------------------------------------------------------
bffbf2bb3 | Stephan Krempel | Mon, 25 Mar 2024 13:47:31 +0100

PMIx spawn test: Fix prefix test
------------------------------------------------------------------------
9fb9599aa | Sonja Happ | Thu, 7 Mar 2024 12:41:47 +0100

PMIx spawn test: Use different working directory for child procs and check it
------------------------------------------------------------------------
20b4714dd | Sonja Happ | Thu, 7 Mar 2024 12:40:53 +0100

PMIx spawn test: Remove prefix from argv[0], remove unused argv.
------------------------------------------------------------------------
922fbb67d | Norbert Eicker | Mon, 19 Feb 2024 08:55:09 +0100

Ensure building even with missing NUMA support (#12)
------------------------------------------------------------------------
7fac1c3d3 | Norbert Eicker | Thu, 8 Feb 2024 18:39:33 +0100

Ensure -x and -H (-N, -f) work together in mpiexec (#160)
------------------------------------------------------------------------
0b8c94b40 | Norbert Eicker | Mon, 22 Jan 2024 19:27:04 +0100

Bugfix: psiadmin has to expect local answer on plugin (#167)
------------------------------------------------------------------------
5e487d199 | Norbert Eicker | Mon, 22 Jan 2024 19:21:59 +0100

Streamline and remove obsolete variable
------------------------------------------------------------------------
89abb8435 | Norbert Eicker | Mon, 22 Jan 2024 19:20:56 +0100

Bugfix: Ensure psid returns the expected message (#167)
------------------------------------------------------------------------
8fa738ed7 | Norbert Eicker | Mon, 22 Jan 2024 16:57:03 +0100

Bugfix: ensure message buffer is not overflowed
------------------------------------------------------------------------
892a7e2e6 | Norbert Eicker | Mon, 22 Jan 2024 16:40:47 +0100

Streamlining
------------------------------------------------------------------------
adace5d5d | Norbert Eicker | Fri, 22 Mar 2024 18:35:17 +0100

More use of fdbg()/fwarn()
------------------------------------------------------------------------
939d0e42e | Norbert Eicker | Fri, 22 Mar 2024 18:00:56 +0100

Booleanize use of removeDir()
------------------------------------------------------------------------
abc95c256 | Michael Rauh | Fri, 22 Mar 2024 16:31:27 +0100

Make sure to replace job I/O filenames before usage
------------------------------------------------------------------------
a348a13dd | Michael Rauh | Fri, 22 Mar 2024 15:53:04 +0100

Cleanup bind mount generated files in container root filesystem
------------------------------------------------------------------------
b18469220 | Michael Rauh | Fri, 22 Mar 2024 15:52:32 +0100

Write json configuration as job owner
------------------------------------------------------------------------
fb384696c | Michael Rauh | Thu, 21 Mar 2024 15:04:06 +0100

Add documentation for pluginjson
------------------------------------------------------------------------
8244653c4 | Michael Rauh | Wed, 20 Mar 2024 17:25:11 +0100

Fix debug print
------------------------------------------------------------------------
60f0e0e1f | Michael Rauh | Wed, 20 Mar 2024 17:18:33 +0100

Add attribute noreturn to Container_run()
------------------------------------------------------------------------
d31f764b6 | Michael Rauh | Wed, 20 Mar 2024 17:16:16 +0100

Fix copy error
------------------------------------------------------------------------
fe640f6ef | Michael Rauh | Wed, 20 Mar 2024 17:15:00 +0100

Ensure pid and taskid are always replaced
------------------------------------------------------------------------
0e23336a5 | Michael Rauh | Wed, 20 Mar 2024 17:08:57 +0100

Only install psid PAM service file if PAM is available
------------------------------------------------------------------------
9166bf16e | Michael Rauh | Wed, 20 Mar 2024 17:06:40 +0100

Simplify arguments for Container_jobInit()
------------------------------------------------------------------------
0a0197c15 | Norbert Eicker | Tue, 19 Mar 2024 18:26:21 +0100

IWYU fixes
------------------------------------------------------------------------
5ec43f905 | Michael Rauh | Tue, 19 Mar 2024 16:46:24 +0100

Start jobscripts and tasks in container
------------------------------------------------------------------------
fdf58a6f4 | Michael Rauh | Tue, 19 Mar 2024 16:18:06 +0100

Add container representation to job/step
------------------------------------------------------------------------
2543193cd | Michael Rauh | Tue, 19 Mar 2024 16:12:43 +0100

Fill psslurmcontainer with live
------------------------------------------------------------------------
0c23b8754 | Michael Rauh | Tue, 19 Mar 2024 16:05:08 +0100

Add Slurm container error definition
------------------------------------------------------------------------
386078f6c | Michael Rauh | Tue, 19 Mar 2024 16:04:19 +0100

Rework __jsonWalkPath() and make handling of json arrays save
------------------------------------------------------------------------
7ab03de47 | Michael Rauh | Tue, 19 Mar 2024 16:00:49 +0100

Introduce PLUGIN_LOG_JSON
------------------------------------------------------------------------
f53b88fd8 | Michael Rauh | Tue, 19 Mar 2024 15:58:18 +0100

Introduce jsonDel()
------------------------------------------------------------------------
0fa991f94 | Michael Rauh | Tue, 19 Mar 2024 15:49:03 +0100

Remove path argument from json put family and introduce extra
functions for them
------------------------------------------------------------------------
9329fabbf | Michael Rauh | Tue, 19 Mar 2024 15:47:19 +0100

Introduce jsonExists()
------------------------------------------------------------------------
4277a7440 | Michael Rauh | Tue, 19 Mar 2024 10:57:48 +0100

Save final job I/O filenames for later use for container runtime
------------------------------------------------------------------------
c3dd041a8 | Michael Rauh | Tue, 19 Mar 2024 10:51:46 +0100

Automatically load pam_service plugin if Slurm container
support is configured
------------------------------------------------------------------------
1a0099250 | Michael Rauh | Tue, 19 Mar 2024 10:24:23 +0100

Update supported configuration options of oci.conf
------------------------------------------------------------------------
0116f8632 | Michael Rauh | Mon, 18 Mar 2024 22:34:10 +0100

Suppress invalid error message
------------------------------------------------------------------------
1ebb61ff9 | Michael Rauh | Mon, 18 Mar 2024 16:28:56 +0100

Update buildsystem
------------------------------------------------------------------------
5a919d53e | Michael Rauh | Mon, 18 Mar 2024 16:27:48 +0100

Introduce container types in psslurm
------------------------------------------------------------------------
b3d8162ef | Michael Rauh | Thu, 14 Mar 2024 17:17:27 +0100

Add required PAM authentication module pam_unix.so
------------------------------------------------------------------------
8fb5844aa | Michael Rauh | Thu, 14 Mar 2024 16:55:22 +0100

If loading of pam_service fails psslurm should not start either
------------------------------------------------------------------------
bb3152d48 | Michael Rauh | Thu, 14 Mar 2024 16:54:04 +0100

Minor improvement
------------------------------------------------------------------------
3554deb36 | Norbert Eicker | Thu, 14 Mar 2024 15:16:22 +0100

Whitespace fixes
------------------------------------------------------------------------
03c3fca70 | Michael Rauh | Thu, 14 Mar 2024 12:31:31 +0100

Update buildsystem
------------------------------------------------------------------------
757c7193f | Michael Rauh | Thu, 14 Mar 2024 12:30:52 +0100

Add default PAM configuration for pam_service
------------------------------------------------------------------------
6b087972a | Michael Rauh | Wed, 13 Mar 2024 18:54:10 +0100

Add PAM session support for user processes in psslurm

 - Introduce PAM_SESSION configuration option
 - Default: disabled
------------------------------------------------------------------------
a04448a3f | Michael Rauh | Wed, 13 Mar 2024 16:39:54 +0100

Use flog() in pamserivce
------------------------------------------------------------------------
a05bb1102 | Michael Rauh | Wed, 13 Mar 2024 16:27:30 +0100

Add flog() familiy to pamservice plugin
------------------------------------------------------------------------
b557b7101 | Michael Rauh | Wed, 13 Mar 2024 16:23:57 +0100

Set required pam session items to trigger logind
------------------------------------------------------------------------
216285763 | Michael Rauh | Tue, 12 Mar 2024 10:35:11 +0100

Introduce fwarn() to psslurm
------------------------------------------------------------------------
f4dfd13b9 | Michael Rauh | Thu, 7 Mar 2024 16:35:39 +0100

Introduce PSIDHOOK_EXEC_CLIENT_EXEC

 - bump plugin API to 141
------------------------------------------------------------------------
6bed5bf12 | Norbert Eicker | Mon, 19 Feb 2024 15:58:00 +0100

Get rid of arbitrary constants
------------------------------------------------------------------------
3799b0d80 | Norbert Eicker | Mon, 19 Feb 2024 11:04:25 +0100

Fix psjson_t creation
------------------------------------------------------------------------
56db990a9 | Norbert Eicker | Mon, 19 Feb 2024 10:47:16 +0100

Adapt envFromString() to reworked env_t
------------------------------------------------------------------------
c8396e8c5 | Norbert Eicker | Mon, 19 Feb 2024 10:28:48 +0100

Enhance docu comments
------------------------------------------------------------------------
f3cc3ea8c | Norbert Eicker | Mon, 19 Feb 2024 10:28:23 +0100

Avoid unnecessary initialization of global variables
------------------------------------------------------------------------
78efc1ba1 | Norbert Eicker | Tue, 13 Feb 2024 16:04:27 +0100

Streamlining
------------------------------------------------------------------------
f3c98c18f | Norbert Eicker | Tue, 13 Feb 2024 16:04:12 +0100

Introduce pluginfdbg()
------------------------------------------------------------------------
cf79a2914 | Norbert Eicker | Tue, 13 Feb 2024 15:55:32 +0100

Introduce pluginflog()
------------------------------------------------------------------------
acc165ad0 | Norbert Eicker | Tue, 13 Feb 2024 14:55:55 +0100

Streamlining
------------------------------------------------------------------------
d19800d8b | Norbert Eicker | Tue, 13 Feb 2024 14:55:09 +0100

Fine-tune docu comments
------------------------------------------------------------------------
4a8d66f14 | Michael Rauh | Tue, 13 Feb 2024 13:25:54 +0100

Add more functions to pluginjson library
------------------------------------------------------------------------
47fb6f00e | Michael Rauh | Mon, 12 Feb 2024 14:58:16 +0100

Make more use of writeFile()
------------------------------------------------------------------------
c817468b4 | Michael Rauh | Wed, 7 Feb 2024 16:45:52 +0100

Replace old writeFile() and mark removal of obsolete
Slurm configuration format
------------------------------------------------------------------------
a339f9d9f | Michael Rauh | Wed, 7 Feb 2024 16:45:00 +0100

Introduce writeFile()
------------------------------------------------------------------------
2cdd615c6 | Michael Rauh | Fri, 2 Feb 2024 15:14:59 +0100

Streamline, booleanize
------------------------------------------------------------------------
1dc88f383 | Michael Rauh | Fri, 2 Feb 2024 14:55:40 +0100

Introduce mkDir() to create all directories of a
given path
------------------------------------------------------------------------
757e22eab | Michael Rauh | Thu, 1 Feb 2024 17:27:07 +0100

Introduce mmapFile() to map a file to memory
------------------------------------------------------------------------
af358ddf3 | Michael Rauh | Tue, 30 Jan 2024 13:27:13 +0100

Update buildsystem
------------------------------------------------------------------------
428ef7b34 | Michael Rauh | Tue, 30 Jan 2024 13:25:18 +0100

Introduce pluginjson library
------------------------------------------------------------------------
86a88e5b0 | Michael Rauh | Fri, 26 Jan 2024 13:29:34 +0100

Introduce envFromString()
------------------------------------------------------------------------
da980193d | Michael Rauh | Thu, 25 Jan 2024 15:49:25 +0100

Update buildsystem
------------------------------------------------------------------------
6dfe2a38e | Michael Rauh | Thu, 25 Jan 2024 15:47:50 +0100

Add json-c library detection for container support
------------------------------------------------------------------------
0e3531ebf | Michael Rauh | Tue, 23 Jan 2024 15:17:55 +0100

Update buildsystem
------------------------------------------------------------------------
bfe2919bc | Michael Rauh | Tue, 23 Jan 2024 15:16:18 +0100

Introduce psslurmcontainer skeleton
------------------------------------------------------------------------
40c2ff946 | Michael Rauh | Tue, 23 Jan 2024 13:44:45 +0100

Let psslurm parse Slurm oci.conf
------------------------------------------------------------------------
eacf311b6 | Norbert Eicker | Wed, 20 Mar 2024 20:36:23 +0100

Fix typo in debug log
------------------------------------------------------------------------
2602590df | Michael Rauh | Wed, 20 Mar 2024 17:40:14 +0100

Fix memory leak
------------------------------------------------------------------------
d2d69600a | Michael Rauh | Wed, 20 Mar 2024 17:40:02 +0100

Fix debug message
------------------------------------------------------------------------
e9bc6438c | Norbert Eicker | Thu, 14 Mar 2024 17:48:55 +0100

Rework arrayFromUserList() docu comments
------------------------------------------------------------------------
8c9fc62a6 | Michael Rauh | Thu, 14 Mar 2024 15:39:16 +0100

Add psslurm configuration option SSTAT_USERS (pct:#438)

 - allow selected users access to all jobs using sstat
------------------------------------------------------------------------
103ff7e22 | Michael Rauh | Thu, 14 Mar 2024 15:08:49 +0100

Introduce arrayFromUserList()
------------------------------------------------------------------------
97f4ccd09 | Norbert Eicker | Tue, 19 Mar 2024 17:00:43 +0100

Utilize PS_JOB_SIZE and PS_JOB_RANK in RRComm tests
------------------------------------------------------------------------
4eb513697 | Norbert Eicker | Wed, 13 Mar 2024 21:42:10 +0100

Add extra variables to client environment (#188)

 - PS_SESSION_ID, PS_JOB_ID, PS_RESERVATION_ID, PS_JOB_RANK, PS_JOB_SIZE
------------------------------------------------------------------------
a8f3693e4 | Norbert Eicker | Thu, 14 Mar 2024 10:15:07 +0100

Bugfix: fix support for het-jobs

 - 1604ac60c65 changed the behavior of mpiexec -x => use -genvall
------------------------------------------------------------------------
0fb904a4e | Norbert Eicker | Thu, 14 Mar 2024 10:14:46 +0100

Streamlining
------------------------------------------------------------------------
32f741468 | Norbert Eicker | Tue, 12 Mar 2024 18:52:54 +0100

Publish loadPlugin() as PSIDplugin_load()
------------------------------------------------------------------------
20897c4bf | Norbert Eicker | Tue, 12 Mar 2024 18:51:27 +0100

Refine PSIDplugin_getHandle()'s docu comment
------------------------------------------------------------------------
d68a8f787 | Norbert Eicker | Tue, 12 Mar 2024 18:45:34 +0100

Publish findPlugin() as PSIDplugin_find()
------------------------------------------------------------------------
42559b8a6 | Norbert Eicker | Tue, 12 Mar 2024 18:34:36 +0100

Make plugin_t opaquely public as PSIDplugin_t
------------------------------------------------------------------------
37493cb0e | Norbert Eicker | Tue, 12 Mar 2024 18:16:59 +0100

Make PSID_execFunc() usable outside psid itself

 - Ensure PSID_clearMem() is only called from within psid
------------------------------------------------------------------------
6b527ddd8 | Norbert Eicker | Tue, 12 Mar 2024 18:15:57 +0100

Streamline psidplugin
------------------------------------------------------------------------
0979a8344 | Norbert Eicker | Thu, 22 Feb 2024 15:12:35 +0100

Implement --pset option for mpiexec
------------------------------------------------------------------------
7fa6128f6 | Norbert Eicker | Thu, 22 Feb 2024 15:10:31 +0100

Streamlining
------------------------------------------------------------------------
5cf1c25f1 | Norbert Eicker | Thu, 22 Feb 2024 15:05:01 +0100

Fix some poptOption entries
------------------------------------------------------------------------
3ec6bec3f | Norbert Eicker | Thu, 7 Mar 2024 18:06:22 +0100

More docu comment enhancement
------------------------------------------------------------------------
61197afcd | Stephan Krempel | Thu, 7 Mar 2024 16:57:47 +0100

Enhance function description
------------------------------------------------------------------------
77ada15c2 | Stephan Krempel | Thu, 7 Mar 2024 16:57:29 +0100

Fix typos
------------------------------------------------------------------------
d9aad0dfd | Norbert Eicker | Wed, 21 Feb 2024 16:49:21 +0100

Differentiate between -envlist and -genvlist in mpiexec

 - -envlist is per executable according to MPIch
 - -genvlist is global
 - Also adopt --exports, -e, --genv
 - Requires tweaks on how to propagate the environment to spawner
------------------------------------------------------------------------
bb8e5dd0f | Norbert Eicker | Wed, 21 Feb 2024 16:40:30 +0100

Differentiate between -env and -genv in mpiexec

 - -env is per executable according to MPIch
 - -genv is global
 - Also adopt --env, -E, --genv
------------------------------------------------------------------------
1604ac60c | Norbert Eicker | Wed, 21 Feb 2024 16:31:37 +0100

Differentiate between -envall and -genvall in mpiexec

 - -envall is per executable according to MPIch
 - -genvall is global
 - Also adopt --envall, -x
 - Requires tweaks on how to propagate the environment to spawner
------------------------------------------------------------------------
8ccab1176 | Norbert Eicker | Wed, 21 Feb 2024 14:01:17 +0100

Streamlining
------------------------------------------------------------------------
29d48e5d7 | Norbert Eicker | Wed, 21 Feb 2024 13:55:30 +0100

Simplify spawnSingleExecutable()'s interface
------------------------------------------------------------------------
a1bff7629 | Norbert Eicker | Wed, 21 Feb 2024 13:50:16 +0100

Fix typo in docu comment
------------------------------------------------------------------------
219851993 | Norbert Eicker | Wed, 21 Feb 2024 13:17:40 +0100

Streamlining
------------------------------------------------------------------------
c02a21035 | Norbert Eicker | Wed, 21 Feb 2024 13:10:39 +0100

Global variable do not need NULL/0 initialization
------------------------------------------------------------------------
b6a9c9700 | Norbert Eicker | Wed, 21 Feb 2024 12:56:49 +0100

Rework and unify mpiexec's command line options

 - Omit shortName for compatibility options
 - Rework descriptions
 - Fix many argument descriptions (some were ignored anyhow)
------------------------------------------------------------------------
723051b19 | Norbert Eicker | Wed, 21 Feb 2024 00:26:38 +0100

Streamlining
------------------------------------------------------------------------
d557c6136 | Norbert Eicker | Wed, 21 Feb 2024 00:22:44 +0100

Introduce PSI_propList()

 - This replaces most functionality of PSI_propEnvList()
------------------------------------------------------------------------
a78826f43 | Norbert Eicker | Wed, 21 Feb 2024 00:13:21 +0100

Allow to pass extra environment to PSI_spawnRsrvtn()
------------------------------------------------------------------------
1e6b6f7a2 | Norbert Eicker | Wed, 6 Mar 2024 21:29:31 +0100

PMIx spawn test: ensure it builds with ancient gcc, too
------------------------------------------------------------------------
4a6d2bd87 | Stephan Krempel | Wed, 6 Mar 2024 13:09:49 +0100

PMIx spawn test: Add job info array to spawn call
------------------------------------------------------------------------
6fe8c1170 | Stephan Krempel | Wed, 6 Mar 2024 13:02:54 +0100

PMIx spawn test: Do not print success after error
------------------------------------------------------------------------
0b5afd226 | Norbert Eicker | Tue, 5 Mar 2024 15:25:00 +0100

Whitespace and formatting changes
------------------------------------------------------------------------
c9bedcc41 | Stephan Krempel | Wed, 13 Dec 2023 17:04:07 +0100

PMIx spawn test: Adjust indentation format and add modeline
------------------------------------------------------------------------
9f0e707ec | Stephan Krempel | Wed, 13 Dec 2023 17:00:40 +0100

PMIx spawn test: Reformat to not exceed line length 80
------------------------------------------------------------------------
87b893181 | Stephan Krempel | Wed, 13 Dec 2023 16:58:01 +0100

PMIx spawn test: Prefix all failure messages with "ERROR: "
------------------------------------------------------------------------
325f590f8 | Sonja Happ | Mon, 11 Dec 2023 11:37:12 +0100

pspmix: improve spawn test
------------------------------------------------------------------------
4f9cad46c | Stephan Krempel | Fri, 8 Dec 2023 18:50:05 +0100

Extend PMIx spawn test programm

Try getting PMIX_PARENT_ID in spawnees
------------------------------------------------------------------------
12ddab0d4 | Stephan Krempel | Tue, 14 Nov 2023 15:06:05 +0100

Add PMIx spawn test
------------------------------------------------------------------------
7c98b42de | Norbert Eicker | Tue, 5 Mar 2024 14:57:25 +0100

Avoid extra colon in fwarn() output
------------------------------------------------------------------------
6eec59bf1 | Michael Rauh | Tue, 5 Mar 2024 10:50:37 +0100

Make more use of the flog() family in psaccount
------------------------------------------------------------------------
be988c0bd | Michael Rauh | Tue, 5 Mar 2024 10:39:47 +0100

Make use of fwarn()
------------------------------------------------------------------------
07737bf16 | Michael Rauh | Tue, 5 Mar 2024 10:35:51 +0100

Introduce fwarn() to psaccount
------------------------------------------------------------------------
2db83aab5 | Michael Rauh | Tue, 5 Mar 2024 10:34:00 +0100

Bugfix: don't stop psaccount collect scripts on temporary error
------------------------------------------------------------------------
cc6ad83cb | Norbert Eicker | Mon, 4 Mar 2024 17:02:20 +0100

Merge branch '5.1.59' once more
------------------------------------------------------------------------
2b8258536 | Stephan Krempel | Tue, 27 Feb 2024 13:44:05 +0100

psslurm: Fix PSSLURM_VERBOSE_PINNING evalutation

Adjust to getEnv interface changed after 5.1.59
------------------------------------------------------------------------
f064f6d0a | Norbert Eicker | Fri, 23 Feb 2024 13:30:22 +0100

Merge branch '5.1.59' once again
------------------------------------------------------------------------
bf5695bc2 | Norbert Eicker | Sat, 17 Feb 2024 16:42:32 +0100

Ensure that argv is NULL terminated
------------------------------------------------------------------------
75bedde83 | Norbert Eicker | Sat, 17 Feb 2024 16:41:53 +0100

Improve docu comments
------------------------------------------------------------------------
11a927d81 | Norbert Eicker | Sat, 17 Feb 2024 16:41:12 +0100

Streamlining
------------------------------------------------------------------------
48012ecc5 | Stephan Krempel | Sat, 21 Oct 2023 08:45:14 +0200

Put spawnee task creation into pluginspawn.[ch]

Create the function initSpawnTask() to enable reusing
it in pspmix
------------------------------------------------------------------------
7419a0d9a | Stephan Krempel | Fri, 2 Jun 2023 02:27:20 +0200

Move spawn definitions into common pluginspawn.[ch]
------------------------------------------------------------------------
ca1000746 | Norbert Eicker | Fri, 16 Feb 2024 15:31:49 +0100

Improve wording of docu comment
------------------------------------------------------------------------
4910db8f5 | Michael Rauh | Fri, 16 Feb 2024 14:53:25 +0100

Fix typos
------------------------------------------------------------------------
83972f7f9 | Norbert Eicker | Sun, 28 Jan 2024 22:44:35 +0100

Simplify startPElogueReq() argument list plus some rework
------------------------------------------------------------------------
23156e2b7 | Norbert Eicker | Sun, 28 Jan 2024 22:18:45 +0100

Booleanize
------------------------------------------------------------------------
6c70edb46 | Norbert Eicker | Sun, 28 Jan 2024 22:17:00 +0100

Make env_t opaque
------------------------------------------------------------------------
201dbfa12 | Norbert Eicker | Sun, 28 Jan 2024 21:25:15 +0100

Rework pskvs
------------------------------------------------------------------------
692f9b4d2 | Norbert Eicker | Sun, 28 Jan 2024 21:16:30 +0100

Introduce envInitialized()

 - Again this becomes meaningful as soon as env_t becomes opaque
------------------------------------------------------------------------
fcd16085a | Norbert Eicker | Sat, 27 Jan 2024 04:58:26 +0100

Rework envCat() docu
------------------------------------------------------------------------
7d896cadb | Norbert Eicker | Sat, 27 Jan 2024 03:58:13 +0100

Same for envClone()
------------------------------------------------------------------------
e43d72b9d | Norbert Eicker | Sat, 27 Jan 2024 02:10:15 +0100

Same for envGet()
------------------------------------------------------------------------
f21c037e7 | Norbert Eicker | Sat, 27 Jan 2024 00:13:01 +0100

Rework envSize(), envDumpIndex(), and envGetArray()

 - While this looks inefficient it will become elegant as soon as env_t
   becomes opaque
------------------------------------------------------------------------
106b88928 | Norbert Eicker | Fri, 26 Jan 2024 22:04:40 +0100

Rework envClone()
------------------------------------------------------------------------
97fc15e7e | Norbert Eicker | Fri, 26 Jan 2024 21:28:28 +0100

Ensure environment is not enlarged too early
------------------------------------------------------------------------
e4aa01c37 | Norbert Eicker | Fri, 26 Jan 2024 21:27:17 +0100

Remove envGetUint32() that was never used
------------------------------------------------------------------------
f08ead09a | Norbert Eicker | Fri, 26 Jan 2024 21:09:17 +0100

Remove the now obselete envInit()
------------------------------------------------------------------------
2affb8af2 | Norbert Eicker | Fri, 26 Jan 2024 22:36:06 +0100

Utilize envConstruct()
------------------------------------------------------------------------
566ed3c99 | Norbert Eicker | Fri, 26 Jan 2024 20:57:13 +0100

Differentiate script stop and finalize in psaccount
------------------------------------------------------------------------
63a0a91b4 | Norbert Eicker | Fri, 26 Jan 2024 19:38:46 +0100

Start using envNew()
------------------------------------------------------------------------
9f41d6e71 | Norbert Eicker | Fri, 26 Jan 2024 19:14:49 +0100

Introduce envConstruct()
------------------------------------------------------------------------
edd96525b | Norbert Eicker | Fri, 26 Jan 2024 19:00:05 +0100

Introduce envStealArray()
------------------------------------------------------------------------
b9693f449 | Norbert Eicker | Fri, 26 Jan 2024 18:27:01 +0100

Introduce envNew()
------------------------------------------------------------------------
011b49766 | Norbert Eicker | Fri, 26 Jan 2024 18:15:16 +0100

Allow to miss len in getStringArrayM() parameters
------------------------------------------------------------------------
2873f52f8 | Norbert Eicker | Fri, 26 Jan 2024 17:55:58 +0100

Streamlining
------------------------------------------------------------------------
48dfbe446 | Norbert Eicker | Fri, 26 Jan 2024 12:49:46 +0100

Rework setRlimitsFromEnv()
------------------------------------------------------------------------
ab5073084 | Norbert Eicker | Fri, 26 Jan 2024 10:54:40 +0100

More use of flog()/fdbg()
------------------------------------------------------------------------
b3074b604 | Norbert Eicker | Thu, 25 Jan 2024 19:28:09 +0100

Introduce envGetArray to avoid immediate access to vars
------------------------------------------------------------------------
933cc153e | Norbert Eicker | Thu, 25 Jan 2024 16:21:38 +0100

Remove direct access to env_t implementation

 - Mainly vars and cnt
------------------------------------------------------------------------
c5584f006 | Norbert Eicker | Thu, 25 Jan 2024 09:14:37 +0100

Hide implementation of env_t
------------------------------------------------------------------------
59e13b661 | Stephan Krempel | Wed, 14 Feb 2024 10:17:11 +0100

Add script to calculate cpumap from /proc/cpuinfo
------------------------------------------------------------------------
d921dc9c0 | Norbert Eicker | Wed, 14 Feb 2024 17:25:36 +0100

Ensure trailing newlines are actually detected
------------------------------------------------------------------------
21eb14a81 | Norbert Eicker | Fri, 2 Feb 2024 11:44:58 +0100

Ensure PSP_DD_CHILDRESREL is sent without delay (#177)
------------------------------------------------------------------------
91b9781f6 | Norbert Eicker | Fri, 2 Feb 2024 11:44:35 +0100

Enhance debug output in sendCHILDRESREL()
------------------------------------------------------------------------
61d145099 | Norbert Eicker | Fri, 2 Feb 2024 11:37:15 +0100

Omit trailing newlines from commands reported by pmiforwarder
------------------------------------------------------------------------
7e16ec53c | Norbert Eicker | Fri, 2 Feb 2024 11:32:14 +0100

Ensure KVS LEAVE is actually sent on psidforwarder's exit (#177)
------------------------------------------------------------------------
05a41c0d8 | Norbert Eicker | Wed, 14 Feb 2024 17:43:06 +0100

Yet another typo
------------------------------------------------------------------------
e99088930 | Michael Rauh | Wed, 14 Feb 2024 16:44:48 +0100

Fix typos
------------------------------------------------------------------------
26fe62b57 | Norbert Eicker | Wed, 14 Feb 2024 01:28:34 +0100

Introduce PSID_fwarn()
------------------------------------------------------------------------
56a9ddf20 | Norbert Eicker | Wed, 14 Feb 2024 00:42:00 +0100

Introduce PSID_fdwarn()
------------------------------------------------------------------------
09164eaf2 | Norbert Eicker | Wed, 14 Feb 2024 00:34:38 +0100

Omit unnecessary checks
------------------------------------------------------------------------
63867e218 | Norbert Eicker | Tue, 13 Feb 2024 23:06:45 +0100

Introduce logger_funcwarn()
------------------------------------------------------------------------
37df6227f | Norbert Eicker | Tue, 13 Feb 2024 22:53:03 +0100

Omit unnecessary type-casts
------------------------------------------------------------------------
53e089d55 | Norbert Eicker | Tue, 13 Feb 2024 22:52:45 +0100

Streamline logging facility's implementation
------------------------------------------------------------------------
f5f1e7ddb | Norbert Eicker | Tue, 13 Feb 2024 22:39:26 +0100

Major rework of logging facility's docu comments
------------------------------------------------------------------------
cbdd7582b | Norbert Eicker | Tue, 13 Feb 2024 22:28:41 +0100

Introduce magic value to logger_t and logger_isValid()
------------------------------------------------------------------------
7fb62d07a | Norbert Eicker | Tue, 13 Feb 2024 22:11:33 +0100

Streamline docu comments and fix typos
------------------------------------------------------------------------
f1773c859 | Norbert Eicker | Tue, 13 Feb 2024 22:01:35 +0100

Simplify parser_getDebugMask()/parser_setDebugMask()

 - Make them just a define
 - Remove now obsolete docu comments
------------------------------------------------------------------------
ae163bf5f | Norbert Eicker | Tue, 13 Feb 2024 21:52:21 +0100

Utilize logger_exit() in parser

 - Do not use and remove limited local implementation
------------------------------------------------------------------------
7176ca27a | Norbert Eicker | Tue, 13 Feb 2024 21:47:36 +0100

Fix format error unveiled by use of logger_funcprint()
------------------------------------------------------------------------
1c8c55cf2 | Norbert Eicker | Tue, 13 Feb 2024 21:46:02 +0100

Utilize logger_funcprint() in psgw plugin

 - Do not use and remove limited local implementation
------------------------------------------------------------------------
53b8d822c | Norbert Eicker | Thu, 8 Feb 2024 11:39:59 +0100

Make x-job tests switchable (between twisted and direct)
------------------------------------------------------------------------
4269acfee | Norbert Eicker | Thu, 8 Feb 2024 11:12:21 +0100

Extend spawn_rrcomm to utilize MPI_Comm_spawn_multiple()
------------------------------------------------------------------------
a89bb0be3 | Norbert Eicker | Thu, 8 Feb 2024 09:54:31 +0100

More detailed logs on failed check in spawn_rrcomm
------------------------------------------------------------------------
a3cd8f075 | Norbert Eicker | Thu, 8 Feb 2024 09:23:09 +0100

Rework logging in spawn_rrcomm
------------------------------------------------------------------------
1a8e408ab | Norbert Eicker | Wed, 7 Feb 2024 22:45:15 +0100

Fix psidsession information when spawning w/out Slurm
------------------------------------------------------------------------
8d253c050 | Norbert Eicker | Wed, 7 Feb 2024 21:28:20 +0100

Minor debug log enhancements
------------------------------------------------------------------------
fb0ae00b2 | Norbert Eicker | Wed, 7 Feb 2024 21:08:54 +0100

Enhance rrcomm plugin's syslog
------------------------------------------------------------------------
20c7bfee1 | Norbert Eicker | Wed, 7 Feb 2024 21:07:35 +0100

Add firstSpawner member to PStask_t
------------------------------------------------------------------------
1d0f96545 | Norbert Eicker | Wed, 7 Feb 2024 21:05:37 +0100

Introduce findResByRequester() in psidpartition
------------------------------------------------------------------------
da2bb5052 | Norbert Eicker | Wed, 7 Feb 2024 21:00:28 +0100

Use MPI_Comm_disconnet() instead of MPI_Comm_free()

 - This will avoid possible deadlocks due to spawning
------------------------------------------------------------------------
0bb0225af | Norbert Eicker | Wed, 7 Feb 2024 20:59:45 +0100

Streamline spawn_rrcomm
------------------------------------------------------------------------
e9ffc2d20 | Norbert Eicker | Wed, 7 Feb 2024 20:58:56 +0100

Enhance spawn_rrcomm error messages
------------------------------------------------------------------------
d6e32caf6 | Norbert Eicker | Wed, 7 Feb 2024 20:45:11 +0100

Enhance and streamline docu comments
------------------------------------------------------------------------
3d73a87bf | Norbert Eicker | Thu, 1 Feb 2024 14:07:59 +0100

Add Intel Xeon MAX topology in flat mode recorded with v2.2
------------------------------------------------------------------------
042d57e44 | Norbert Eicker | Wed, 31 Jan 2024 12:39:41 +0100

Merge branch '5.1.59' again
------------------------------------------------------------------------
972d0efa2 | Norbert Eicker | Mon, 29 Jan 2024 16:11:00 +0100

Merge branch '5.1.59'
------------------------------------------------------------------------
97fde5e89 | Norbert Eicker | Sun, 28 Jan 2024 23:06:38 +0100

Push rrcomm's plugin version to 2
------------------------------------------------------------------------
44fcca29e | Norbert Eicker | Sat, 27 Jan 2024 18:14:23 +0100

More detailed logs from test_rrcomm
------------------------------------------------------------------------
eee22657c | Norbert Eicker | Sat, 27 Jan 2024 18:11:24 +0100

Sprinkle some newlines over the syslog
------------------------------------------------------------------------
757c1ac13 | Norbert Eicker | Fri, 19 Jan 2024 15:07:27 +0100

Add Intel Xeon MAX topology recorded with v2.2
------------------------------------------------------------------------
5435a54e8 | Norbert Eicker | Fri, 19 Jan 2024 13:37:08 +0100

Remove double docu param
------------------------------------------------------------------------
caf19b3e6 | Michael Rauh | Fri, 19 Jan 2024 12:31:18 +0100

Add even more missing documentation
------------------------------------------------------------------------
50ca39a5d | Michael Rauh | Fri, 19 Jan 2024 12:14:06 +0100

Use message version from header instead of main psslurm protocol version
------------------------------------------------------------------------
8cd4b0ed7 | Michael Rauh | Fri, 19 Jan 2024 12:06:07 +0100

Make obsolete Slurm protocol versions eaiser to find
------------------------------------------------------------------------
a17c086dd | Michael Rauh | Fri, 19 Jan 2024 11:24:16 +0100

Add missing documentation
------------------------------------------------------------------------
9903153dc | Michael Rauh | Thu, 18 Jan 2024 13:10:43 +0100

Make more use of addUint32ArrayToMsg()
------------------------------------------------------------------------
5bc13eebe | Michael Rauh | Thu, 18 Jan 2024 13:00:33 +0100

Introduce addSlurmAddr() and getSlurmAddr()

 - unify packing of Slurm addresses
 - prework for the support of Slurm 23.11
------------------------------------------------------------------------
6c641b72e | Norbert Eicker | Thu, 11 Jan 2024 10:25:48 +0100

Drop support for OpenMPI "reserved ports" from psid

 - This marks PSP_DD_PROVIDEPARTRP and PSP_DD_PROVIDETASKRP as obsolete
 - This drops resPorts members from PStask_t and PSpart_request_t
------------------------------------------------------------------------
7bc7c78ee | Norbert Eicker | Thu, 11 Jan 2024 09:51:49 +0100

Drop support for now unused PSP_INFO_LIST_RESPORTS
------------------------------------------------------------------------
c9f26afcb | Norbert Eicker | Thu, 11 Jan 2024 09:44:50 +0100

Hook PSIDHOOK_MASTER_GETPART no longer called
------------------------------------------------------------------------
569937382 | Norbert Eicker | Thu, 11 Jan 2024 09:44:17 +0100

Partition option PART_OPT_RESPORTS no longer needed
------------------------------------------------------------------------
66d93a4d6 | Norbert Eicker | Thu, 11 Jan 2024 09:42:43 +0100

Remove references to PSI_OPENMPI environment
------------------------------------------------------------------------
d12174fb1 | Norbert Eicker | Thu, 11 Jan 2024 09:39:58 +0100

Get rid of the OpenMPI tweek in mpiexec

 - This is obsoleted for a long time by native Slurm support
------------------------------------------------------------------------
3bccb20aa | Michael Rauh | Tue, 28 Nov 2023 14:53:08 +0100

Update buildsystem
------------------------------------------------------------------------
49eb3cd4d | Michael Rauh | Tue, 28 Nov 2023 14:42:50 +0100

Remove obsolete psresport plugin

 - psresport was used for OpenMPI startup
 - replaced a long time ago by native pmix support via pspmix
------------------------------------------------------------------------
baf420c41 | Norbert Eicker | Thu, 11 Jan 2024 08:41:31 +0100

Unify argument names in PSI_spawn and adapt docu
------------------------------------------------------------------------
d9ad7821f | Norbert Eicker | Thu, 23 Nov 2023 09:00:05 +0100

Get rid of now obsolete functions in libpsi
------------------------------------------------------------------------
1ce110fe5 | Norbert Eicker | Thu, 23 Nov 2023 08:36:01 +0100

Get rid of starters for ancient MPI versions
------------------------------------------------------------------------
ab46ecd2e | Norbert Eicker | Thu, 11 Jan 2024 10:50:48 +0100

Drop support for task inheritance to PSDaemonProtocolVersion < 412

 - This was for psmgmt versions prior to 2018
 - This marks PSP_DD_NEWCHILD and PSP_DD_NEWPARENT as obsolete
------------------------------------------------------------------------


Version 5.1.59-5:
=================
------------------------------------------------------------------------
79c239fc9 | Norbert Eicker | Mon, 4 Mar 2024 14:10:02 +0100

Refine docu comment
------------------------------------------------------------------------
09da51a95 | Michael Rauh | Mon, 4 Mar 2024 12:32:06 +0100

Bugfix: ensure reading from cached pack info messages start
from the top of the buffer
------------------------------------------------------------------------


Version 5.1.59-4:
=================
------------------------------------------------------------------------
6e71c899a | Stephan Krempel | Thu, 22 Feb 2024 12:28:36 +0100

psslurm pinning: Respect step's threadsPerCore

Fix handling of srun's --threads-per-core that is no longer
used only for node selection, but should limit the actually
used threads per core on the nodes.
------------------------------------------------------------------------
42046d2fc | Stephan Krempel | Wed, 21 Feb 2024 20:39:55 +0100

psslurm: Introduce PSSLURM_VERBOSE_PINNING

If this environment variable is set, it prints additional
information to the user for debugging pinning issues.

This is meant for administrators and developers to easier
test changes especially coming with new Slurm versions.

Currently, this only prints the content of the cpuBindType
received from slurmctld, but is subject to be extended.
------------------------------------------------------------------------
2ab97d41f | Michael Rauh | Wed, 21 Feb 2024 14:43:00 +0100

Suppress more error messages if quiet flag is given in bpf_loader
------------------------------------------------------------------------
940212b50 | Michael Rauh | Wed, 21 Feb 2024 14:00:08 +0100

Adopt to changed return code of bpf_obj_get()
for newer libbpf versions 1.0.0 and above (jwt:#26118)
------------------------------------------------------------------------
6024b86c7 | Norbert Eicker | Wed, 21 Feb 2024 19:55:10 +0100

Streamline
------------------------------------------------------------------------
bce969f90 | Stephan Krempel | Wed, 21 Feb 2024 16:36:03 +0100

psslurm pinning: rework fillHints()

Fixes incorrect 'invalid hint' printed randomly depending
on the byte following the actual hintstr in memory.
------------------------------------------------------------------------


Version 5.1.59-3:
=================
------------------------------------------------------------------------
7d692ff62 | Michael Rauh | Wed, 31 Jan 2024 12:02:59 +0100

Improve BPF documentation
------------------------------------------------------------------------
e43088bb1 | Michael Rauh | Wed, 31 Jan 2024 11:32:07 +0100

Update bpf sourcecode to new map structure
------------------------------------------------------------------------
b2427aca6 | Michael Rauh | Tue, 30 Jan 2024 18:25:34 +0100

Update bpf README
------------------------------------------------------------------------
938abf3ed | Michael Rauh | Tue, 30 Jan 2024 18:16:27 +0100

Update bpf bytecode to map structure for
newer libbpf versions 1.0.0 and above
------------------------------------------------------------------------
ba21e18a5 | Michael Rauh | Tue, 30 Jan 2024 18:15:15 +0100

Upate buildsystem
------------------------------------------------------------------------
e87e59a3e | Michael Rauh | Tue, 30 Jan 2024 18:13:28 +0100

Rename bpf_cgroup_device to prevent automatic removal (#176)
------------------------------------------------------------------------


Version 5.1.59-2:
=================
------------------------------------------------------------------------
7712f979e | Norbert Eicker | Mon, 29 Jan 2024 00:56:28 +0100

Evict false positive warnings from syslog
------------------------------------------------------------------------


Version 5.1.59-1:
=================
------------------------------------------------------------------------
4d7afd093 | Norbert Eicker | Thu, 11 Jan 2024 13:41:12 +0100

Stop hardly blocking build of BPF support in RHEL9, Rocky9, etc.
------------------------------------------------------------------------
4bc47094b | Norbert Eicker | Thu, 11 Jan 2024 10:58:15 +0100

Cleanup half C++ include helper missed in 2017
------------------------------------------------------------------------


Version 5.1.59:
===============
------------------------------------------------------------------------
c4f960a03 | Norbert Eicker | Mon, 8 Jan 2024 19:41:55 +0100

IWYU fixes
------------------------------------------------------------------------
734e59c54 | Michael Rauh | Mon, 8 Jan 2024 18:17:15 +0100

Adopt new error behavior of Slurm 23.02 (jwt:#24558)

 - use /tmp if changing to working directory failed
 - error code ESCRIPT_CHDIR_FAILED was removed in 22.05
------------------------------------------------------------------------
290251c37 | Norbert Eicker | Mon, 8 Jan 2024 17:49:32 +0100

Make scan-build happy
------------------------------------------------------------------------
0e7da8703 | Norbert Eicker | Mon, 8 Jan 2024 17:16:01 +0100

Prevent unprobable out of bound read
------------------------------------------------------------------------
23097a478 | Norbert Eicker | Mon, 8 Jan 2024 14:53:22 +0100

Unify two references to hookExecForwarder()'s data
------------------------------------------------------------------------
88fd25fed | Norbert Eicker | Sun, 7 Jan 2024 20:03:09 +0100

Avoid unnecessary re-initialization of logger
------------------------------------------------------------------------
dae4265d5 | Norbert Eicker | Sun, 7 Jan 2024 17:48:00 +0100

Update buildsystem
------------------------------------------------------------------------
112de3541 | Norbert Eicker | Sat, 6 Jan 2024 17:37:23 +0100

Add spawn_rrcomm test for hierarchical use of RRComm
------------------------------------------------------------------------
d147178b1 | Norbert Eicker | Sat, 6 Jan 2024 17:34:19 +0100

Assume to be connected client supports protocoll version 2

 - Otherwise all piled up messages will be dropped (and sender informed)
------------------------------------------------------------------------
2aa39dcbd | Norbert Eicker | Sat, 6 Jan 2024 17:30:35 +0100

RRComm acts on job ranks
------------------------------------------------------------------------
274f76de8 | Norbert Eicker | Sat, 6 Jan 2024 17:27:52 +0100

No RRComm in service processes

 - The service srun for spawn will spoil RRCOMM_SOCKET_ENV
------------------------------------------------------------------------
45612bc62 | Norbert Eicker | Sat, 6 Jan 2024 17:26:41 +0100

Add more error and debug log to rrcomm plugin
------------------------------------------------------------------------
fbb7ac7ac | Norbert Eicker | Wed, 29 Nov 2023 09:58:30 +0100

Add support of cross-job RRComm messages

 - Push RRComm protocoll version to 2
------------------------------------------------------------------------
f92f05419 | Norbert Eicker | Tue, 28 Nov 2023 21:13:00 +0100

Bugfix: No dropper for PSP_PLUG_RRCOMM in psidforwarder
------------------------------------------------------------------------
308f64fa6 | Norbert Eicker | Tue, 28 Nov 2023 14:47:33 +0100

Introduce RRC_getJobID()
------------------------------------------------------------------------
3bbfcb519 | Norbert Eicker | Tue, 28 Nov 2023 14:38:50 +0100

Introduce RRC_getVersion()
------------------------------------------------------------------------
c02c20a9d | Norbert Eicker | Mon, 30 Oct 2023 20:05:15 +0100

Move RRComm's address cache into its own sources
------------------------------------------------------------------------
0502cd69e | Michael Rauh | Mon, 8 Jan 2024 11:23:07 +0100

Actually fix segmentation fault
------------------------------------------------------------------------
3aff80ba5 | Michael Rauh | Mon, 8 Jan 2024 10:50:29 +0100

Actually unset the correct environment variable
------------------------------------------------------------------------
95b9b4717 | Michael Rauh | Mon, 8 Jan 2024 10:48:57 +0100

Fix possible segfault
------------------------------------------------------------------------
44a3e493a | Norbert Eicker | Sun, 7 Jan 2024 19:35:45 +0100

Whitespace fix
------------------------------------------------------------------------
673a9baea | Michael Rauh | Fri, 5 Jan 2024 13:33:35 +0100

Fix logic error unveiled by scan-build
------------------------------------------------------------------------
dccdfde90 | Michael Rauh | Fri, 5 Jan 2024 13:33:05 +0100

Add more NULL pointer checks
------------------------------------------------------------------------
9ac5a6785 | Michael Rauh | Fri, 5 Jan 2024 13:31:29 +0100

Avoid uninitialized argument values unveiled by scan-build
------------------------------------------------------------------------
858b9dd49 | Michael Rauh | Fri, 5 Jan 2024 13:30:27 +0100

Remove dead initialization unveiled by scan-build
------------------------------------------------------------------------
40ce7c734 | Michael Rauh | Fri, 5 Jan 2024 13:29:45 +0100

Avoid multiple calls to getenv() and help scan-build understand the code
------------------------------------------------------------------------
fa5654d07 | Michael Rauh | Fri, 5 Jan 2024 13:27:31 +0100

Help scan-build understand the code
------------------------------------------------------------------------
535ea010c | Michael Rauh | Fri, 5 Jan 2024 13:26:18 +0100

Avoid invalid call to fclose() unveiled by scan-build
------------------------------------------------------------------------
a1de70908 | Michael Rauh | Fri, 5 Jan 2024 13:20:31 +0100

Suppress scan-build false positives
------------------------------------------------------------------------
38e3df6ed | Norbert Eicker | Sun, 7 Jan 2024 20:07:00 +0100

Prevent memory leak when pscommon's logger is re-initialized
------------------------------------------------------------------------
5362323e0 | Norbert Eicker | Thu, 4 Jan 2024 17:16:51 +0100

Prevent segfault when psaccount gets insufficient answer
------------------------------------------------------------------------
e559183df | Norbert Eicker | Thu, 4 Jan 2024 17:12:46 +0100

Enhance error log
------------------------------------------------------------------------
2802df2d9 | Norbert Eicker | Thu, 4 Jan 2024 17:11:58 +0100

Ensure pluginforwarder sends sufficient data
------------------------------------------------------------------------
a9ce2706d | Norbert Eicker | Thu, 4 Jan 2024 13:39:03 +0100

Hide slurmutils' depenency when build w/out SPANK
------------------------------------------------------------------------
4a75e7bea | Norbert Eicker | Wed, 3 Jan 2024 21:00:11 +0100

Ensure slurmutils is installed with matching Slurm

 - SPANK API and plugins have a hardcoded version dependency
------------------------------------------------------------------------
91cf44981 | Norbert Eicker | Wed, 3 Jan 2024 19:31:50 +0100

Relax psslurm's RPM dependency on slurmutils to Recommends
------------------------------------------------------------------------
6bd7a2a6b | Michael Rauh | Tue, 28 Nov 2023 17:33:21 +0100

Move global SPANK API symbols to slurmutils rpm
------------------------------------------------------------------------
e722b7ef7 | Norbert Eicker | Wed, 3 Jan 2024 02:53:54 +0100

Update build system
------------------------------------------------------------------------
c42bbd608 | Norbert Eicker | Wed, 3 Jan 2024 02:48:19 +0100

Remove the outdated cgroup plugin (#174)
------------------------------------------------------------------------
f96c6d107 | Michael Rauh | Wed, 3 Jan 2024 15:09:01 +0100

Add missing check in unpackReqJobID()
------------------------------------------------------------------------
184ea6fba | Michael Rauh | Wed, 3 Jan 2024 15:05:43 +0100

Don't free the wrong structure
------------------------------------------------------------------------
0212c5d50 | Michael Rauh | Wed, 3 Jan 2024 15:04:09 +0100

Add missing free() in freeRespNodeReg()
------------------------------------------------------------------------
88fd607b9 | Michael Rauh | Wed, 3 Jan 2024 14:35:55 +0100

Don't omit syslog error messages
------------------------------------------------------------------------
662d22601 | Michael Rauh | Wed, 3 Jan 2024 14:12:33 +0100

Send correct error message for handleReattachTasks()
------------------------------------------------------------------------
dc0b4acd4 | Norbert Eicker | Wed, 3 Jan 2024 02:07:01 +0100

IWYU fixes
------------------------------------------------------------------------
bddccbb3f | Norbert Eicker | Wed, 3 Jan 2024 01:42:12 +0100

Improve readability
------------------------------------------------------------------------
29ccb85a1 | Norbert Eicker | Wed, 3 Jan 2024 01:40:51 +0100

Improve naming of include #define
------------------------------------------------------------------------
3280ef063 | Norbert Eicker | Wed, 3 Jan 2024 01:40:28 +0100

Avoid goto
------------------------------------------------------------------------
d46979fe5 | Norbert Eicker | Wed, 3 Jan 2024 01:38:36 +0100

More use of psslurm's flog()
------------------------------------------------------------------------
6da572509 | Norbert Eicker | Wed, 3 Jan 2024 01:17:16 +0100

Bugfix: Avoid double free()
------------------------------------------------------------------------
0475fbdb6 | Norbert Eicker | Wed, 3 Jan 2024 01:16:12 +0100

Enhance docu comment
------------------------------------------------------------------------
a713900cf | Norbert Eicker | Wed, 3 Jan 2024 01:15:13 +0100

Hide checkPrivMsg()
------------------------------------------------------------------------
cb531fb95 | Norbert Eicker | Wed, 3 Jan 2024 01:13:38 +0100

Streamlining
------------------------------------------------------------------------
9c6aedc0f | Norbert Eicker | Wed, 3 Jan 2024 01:11:30 +0100

Make more use of serialStrErr()
------------------------------------------------------------------------
606a8bb7a | Norbert Eicker | Wed, 3 Jan 2024 01:02:36 +0100

Unify indentation
------------------------------------------------------------------------
f49d8356a | Norbert Eicker | Tue, 2 Jan 2024 20:08:27 +0100

Hide unpackReqSignalTasks() from global namespace
------------------------------------------------------------------------
6a645cb15 | Norbert Eicker | Tue, 2 Jan 2024 20:02:56 +0100

Improve readability
------------------------------------------------------------------------
00f92e84f | Norbert Eicker | Tue, 2 Jan 2024 20:01:18 +0100

Bugfix: Ensure all information can be fetched from blob
------------------------------------------------------------------------
0a66d1f80 | Norbert Eicker | Tue, 2 Jan 2024 20:00:00 +0100

Ensure to ignore possible trailing garbage in buffers
------------------------------------------------------------------------
eb0e3cfc8 | Norbert Eicker | Tue, 2 Jan 2024 19:57:21 +0100

Unify order of function arguments
------------------------------------------------------------------------
784b5f2ee | Norbert Eicker | Tue, 2 Jan 2024 19:56:39 +0100

Streamlining
------------------------------------------------------------------------
6bffd15ca | Norbert Eicker | Tue, 2 Jan 2024 19:51:32 +0100

Streamline
------------------------------------------------------------------------
ea3574b93 | Norbert Eicker | Tue, 2 Jan 2024 19:49:43 +0100

Fix return type
------------------------------------------------------------------------
40c678ac2 | Norbert Eicker | Tue, 2 Jan 2024 19:47:51 +0100

Add additional checks to avoid NULL pointer dereference
------------------------------------------------------------------------
bfdfc2b1b | Norbert Eicker | Tue, 2 Jan 2024 19:44:06 +0100

Rework psslurm's resetConnection()

 - This shall ensure that no dangling unpackPtr's will be used
------------------------------------------------------------------------
01dd76010 | Norbert Eicker | Tue, 2 Jan 2024 19:42:29 +0100

Update and improve docu comments
------------------------------------------------------------------------
eee0396b8 | Michael Rauh | Thu, 28 Dec 2023 10:37:26 +0100

Add more checks for unpacking Slurm messages
------------------------------------------------------------------------
54d4d8b0f | Michael Rauh | Wed, 27 Dec 2023 18:08:12 +0100

Bugfix: prevent possible DOS in psserial (#172)

 - add sanity checks to ensure unpacking from the given data buffer is save
 - check for previous unpack errors as well as that sufficient data is left to read
 - set meaningful error codes if unpacking fails
------------------------------------------------------------------------
045ec0aa2 | Michael Rauh | Wed, 27 Dec 2023 17:17:04 +0100

Now use freeUnpackMsgData() in main psslurm message handler

 - let the main message handler automatically free the unpacked data
 - remove gotos of various RPC handler
 - allow RPC handler to return Slurm RC code
 - let the main message handler automatically send Slurm RC code
 - introduce SLURM_NO_RC to prevent the automatic sending of a
   Slurm RC message
------------------------------------------------------------------------
f286191f3 | Michael Rauh | Wed, 27 Dec 2023 17:14:24 +0100

Let BCast_delete() handle NULL pointer
------------------------------------------------------------------------
b3463d8ae | Michael Rauh | Wed, 27 Dec 2023 17:10:59 +0100

Introduce freeUnpackMsgData()

 - free a unpack buffer by calling the appropriate free functions
   determined by the Slurm message type
 - this is analog to the unpack functions
------------------------------------------------------------------------
27c8fbf5b | Michael Rauh | Wed, 27 Dec 2023 11:44:17 +0100

Let REQUEST_JOB_ID be handled by common psslurm pack function
------------------------------------------------------------------------
efac9d5cb | Michael Rauh | Thu, 21 Dec 2023 16:00:58 +0100

Update buildsystem
------------------------------------------------------------------------
c200595e7 | Michael Rauh | Thu, 21 Dec 2023 16:00:11 +0100

Introduce psslurmprototypes
------------------------------------------------------------------------
f3cfba476 | Michael Rauh | Thu, 21 Dec 2023 14:56:19 +0100

Bugfix: set correct size for Req_Signal_Tasks_t and improve
some other similar initialisation
------------------------------------------------------------------------
16596b9a8 | Michael Rauh | Wed, 20 Dec 2023 14:04:41 +0100

Use PS_DataBuffer for unpacking messages using psserial functions
------------------------------------------------------------------------
bc5f4a539 | Michael Rauh | Wed, 3 Jan 2024 14:02:24 +0100

Set correct packTaskOffset for accounting data of pack jobs
------------------------------------------------------------------------
677a75162 | Michael Rauh | Tue, 2 Jan 2024 13:01:31 +0100

Fix parameter type for findTaskByChildTID()
------------------------------------------------------------------------
4aa4888ea | Norbert Eicker | Tue, 19 Dec 2023 21:29:40 +0100

Fix yet another memory leak
------------------------------------------------------------------------
b2ac3292b | Norbert Eicker | Tue, 19 Dec 2023 21:20:40 +0100

Fix various memory leaks
------------------------------------------------------------------------
03644a800 | Norbert Eicker | Tue, 28 Nov 2023 10:57:16 +0100

Omit the now obsolete Step_findByTaskEnv()
------------------------------------------------------------------------
9e1a058d0 | Norbert Eicker | Tue, 28 Nov 2023 10:56:37 +0100

Make use of the cached step within forwarder tasks
------------------------------------------------------------------------
561be01ca | Norbert Eicker | Tue, 28 Nov 2023 10:48:43 +0100

Whitespace fix
------------------------------------------------------------------------
c41ef3bcf | Norbert Eicker | Tue, 28 Nov 2023 10:36:53 +0100

Rework getJobIDbyForwarder() to identifyStepByTaskEnv()

 - This will cache the identified step into the task's info list
------------------------------------------------------------------------
ef33e55c8 | Norbert Eicker | Tue, 28 Nov 2023 10:02:24 +0100

Add step info to logger's task info list
------------------------------------------------------------------------
85ee6335f | Norbert Eicker | Tue, 28 Nov 2023 09:55:19 +0100

Add one todo
------------------------------------------------------------------------
954ebe6cf | Norbert Eicker | Tue, 28 Nov 2023 09:54:32 +0100

Revert loop logic
------------------------------------------------------------------------
a34e67adb | Norbert Eicker | Fri, 24 Nov 2023 19:01:20 +0100

Simplify psslurm's addTask() interface
------------------------------------------------------------------------
5b6cee838 | Norbert Eicker | Wed, 22 Nov 2023 18:57:10 +0100

Rework psidtask's memory cleanup

 - Will init, cleanup and garbage collect info lists
 - Use hook for cleanup instead of explicit call
------------------------------------------------------------------------
4df43787f | Norbert Eicker | Wed, 22 Nov 2023 10:46:42 +0100

PStask_t facility needs initialization for extra info
------------------------------------------------------------------------
7248ddd04 | Norbert Eicker | Wed, 22 Nov 2023 10:45:04 +0100

Rework PStask_t's handling of extra information (#156)

 - Move from simple pointer to list of info containers
------------------------------------------------------------------------
dd58d80ff | Norbert Eicker | Wed, 22 Nov 2023 09:53:26 +0100

Improve docu comments
------------------------------------------------------------------------
64b25258a | Norbert Eicker | Wed, 22 Nov 2023 09:39:56 +0100

Fix typos in docu comments
------------------------------------------------------------------------
a3ff43ffa | Norbert Eicker | Wed, 22 Nov 2023 09:27:09 +0100

Make PStask_init() and PStask_reinit() private and rename them
------------------------------------------------------------------------
89caa5c2c | Norbert Eicker | Tue, 21 Nov 2023 21:59:29 +0100

Fix typo rendering the documentation wrong
------------------------------------------------------------------------
5b79bd41d | Norbert Eicker | Wed, 3 Jan 2024 03:12:40 +0100

Update visible copyrights in psiadmin
------------------------------------------------------------------------
11db240e9 | Michael Rauh | Fri, 29 Dec 2023 12:12:41 +0100

Bugfix: allow psmgmt to be built without SPANK support (#171)
------------------------------------------------------------------------
d5554acff | Norbert Eicker | Tue, 19 Dec 2023 20:38:46 +0100

Enable compiler to detect changes of derived types
------------------------------------------------------------------------
2a985abf5 | Michael Rauh | Tue, 19 Dec 2023 11:18:29 +0100

Fix packing of boolean for big endian
------------------------------------------------------------------------
e60e6da6a | Norbert Eicker | Tue, 5 Dec 2023 11:20:31 +0100

More type verifying psserial functions
------------------------------------------------------------------------
37280fa3d | Norbert Eicker | Tue, 5 Dec 2023 08:47:13 +0100

Whitespace fixes
------------------------------------------------------------------------
4b1804cbe | Michael Rauh | Mon, 4 Dec 2023 15:02:19 +0100

Now resolve stricter compiler type warnings
------------------------------------------------------------------------
f7f0cf74b | Michael Rauh | Mon, 4 Dec 2023 14:47:23 +0100

Add psserial pack/unpack functions for bool type
------------------------------------------------------------------------
fdda577b4 | Michael Rauh | Mon, 4 Dec 2023 14:34:07 +0100

Enable the compiler to verify types for more psserial functions
------------------------------------------------------------------------
fd66dc1ca | Norbert Eicker | Mon, 18 Dec 2023 19:07:55 +0100

Fix typo
------------------------------------------------------------------------
e8503aa0e | Norbert Eicker | Mon, 18 Dec 2023 19:04:22 +0100

Simplify doSpawn()'s return value
------------------------------------------------------------------------
55a6fb100 | Norbert Eicker | Thu, 16 Nov 2023 19:19:40 +0100

Remove the now obsolete PSI_getSlots()
------------------------------------------------------------------------
4237f4c1f | Norbert Eicker | Thu, 16 Nov 2023 19:14:11 +0100

Optimize PSI_spawnRsrvtn() (#155)

 - Do not wait for all answers after NODES_CHUNK tasks were spawned
   before moving to the next chunk
------------------------------------------------------------------------
ad21979fc | Norbert Eicker | Thu, 16 Nov 2023 00:05:28 +0100

Split PSI_getSlots() into PSI_requestSlots() and PSI_extractSlots()
------------------------------------------------------------------------
1cf2b6b7c | Norbert Eicker | Wed, 15 Nov 2023 23:29:47 +0100

Do not receive message in handleAnswer() but outside
------------------------------------------------------------------------
44257eb32 | Norbert Eicker | Wed, 15 Nov 2023 23:20:10 +0100

Adjust rank for PSP_CD_SPAWNFAILED as soon as possible
------------------------------------------------------------------------
89b23a273 | Norbert Eicker | Wed, 15 Nov 2023 23:18:19 +0100

Simplify handleAnswer for PSP_CD_SPAWNFAILED

 - those come in fact always with correct rank
------------------------------------------------------------------------
89450ac43 | Norbert Eicker | Wed, 15 Nov 2023 00:51:25 +0100

Use task instead of process where appropriate
------------------------------------------------------------------------
65aae6820 | Norbert Eicker | Wed, 15 Nov 2023 00:48:46 +0100

Rework dospawn() to doSpawn()

 - Handling the helper task structure outside doSpawn() allows for reuse
   of the task in large spawns
------------------------------------------------------------------------
4eb8e6b9c | Norbert Eicker | Wed, 15 Nov 2023 00:30:38 +0100

Rework docu comments
------------------------------------------------------------------------
427dd40f8 | Norbert Eicker | Tue, 14 Nov 2023 23:04:09 +0100

Extract helper task creation from dospawn()

 - Move this into createSpawnTask()
------------------------------------------------------------------------
11057cc1d | Norbert Eicker | Tue, 14 Nov 2023 22:14:29 +0100

Simplify psispawn's internal APIs to get rid of TID arrays
------------------------------------------------------------------------
1477a287f | Norbert Eicker | Tue, 14 Nov 2023 22:10:55 +0100

Get rid of PSI_spawnStrictHW()
------------------------------------------------------------------------
8c6fe645d | Norbert Eicker | Tue, 14 Nov 2023 21:44:35 +0100

Simplify PSI_spawn*() API
------------------------------------------------------------------------
0803d0498 | Norbert Eicker | Tue, 14 Nov 2023 20:43:23 +0100

Remove unused PSI_spawnSingle()
------------------------------------------------------------------------
811e19813 | Norbert Eicker | Tue, 14 Nov 2023 19:15:58 +0100

Drop support to spawn to PSProtocolVersion < 341

 - This was for psmgmt versions prior to 2019
------------------------------------------------------------------------
556b2d538 | Michael Rauh | Mon, 18 Dec 2023 16:06:52 +0100

Make protocol version checks easier to find
------------------------------------------------------------------------
eaa0b517d | Michael Rauh | Mon, 18 Dec 2023 15:40:29 +0100

Drop obsolete version check
------------------------------------------------------------------------
9364c386a | Michael Rauh | Thu, 23 Nov 2023 14:44:20 +0100

Drop support for Slurm 19.05 protocol
------------------------------------------------------------------------
6148e0ea3 | Norbert Eicker | Tue, 5 Dec 2023 11:24:44 +0100

IWYU fixes (after update to version 0.21)
------------------------------------------------------------------------
7fd096b59 | Michael Rauh | Mon, 18 Dec 2023 14:21:07 +0100

Improve comment
------------------------------------------------------------------------
5160330b5 | Michael Rauh | Mon, 18 Dec 2023 14:17:04 +0100

Remove unnecessary checks
------------------------------------------------------------------------
19c7b46c2 | Michael Rauh | Mon, 18 Dec 2023 14:14:15 +0100

Prevent possible segfault and remove obsolete TODO
------------------------------------------------------------------------
691ff6e0b | Michael Rauh | Wed, 13 Dec 2023 09:23:16 +0100

Execute SPANK hooks in batchscript context (deep:#3325)
------------------------------------------------------------------------
737825da9 | Michael Rauh | Wed, 13 Dec 2023 09:09:03 +0100

Let hookFinalize access the exit status of the child
------------------------------------------------------------------------
4cb116185 | Michael Rauh | Tue, 12 Dec 2023 16:58:17 +0100

Set correct step memory limit for SPANK
------------------------------------------------------------------------
bb484b2ab | Michael Rauh | Tue, 12 Dec 2023 13:48:10 +0100

Set correct job memory limit for SPANK
------------------------------------------------------------------------
9b556fa36 | Norbert Eicker | Thu, 14 Dec 2023 16:08:35 +0100

Update build system
------------------------------------------------------------------------
c8c908fc9 | Peter Niessen | Thu, 14 Dec 2023 14:58:54 +0100

added generic energy readout script
------------------------------------------------------------------------
cc0e7101e | Peter Niessen | Thu, 14 Dec 2023 14:58:34 +0100

added generic energy readout script
------------------------------------------------------------------------
9b99fde26 | Norbert Eicker | Fri, 8 Dec 2023 15:16:51 +0100

Merge branch '5.1.58'
------------------------------------------------------------------------
163b09131 | Michael Rauh | Wed, 22 Nov 2023 16:30:20 +0100

Fix typo
------------------------------------------------------------------------
f384715b5 | Michael Rauh | Wed, 22 Nov 2023 15:42:10 +0100

Fix typo
------------------------------------------------------------------------
787519dde | Michael Rauh | Wed, 22 Nov 2023 15:08:51 +0100

Fix typo
------------------------------------------------------------------------
e85656d36 | Norbert Eicker | Fri, 10 Nov 2023 19:32:27 +0100

Change signature of PSID_log()
------------------------------------------------------------------------
f881b2ea6 | Norbert Eicker | Fri, 10 Nov 2023 19:29:12 +0100

Enhance docu comments
------------------------------------------------------------------------
0211e6366 | Norbert Eicker | Fri, 10 Nov 2023 19:22:54 +0100

Copyright fixes
------------------------------------------------------------------------
aeaff70ba | Norbert Eicker | Fri, 10 Nov 2023 19:12:00 +0100

Do not call PSID_log() in test plugins
------------------------------------------------------------------------
50472ceb3 | Norbert Eicker | Fri, 10 Nov 2023 18:08:38 +0100

Replace PSID_log() as much as possible
------------------------------------------------------------------------
e0820a05b | Norbert Eicker | Fri, 10 Nov 2023 14:20:51 +0100

Introduce PSID_dbg()

 - This is identical to PSID_log() for the time being but will be will
   be different one PSID_log() does not need the -1 level any more
------------------------------------------------------------------------


Version 5.1.58-1:
=================
------------------------------------------------------------------------
fce12898b | Norbert Eicker | Thu, 7 Dec 2023 18:12:13 +0100

Bugfix: sss-nss re-uses closed fd (#159/jwt:#20747)

 - When sssd's memory cache is enabled it might step upon a replaced
   file-descriptor and destroy in some cases the connection between the
   psidforwarder and the to become client process
------------------------------------------------------------------------
73cb981e9 | Norbert Eicker | Thu, 7 Dec 2023 12:57:26 +0100

Man-pages of getpwuid_r() et al. do not guarantee that errno is set
------------------------------------------------------------------------
86da8a327 | Norbert Eicker | Thu, 7 Dec 2023 18:33:04 +0100

Bugfix: prevent segfault from termJail() (jwt:#24361)
------------------------------------------------------------------------
771774d52 | Norbert Eicker | Wed, 6 Dec 2023 21:30:33 +0100

librrcomm needs -fPIC to be linked into libpscom
------------------------------------------------------------------------
5539b3a26 | Norbert Eicker | Wed, 6 Dec 2023 00:32:02 +0100

Bugfix: Ensure nLocalSlots is initialized (#162/jwt:#24377)
------------------------------------------------------------------------


Version 5.1.58:
===============
------------------------------------------------------------------------
01410ae7d | Norbert Eicker | Tue, 14 Nov 2023 15:07:24 +0100

Add the now missing newlines again
------------------------------------------------------------------------
6fc253d7b | Norbert Eicker | Tue, 14 Nov 2023 15:05:19 +0100

Work around unknown __VA_OPT__ in GCC prior 8.0

 - also remove trailing \n from ulog()
------------------------------------------------------------------------
1bcf190e0 | Stephan Krempel | Tue, 14 Nov 2023 13:27:54 +0100

psslurmpin: Fix newlines at output to user
------------------------------------------------------------------------
3ff570c58 | Michael Rauh | Tue, 14 Nov 2023 12:18:32 +0100

Show psmgmt version instead of psslurm plugin version
in scontrol node info
------------------------------------------------------------------------
21b2196db | Norbert Eicker | Mon, 13 Nov 2023 19:22:47 +0100

IWYU fixes
------------------------------------------------------------------------
14fad8d10 | Stephan Krempel | Mon, 13 Nov 2023 13:01:47 +0100

psslurmpin: Small fix and check mask also for mask_ldom
------------------------------------------------------------------------
96d6e5a64 | Michael Rauh | Mon, 13 Nov 2023 14:32:04 +0100

Improve jail script logging
------------------------------------------------------------------------
fc7997c9b | Norbert Eicker | Fri, 10 Nov 2023 20:07:13 +0100

Merge branch '5.1.57' again
------------------------------------------------------------------------
0e1241b16 | Stephan Krempel | Thu, 9 Nov 2023 13:23:15 +0100

psslurmpin: Enable error output to user from psidfw
------------------------------------------------------------------------
0cb117bb2 | Stephan Krempel | Thu, 9 Nov 2023 12:21:54 +0100

Fix typo
------------------------------------------------------------------------
dc56fd4c6 | Norbert Eicker | Thu, 9 Nov 2023 09:30:51 +0100

Introduce PSIDfwd_inForwarder()
------------------------------------------------------------------------
d5f0e7278 | Stephan Krempel | Wed, 8 Nov 2023 17:59:48 +0100

psslurmpin: Consolidate error outputs
------------------------------------------------------------------------
9632a0e52 | Stephan Krempel | Wed, 8 Nov 2023 16:50:44 +0100

Fix for threadsPerCore != 2
------------------------------------------------------------------------
5554c8a6a | Stephan Krempel | Wed, 8 Nov 2023 16:50:13 +0100

Fix type
------------------------------------------------------------------------
c2ab91824 | Norbert Eicker | Mon, 6 Nov 2023 19:12:38 +0100

Fix typo in docu comment
------------------------------------------------------------------------
72e65f17b | Stephan Krempel | Mon, 30 Oct 2023 14:42:16 +0100

psslurm: Fix buffer size
------------------------------------------------------------------------
980cb84b4 | Stephan Krempel | Sat, 21 Oct 2023 04:19:05 +0200

psslurmpin: Consequently use flog() and fdbg()
------------------------------------------------------------------------
54ac31bfc | Stephan Krempel | Sat, 21 Oct 2023 03:56:53 +0200

psslurm: Print to user if pinning to all threads
------------------------------------------------------------------------
1037b9b6c | Stephan Krempel | Fri, 20 Oct 2023 17:51:41 +0200

psslurm: Check validity of cpu_mask string
------------------------------------------------------------------------
9ab81f0b3 | Stephan Krempel | Fri, 20 Oct 2023 16:15:09 +0200

psslurm: Start using termJobAfterMsg mechanism
------------------------------------------------------------------------
a3f557349 | Stephan Krempel | Fri, 20 Oct 2023 11:21:49 +0200

psslurm: Include threadsPerTask into pininfo
------------------------------------------------------------------------
5e7f7e1cc | Stephan Krempel | Fri, 20 Oct 2023 04:05:16 +0200

psslurm: Warn about cpu_map with cpus-per-task > 1

This is an invalid combination.
------------------------------------------------------------------------
98daa1142 | Stephan Krempel | Fri, 20 Oct 2023 03:33:29 +0200

psslurm: Handle hint compute_bound
------------------------------------------------------------------------
46f66fc55 | Stephan Krempel | Fri, 20 Oct 2023 03:32:07 +0200

psslurm: Rework pinning error output

Now report pinning problems directly to srun's strerr
not only to syslog.
------------------------------------------------------------------------
36389da5d | Stephan Krempel | Thu, 19 Oct 2023 21:08:37 +0200

psslurm: Fix typo and comment
------------------------------------------------------------------------
c43ab0c1c | Stephan Krempel | Thu, 19 Oct 2023 21:07:32 +0200

psslurm: Rework GPU pinning error reporting
------------------------------------------------------------------------
d1e50e884 | Stephan Krempel | Wed, 13 Sep 2023 01:36:49 +0200

psslurm: Report invalid bind map and mask to the user

Not only write message into log, but to strerr of the job as well.
------------------------------------------------------------------------
dbdb44d61 | Stephan Krempel | Wed, 13 Sep 2023 01:34:59 +0200

psslurm: Check that CPU IDs in bind map are in step coremap
------------------------------------------------------------------------
8c807fc87 | Stephan Krempel | Fri, 8 Sep 2023 10:22:38 +0200

psslurm: Pin only to cores allowed by the step

The fallback if no pinning could be found for a process
was to pin it to all cores, now it is to pin it only to
all cores allowed by the step core map.
------------------------------------------------------------------------
fc48261ac | Norbert Eicker | Tue, 7 Nov 2023 16:38:51 +0100

Check more messages on truncation
------------------------------------------------------------------------
b8ac146c0 | Michael Rauh | Mon, 6 Nov 2023 14:47:00 +0100

Update buildsystem
------------------------------------------------------------------------
86bb85725 | Michael Rauh | Mon, 6 Nov 2023 14:45:27 +0100

Add support for newer libbpf versions 1.0.0 and above
------------------------------------------------------------------------
b3e10dde1 | Michael Rauh | Tue, 24 Oct 2023 11:44:23 +0200

Enhance termAfterFWmsg mechanism for steps
 - allow to specify a Slurm error code which is forwarded to srun
------------------------------------------------------------------------
a44720530 | Michael Rauh | Mon, 23 Oct 2023 18:13:47 +0200

Fix typos
------------------------------------------------------------------------
ee490d9e8 | Michael Rauh | Fri, 20 Oct 2023 15:57:32 +0200

Add flag termAfterFWmsg to job and step

 - will terminate the job/step immediately after sending queued
   error messages
 - prevents the start of any user processes
------------------------------------------------------------------------
17fe059f8 | Norbert Eicker | Sun, 5 Nov 2023 23:25:24 +0100

Bugfix: ensure reservation request is queued early enough
------------------------------------------------------------------------
562c5935a | Norbert Eicker | Wed, 1 Nov 2023 22:38:45 +0100

Bugfix: only peek into Step where appropriate
------------------------------------------------------------------------
b24833ad4 | Norbert Eicker | Wed, 1 Nov 2023 22:37:36 +0100

Do not complain about logger's missing environment
------------------------------------------------------------------------
a2fa2df4a | Norbert Eicker | Wed, 1 Nov 2023 22:36:30 +0100

Minor enhancements (whitespace, docu comment, etc)
------------------------------------------------------------------------
e63fca32e | Michael Rauh | Mon, 30 Oct 2023 16:06:01 +0100

Improve error message of Step_findByTaskEnv()
------------------------------------------------------------------------
304c2e761 | Michael Rauh | Mon, 30 Oct 2023 15:43:34 +0100

Improve error handling of Step_findByTaskEnv()
------------------------------------------------------------------------
40160afa2 | Michael Rauh | Mon, 30 Oct 2023 15:15:45 +0100

Improve error message
------------------------------------------------------------------------
3ca7d7d87 | Norbert Eicker | Fri, 20 Oct 2023 09:46:50 +0200

Update copyright notice
------------------------------------------------------------------------
aef50efe4 | Norbert Eicker | Thu, 19 Oct 2023 19:21:31 +0200

Update build system
------------------------------------------------------------------------
b149dfc13 | Peter Niessen | Thu, 19 Oct 2023 15:58:44 +0200

added energyreport.c
------------------------------------------------------------------------
bd9170c00 | Peter Niessen | Thu, 19 Oct 2023 15:57:44 +0200

added energyreport.so for the slurmutils package
------------------------------------------------------------------------
46ee966e9 | Peter Niessen | Thu, 19 Oct 2023 15:53:08 +0200

removed the setting of SET_ENERGY_REPORT
------------------------------------------------------------------------
f62562d5a | Peter Niessen | Thu, 19 Oct 2023 09:47:05 +0200

changes needed for meluxina #1242
------------------------------------------------------------------------
9778f0461 | Peter Niessen | Thu, 19 Oct 2023 09:44:55 +0200

changes needed for meluxina #1242
------------------------------------------------------------------------
3fd122062 | Norbert Eicker | Mon, 9 Oct 2023 11:31:30 +0200

Rework strv_t behavior
------------------------------------------------------------------------
dac2304b0 | Norbert Eicker | Mon, 16 Oct 2023 18:53:30 +0200

Minor fixes
------------------------------------------------------------------------
22019838c | Norbert Eicker | Mon, 16 Oct 2023 18:52:56 +0200

Whitespace fixes
------------------------------------------------------------------------
0aefc7e14 | Stephan Krempel | Mon, 16 Oct 2023 12:16:34 +0200

psslurm: Add ldom separation to coremap output

Adds whitespace between each NUMA domain in coremap
printed if PSSLURM_PRINT_COREMAPS = 2 is set.
------------------------------------------------------------------------
7ed6d274f | Stephan Krempel | Mon, 16 Oct 2023 11:36:35 +0200

psslurm: Enable format choice for coremaps output

PSSLURM_PRINT_COREMAPS = 2 prints the maps in binary format,
every other value in hex format.
------------------------------------------------------------------------
9897368ee | Stephan Krempel | Wed, 11 Oct 2023 17:16:57 +0200

psslurm: Print coremaps to stderr

Introducing environment variable PSSLURM_PRINT_COREMAPS
to enable printing of coremaps to strerr.

This is useful for easier debugging pinning issues on
production systems and to explain them to the user support.
------------------------------------------------------------------------
52c282720 | Norbert Eicker | Mon, 16 Oct 2023 16:21:21 +0200

Merge branch '5.1.57'
------------------------------------------------------------------------
3e5f5b45d | Norbert Eicker | Thu, 12 Oct 2023 10:43:41 +0200

Avoid uneccesary goto statement
------------------------------------------------------------------------
485789507 | Norbert Eicker | Thu, 12 Oct 2023 10:42:20 +0200

Ensure unpackStepHead() unpackst to the right place

 - Add some warnings on the structures unpackStepHead() expects
------------------------------------------------------------------------
cc3cd9f9c | Norbert Eicker | Thu, 12 Oct 2023 10:41:11 +0200

Adapt docu comment to changed behavior
------------------------------------------------------------------------
8f8c6e25b | Norbert Eicker | Mon, 9 Oct 2023 18:44:40 +0200

Unify use of PKGLIBEXECDIR vs. LIBEXECDIR
------------------------------------------------------------------------
d959a1206 | Norbert Eicker | Sat, 7 Oct 2023 01:18:25 +0200

Move pspelgue into libexecdir

 - This will require slurmctld prologue to get adapted!
------------------------------------------------------------------------
e6c6e7014 | Norbert Eicker | Sat, 7 Oct 2023 01:07:39 +0200

Adapt ps_acc script to moved psaccounter
------------------------------------------------------------------------
a6f8ec894 | Norbert Eicker | Sat, 7 Oct 2023 01:07:11 +0200

Add @pkglibexecdir@ to substituted phrases
------------------------------------------------------------------------
399bfc9dd | Norbert Eicker | Sat, 7 Oct 2023 01:00:18 +0200

Move psaccounter into libexecdir
------------------------------------------------------------------------
a99c15d1e | Norbert Eicker | Sat, 7 Oct 2023 00:57:06 +0200

Move psilogger into libexecdir
------------------------------------------------------------------------
a6f763a45 | Norbert Eicker | Sat, 7 Oct 2023 00:53:17 +0200

Utilize psid to check validity of installation directory
------------------------------------------------------------------------
a02fceeee | Norbert Eicker | Sat, 7 Oct 2023 00:50:51 +0200

Move psid to sbin
------------------------------------------------------------------------
f88b4fa70 | Norbert Eicker | Wed, 9 Aug 2023 12:56:57 +0200

IWYU fixes
------------------------------------------------------------------------
4beb8d115 | Norbert Eicker | Wed, 9 Aug 2023 01:18:03 +0200

Add number of inherited children to PSP_DD_INHERITDONE
------------------------------------------------------------------------
91744b0b3 | Norbert Eicker | Wed, 9 Aug 2023 01:14:28 +0200

Let PSID_kill() behave more similar to kill()
------------------------------------------------------------------------
96f8cee54 | Norbert Eicker | Wed, 9 Aug 2023 01:12:54 +0200

More debug improvements
------------------------------------------------------------------------
7320c31f8 | Norbert Eicker | Tue, 8 Aug 2023 16:32:57 +0200

Enhance flow control

 * Avoid to trigger flow control by sister regristration
------------------------------------------------------------------------
b9299faf4 | Norbert Eicker | Tue, 8 Aug 2023 16:31:59 +0200

Avoid inheritance across step boundaries
------------------------------------------------------------------------
c47e49205 | Norbert Eicker | Tue, 8 Aug 2023 16:24:36 +0200

Bugfix: Do not trigger gracetime if SIGCHLD already received
------------------------------------------------------------------------
6976eca7d | Norbert Eicker | Mon, 7 Aug 2023 21:13:14 +0200

Add and improve some more debug
------------------------------------------------------------------------
d2a6ec18a | Norbert Eicker | Mon, 7 Aug 2023 20:28:39 +0200

Adapt accounting to steps without own logger
------------------------------------------------------------------------
1e3342eb9 | Norbert Eicker | Mon, 7 Aug 2023 16:11:35 +0200

Reflect change of role logger -> root in psaccount

 * no change of functionality but basically renaming
------------------------------------------------------------------------
70ca5267f | Norbert Eicker | Mon, 7 Aug 2023 10:11:02 +0200

Introduce partHolder member in PStask_t
------------------------------------------------------------------------
a497c2029 | Norbert Eicker | Fri, 4 Aug 2023 10:10:23 +0200

Utilize PSIDHOOK_LAST_RESRELEASED to stop step forwarder
------------------------------------------------------------------------
b082b90c1 | Norbert Eicker | Fri, 4 Aug 2023 10:07:41 +0200

Rework cleanup of reservation information
------------------------------------------------------------------------
f6018b747 | Norbert Eicker | Thu, 3 Aug 2023 09:03:18 +0200

Introduce PSIDHOOK_LAST_RESRELEASED
------------------------------------------------------------------------
6fa8a303f | Norbert Eicker | Thu, 3 Aug 2023 08:49:46 +0200

Adapt Slurm IO handling to spawned tasks
------------------------------------------------------------------------
6b35c573e | Norbert Eicker | Thu, 3 Aug 2023 08:20:23 +0200

Tell spawned KVS provider to stop on last child gone
------------------------------------------------------------------------
8a753e80d | Norbert Eicker | Wed, 2 Aug 2023 16:53:00 +0200

Rework psidsession

  - Rename PSID_findSessionByLoggerTID() to PSID_findSessionByID()
  - Replace loggerTID->sessionID and spawnerTID->jobID
------------------------------------------------------------------------
0bdc1c6b1 | Norbert Eicker | Tue, 1 Aug 2023 00:32:33 +0200

Bugfix: Ensure step forwarder task owns its strings
------------------------------------------------------------------------
c409a24d1 | Norbert Eicker | Tue, 1 Aug 2023 00:18:49 +0200

Make step forwarder handling less verbose
------------------------------------------------------------------------
550fb89c9 | Norbert Eicker | Tue, 1 Aug 2023 00:15:06 +0200

Ensure resinfos of obsolete sister partition are cleaned
------------------------------------------------------------------------
0969313df | Norbert Eicker | Mon, 31 Jul 2023 23:53:46 +0200

Introduce checkJob() and checkSession() to psidsession
------------------------------------------------------------------------
977552051 | Norbert Eicker | Mon, 31 Jul 2023 23:41:22 +0200

Improve handling of delegates
------------------------------------------------------------------------
ddc53f225 | Norbert Eicker | Mon, 31 Jul 2023 23:37:09 +0200

Streamlining
------------------------------------------------------------------------
fb214d97f | Norbert Eicker | Mon, 31 Jul 2023 23:29:38 +0200

Reformatting
------------------------------------------------------------------------
03aa2e5a3 | Norbert Eicker | Mon, 31 Jul 2023 15:03:26 +0200

Bugfix: ensure reservation is dequeued before put back
------------------------------------------------------------------------
ad3733d62 | Norbert Eicker | Mon, 31 Jul 2023 14:58:18 +0200

More syslog debug
------------------------------------------------------------------------
120112739 | Norbert Eicker | Sat, 29 Jul 2023 16:36:43 +0200

Hide local functionality
------------------------------------------------------------------------
1fb19445f | Norbert Eicker | Fri, 28 Jul 2023 12:03:28 +0200

Store jobRank and globalRank in PS_Tasks_t
------------------------------------------------------------------------
248f23aa7 | Norbert Eicker | Fri, 28 Jul 2023 11:46:29 +0200

Add syslog debug
------------------------------------------------------------------------
133637532 | Norbert Eicker | Thu, 27 Jul 2023 15:30:49 +0200

Abuse PSP_CD_SPAWNSUCCESS error to transport task's job rank
------------------------------------------------------------------------
4d418793d | Norbert Eicker | Thu, 27 Jul 2023 15:20:13 +0200

Fix service ranks in spawn

 * An additional service rank will be occupied by the step
   forwarder
------------------------------------------------------------------------
b621edff3 | Norbert Eicker | Thu, 27 Jul 2023 15:08:53 +0200

Rework sendCHILDRESREL()
------------------------------------------------------------------------
51c93349d | Norbert Eicker | Thu, 27 Jul 2023 14:06:29 +0200

Rework CRR members
------------------------------------------------------------------------
ebce99ecb | Norbert Eicker | Thu, 27 Jul 2023 13:46:37 +0200

Delete task explicitly when if fails
------------------------------------------------------------------------
053f5f36b | Norbert Eicker | Wed, 26 Jul 2023 17:38:22 +0200

Pass partition holder to reservation info, too
------------------------------------------------------------------------
4c44cefdc | Norbert Eicker | Wed, 26 Jul 2023 00:03:07 +0200

Improve debug output
------------------------------------------------------------------------
d9f824eff | Norbert Eicker | Tue, 25 Jul 2023 04:05:21 +0200

Ensure reservations are sent around with the correct logger TID
------------------------------------------------------------------------
ffb7a4d53 | Norbert Eicker | Tue, 25 Jul 2023 03:52:58 +0200

Ensure PSP_CD_INFOREQUEST and PSP_CD_GETRANKNODE use the right task
------------------------------------------------------------------------
ee6dcadf5 | Norbert Eicker | Tue, 25 Jul 2023 03:48:48 +0200

Unify syslog output on reservation IDs
------------------------------------------------------------------------
5f649bb02 | Norbert Eicker | Tue, 25 Jul 2023 03:29:39 +0200

Introduce jobRank member to PStask_t
------------------------------------------------------------------------
13947d6f6 | Norbert Eicker | Tue, 25 Jul 2023 03:13:17 +0200

Improve more syslog messages
------------------------------------------------------------------------
f32120099 | Norbert Eicker | Mon, 24 Jul 2023 15:27:32 +0200

Fix typo
------------------------------------------------------------------------
8179578dd | Norbert Eicker | Mon, 24 Jul 2023 13:51:06 +0200

Fix and enhance error message
------------------------------------------------------------------------
92f2e9554 | Norbert Eicker | Sat, 22 Jul 2023 17:47:39 +0200

Improve syslog messages
------------------------------------------------------------------------
359913943 | Norbert Eicker | Thu, 20 Jul 2023 12:41:36 +0200

Allow step forwarders to start a spawner

 * CMD_INIT_COMPLETE callback is used to trigger the spawner
------------------------------------------------------------------------
cd7cda675 | Norbert Eicker | Thu, 20 Jul 2023 12:32:45 +0200

Tell new sister nodes about existing reservations
------------------------------------------------------------------------
633cd473d | Norbert Eicker | Thu, 20 Jul 2023 12:15:13 +0200

Ensure PSP_DD_CHILDRESREL finds its actual destination
------------------------------------------------------------------------
7f5030823 | Norbert Eicker | Thu, 20 Jul 2023 12:13:17 +0200

Introduce reservations of type PART_OPT_DUMMY

 * This allows to create reservations at step forwarders
------------------------------------------------------------------------
fb99a2124 | Norbert Eicker | Thu, 20 Jul 2023 12:06:42 +0200

Introduce PSP_DD_RESERVATIONRES and handle it

 * But no sending yet
------------------------------------------------------------------------
5bff71335 | Norbert Eicker | Thu, 20 Jul 2023 12:00:28 +0200

More debug output rework
------------------------------------------------------------------------
220f1df88 | Norbert Eicker | Thu, 20 Jul 2023 11:56:02 +0200

Propagate rankOffset in PSP_DD_RESCREATED
------------------------------------------------------------------------
1c7ce56fb | Norbert Eicker | Thu, 20 Jul 2023 11:53:45 +0200

Use findRes() where applicable
------------------------------------------------------------------------
f017a64ee | Norbert Eicker | Thu, 20 Jul 2023 11:46:50 +0200

Send reservation information to sister nodes, too

 * add filter parameter to send_RESCREATED()
 * rework message filtering in send_RESCREATED(), send_RESSLOTS(),
   and send_RESRELEASED()
 * add prepNumToSend()
------------------------------------------------------------------------
7c3b3561e | Norbert Eicker | Thu, 20 Jul 2023 09:55:56 +0200

Rework debug output, streamline, etc.
------------------------------------------------------------------------
9df4ebdc4 | Norbert Eicker | Thu, 20 Jul 2023 09:14:15 +0200

Introduce rankOffset to PSrsrvtn_t and PSresinfo_t

 * Also rename firstrank/lastrank to firstRank/lastRank in
   PSresinfoentry_t
------------------------------------------------------------------------
6d597d704 | Norbert Eicker | Wed, 19 Jul 2023 18:32:15 +0200

Bugfix: release reservation from all nodes in partition
------------------------------------------------------------------------
29c8a633a | Norbert Eicker | Tue, 18 Jul 2023 01:09:17 +0200

Rework docu comments
------------------------------------------------------------------------
9b36f6078 | Norbert Eicker | Mon, 17 Jul 2023 19:18:11 +0200

Introduce the concept of sister partitions

 * Push PSDaemonProtocolVersion to 416
------------------------------------------------------------------------
470a8ae31 | Norbert Eicker | Mon, 17 Jul 2023 15:10:58 +0200

Introduce PSID_flog() and PSID_fdbg()
------------------------------------------------------------------------
ccd1c83fd | Norbert Eicker | Mon, 17 Jul 2023 11:18:18 +0200

Move clrPartQueue() to PSpart_clrQueue() and make it public
------------------------------------------------------------------------
a280ed32b | Norbert Eicker | Thu, 13 Jul 2023 22:41:38 +0200

Streamlining
------------------------------------------------------------------------
21ddd95c9 | Norbert Eicker | Thu, 13 Jul 2023 21:00:53 +0200

Move logHWthreads() and genThreadsArray() to psslurmpin and make them public
------------------------------------------------------------------------
806fb58a9 | Norbert Eicker | Thu, 13 Jul 2023 20:59:37 +0200

Prevent distant start of mpiexec helpers in case of spawn
------------------------------------------------------------------------
845af1b9f | Norbert Eicker | Thu, 13 Jul 2023 19:31:40 +0200

Add handleLastChildGone() hooking into PSIDHOOK_LAST_CHILD_GONE
------------------------------------------------------------------------
64bec88ba | Norbert Eicker | Thu, 13 Jul 2023 18:59:08 +0200

Rename buildMpiexecArgs() to buildStartArgv() and make it public
------------------------------------------------------------------------
b5dbfb9d3 | Norbert Eicker | Thu, 13 Jul 2023 18:31:55 +0200

Introduce Step_new() to create steps not in StepList
------------------------------------------------------------------------
153dc50c9 | Norbert Eicker | Thu, 13 Jul 2023 18:30:50 +0200

Mode getPMIType() to psslurmenv and make it public
------------------------------------------------------------------------
e630f0021 | Norbert Eicker | Thu, 13 Jul 2023 14:51:01 +0200

Remove now obsolete Step_findByLogger()
------------------------------------------------------------------------
6e73b8557 | Norbert Eicker | Thu, 13 Jul 2023 14:34:40 +0200

Replace Step_findByLogger() by Step_findByTaskEnv()

 - steps might not be uniquely identified by logger after spawn
------------------------------------------------------------------------
0549eeada | Norbert Eicker | Thu, 13 Jul 2023 13:56:58 +0200

Introduce Step_findByTaskEnv()
------------------------------------------------------------------------
a351f50e9 | Norbert Eicker | Thu, 13 Jul 2023 13:36:09 +0200

Rework __findStepByEnv() to Step_findByEnv()
------------------------------------------------------------------------
58c14a004 | Norbert Eicker | Thu, 13 Jul 2023 12:24:09 +0200

Rework __findStepByEnv()
------------------------------------------------------------------------
f09abb362 | Norbert Eicker | Thu, 13 Jul 2023 12:16:12 +0200

Mark step as the result of a spawn
------------------------------------------------------------------------
305f1cf35 | Norbert Eicker | Thu, 13 Jul 2023 12:14:37 +0200

Minor whitespace fixes
------------------------------------------------------------------------
b3676393d | Norbert Eicker | Wed, 12 Jul 2023 18:04:17 +0200

Spawn step-forwarder in the task tree in case of spawn
------------------------------------------------------------------------
d3e3c0fb2 | Norbert Eicker | Wed, 12 Jul 2023 17:34:10 +0200

Propagate parent info through Slurm via the environment
------------------------------------------------------------------------
876a3d1ff | Norbert Eicker | Wed, 12 Jul 2023 17:33:08 +0200

Allow to spawn forwarder as part of a task tree
------------------------------------------------------------------------
7a58a7c4a | Norbert Eicker | Wed, 12 Jul 2023 10:27:28 +0200

Allow PSIDspawn_localTask() to mimic a spawn message result
------------------------------------------------------------------------
6e54a5827 | Norbert Eicker | Tue, 11 Jul 2023 18:58:19 +0200

Allow PSIDpart_register() to extend a partition
------------------------------------------------------------------------
c36cbe568 | Norbert Eicker | Mon, 10 Jul 2023 17:45:28 +0200

Enhance docu comments
------------------------------------------------------------------------
cb12ea9b3 | Norbert Eicker | Mon, 10 Jul 2023 17:12:46 +0200

Remove obsolete PSI_createMPIhosts()
------------------------------------------------------------------------
d460350cf | Norbert Eicker | Mon, 10 Jul 2023 11:31:20 +0200

Refine docu comments
------------------------------------------------------------------------
a11c40289 | Norbert Eicker | Sat, 8 Jul 2023 19:07:56 +0200

Minor streamlining
------------------------------------------------------------------------
8a699105b | Norbert Eicker | Sat, 8 Jul 2023 18:52:25 +0200

Add hook PSIDHOOK_LAST_CHILD_GONE

 * bump plugin API version to 139
------------------------------------------------------------------------
1acbbe9a6 | Norbert Eicker | Wed, 5 Jul 2023 20:17:36 +0200

Use the right environment to check for spawn
------------------------------------------------------------------------
87ef10cb8 | Norbert Eicker | Fri, 6 Oct 2023 15:30:07 +0200

Rework documentation comment
------------------------------------------------------------------------
888a90804 | Norbert Eicker | Fri, 6 Oct 2023 15:27:23 +0200

Minor streamlining
------------------------------------------------------------------------
8336f8537 | Norbert Eicker | Fri, 6 Oct 2023 15:25:47 +0200

Minor renaming of functions
------------------------------------------------------------------------
c7caf2b11 | Norbert Eicker | Fri, 6 Oct 2023 13:57:11 +0200

Improve docu comment
------------------------------------------------------------------------
d9e66f562 | Norbert Eicker | Fri, 6 Oct 2023 11:13:43 +0200

Looping over empty lists shall be okay
------------------------------------------------------------------------
82f663bfa | Michael Rauh | Fri, 15 Sep 2023 17:08:41 +0200

Improve documentation of fwCMD_printMsg()
------------------------------------------------------------------------
fee7a6823 | Michael Rauh | Thu, 14 Sep 2023 22:00:02 +0200

Queue messages submitted to fwCMD_printMsg() if no forwarder has
been started yet

 - messages are queued in the corresponding job/step structure
 - the forwarder will automatically send queued messages after I/O
   initialization
 - queued messages are freed at job/step deletion
------------------------------------------------------------------------
dfcc8dbac | Stephan Krempel | Mon, 25 Sep 2023 14:14:01 +0200

Set psconfigdumpsdir as configure option
------------------------------------------------------------------------
20974d1f5 | Stephan Krempel | Mon, 25 Sep 2023 13:49:57 +0200

single_node_config: @psconfigdumpsdir@ as default

- Adds psconfigdumpsdir to replaces variables
- Generate single_node_config from single_node_config.in

Used in single_node
------------------------------------------------------------------------
fbeb2a0fd | Norbert Eicker | Thu, 5 Oct 2023 17:08:45 +0200

Update buildsystem
------------------------------------------------------------------------
be96b17a9 | Stephan Krempel | Thu, 24 Aug 2023 14:44:54 +0200

Use share/psconfig/dumps for main psconfig dumps

This requires psconfig 5.2.10 providing the directory
------------------------------------------------------------------------


Version 5.1.57-3:
=================
------------------------------------------------------------------------
ec6209a0d | Michael Rauh | Fri, 10 Nov 2023 13:23:32 +0100

Only use verified allocations to calculate jail limits
------------------------------------------------------------------------
695d903a5 | Michael Rauh | Fri, 10 Nov 2023 13:19:01 +0100

An allocation is verified if slurmd prolog is executed
------------------------------------------------------------------------
741378c37 | Michael Rauh | Fri, 10 Nov 2023 13:17:13 +0100

Sanity limit for minimal memory set for a user cgroup
------------------------------------------------------------------------
79293d3b9 | Michael Rauh | Wed, 18 Oct 2023 11:29:07 +0200

Prevent race condition for concurent modification
of the user cgroups
------------------------------------------------------------------------
00ee051ae | Michael Rauh | Wed, 18 Oct 2023 10:39:06 +0200

Use het jobid if available for jail terminate scripts
------------------------------------------------------------------------


Version 5.1.57-2:
=================
------------------------------------------------------------------------
073589d21 | Norbert Eicker | Wed, 11 Oct 2023 21:48:41 +0200

Delete allocation before sending MESSAGE_EPILOG_COMPLETE (jwt:#23342)

 - Alloc_delete() will start jail-term.sh (if required).
   MESSAGE_EPILOG_COMPLETE might trigger the next job to handle which
   again will trigger jail.sh. Delaying MESSAGE_EPILOG_COMPLETE shall
   prevent possible race-conditions between jail-term.sh and jail.sh
------------------------------------------------------------------------


Version 5.1.57-1:
=================
------------------------------------------------------------------------
844a38a17 | Norbert Eicker | Thu, 5 Oct 2023 15:55:40 +0200

Fix typo possibly rendering rmMemFromUser() useless
------------------------------------------------------------------------
eb41c614f | Norbert Eicker | Thu, 5 Oct 2023 14:55:33 +0200

Ensure local variable does not influence top level behavior
------------------------------------------------------------------------
9e4c104f1 | Norbert Eicker | Thu, 28 Sep 2023 18:31:22 +0200

IWYU fixes
------------------------------------------------------------------------
42d48f0fb | Norbert Eicker | Thu, 28 Sep 2023 18:19:52 +0200

Add todo
------------------------------------------------------------------------
6fadc094a | Norbert Eicker | Thu, 28 Sep 2023 18:19:07 +0200

Fix wrong documentation comment on return value
------------------------------------------------------------------------
fd3951d68 | Norbert Eicker | Thu, 28 Sep 2023 18:17:29 +0200

Avoid temporary buffers of excessive size
------------------------------------------------------------------------
bfd23cdab | Norbert Eicker | Thu, 28 Sep 2023 18:16:49 +0200

Whitespace fixes
------------------------------------------------------------------------
eb90b2a7c | Norbert Eicker | Thu, 28 Sep 2023 18:14:56 +0200

Avoid array boundary violation
------------------------------------------------------------------------
ab581bc71 | Norbert Eicker | Thu, 28 Sep 2023 18:12:55 +0200

Avoid superfluous mdsave call
------------------------------------------------------------------------
b23c8f6fb | Michael Rauh | Wed, 13 Sep 2023 13:46:50 +0200

Reintroduce quoting for CPU expansion and let
shellcheck accept no quoting for CPU compression
------------------------------------------------------------------------
36022a69c | Michael Rauh | Mon, 11 Sep 2023 14:37:26 +0200

Bugfix: fix race condition and ensure all SSH processes get jailed
------------------------------------------------------------------------
2a5d93f12 | Michael Rauh | Fri, 8 Sep 2023 12:48:32 +0200

Use ALLOC_LIST to terminate user cgroup
------------------------------------------------------------------------
00923026a | Michael Rauh | Fri, 8 Sep 2023 11:47:42 +0200

Add allocation list to jail terminate environment
------------------------------------------------------------------------
f75b418b6 | Michael Rauh | Thu, 7 Sep 2023 18:59:36 +0200

Ensure path to attach BPF program is created
------------------------------------------------------------------------
e0a857c2f | Michael Rauh | Thu, 7 Sep 2023 18:33:47 +0200

Fix warnings if memory cgroup is terminated
------------------------------------------------------------------------
80c00bf87 | Michael Rauh | Thu, 7 Sep 2023 18:21:47 +0200

Add caller name to jail log functions
------------------------------------------------------------------------
97a8e41d9 | Michael Rauh | Thu, 7 Sep 2023 17:50:04 +0200

Ensure cgroupv2 controllers get enabled correctly
------------------------------------------------------------------------
f03b6d156 | Michael Rauh | Thu, 7 Sep 2023 17:45:59 +0200

Quoting breaks cpu core calculation
------------------------------------------------------------------------
044cfb69c | Stephan Krempel | Wed, 6 Sep 2023 02:25:11 +0200

Jail scripts: Improvement suggestions
------------------------------------------------------------------------
f3dda11f9 | Stephan Krempel | Wed, 6 Sep 2023 00:39:16 +0200

Jail scripts: Always use [[ ]] and remove redundant ""
------------------------------------------------------------------------
69c4215eb | Stephan Krempel | Wed, 6 Sep 2023 00:33:31 +0200

Jail scripts: Handle shellcheck warnings
------------------------------------------------------------------------
bd9cf8a62 | Stephan Krempel | Wed, 6 Sep 2023 00:41:23 +0200

Jail scripts: Fix quoting
------------------------------------------------------------------------
b7ea93cb7 | Michael Rauh | Tue, 5 Sep 2023 17:29:07 +0200

Fix errors unveiled by shellcheck
------------------------------------------------------------------------
159cb4803 | Michael Rauh | Tue, 5 Sep 2023 16:44:00 +0200

Set vim shell filetype for jail include files
------------------------------------------------------------------------
43c53d125 | Michael Rauh | Mon, 4 Sep 2023 16:43:47 +0200

Ensure correct locking in cgroupv1
------------------------------------------------------------------------
d7cec1d48 | Michael Rauh | Mon, 4 Sep 2023 14:52:50 +0200

Set the correct sequence when setting cgroup memory limits
------------------------------------------------------------------------
451b34885 | Michael Rauh | Fri, 1 Sep 2023 16:14:59 +0200

Ensure slurmd prolog is enabled correctly if cgroup constrains
are configured
------------------------------------------------------------------------
7b5fa760e | Michael Rauh | Wed, 30 Aug 2023 13:28:13 +0200

Forward all available information to jail terminate scripts
------------------------------------------------------------------------
a0aa284b9 | Michael Rauh | Wed, 30 Aug 2023 12:25:20 +0200

Initialize various user cgroups via slurmd prolog
------------------------------------------------------------------------
6a51a3732 | Michael Rauh | Thu, 24 Aug 2023 15:50:35 +0200

Improve cleanup of leftover cgroupv2 directories
------------------------------------------------------------------------
f0427aa8d | Michael Rauh | Thu, 24 Aug 2023 13:56:18 +0200

Add more jail debug log
------------------------------------------------------------------------
bf6608000 | Michael Rauh | Wed, 23 Aug 2023 15:59:27 +0200

Adopt jail scripts to support the creation of the
user cgroup as single action
------------------------------------------------------------------------
dcd999141 | Michael Rauh | Wed, 23 Aug 2023 13:57:21 +0200

Use slurmd prolog to setup jail environment and gather additional
allocation information

 - slurmctld is still executing the parallel prologue and is mandatory
------------------------------------------------------------------------
9fd9c3d02 | Norbert Eicker | Wed, 4 Oct 2023 22:17:08 +0200

More careful selection of defaults and checks
------------------------------------------------------------------------
f3ee1dea1 | Norbert Eicker | Wed, 4 Oct 2023 14:59:18 +0200

Check if fetching header from fragment worked
------------------------------------------------------------------------
918470351 | Norbert Eicker | Wed, 4 Oct 2023 14:39:15 +0200

Actually check if data was unavailable from message
------------------------------------------------------------------------
754052d5a | Stephan Krempel | Thu, 27 Jul 2023 15:11:30 +0200

Add PMIx_Log() test program
------------------------------------------------------------------------
be1d31816 | Stephan Krempel | Wed, 4 Oct 2023 15:50:15 +0200

pspmix: Print messages from server log interface

Print content of the messages to syslog as a first step to
enable debugging of problems until the complete implementation
is in place.
------------------------------------------------------------------------
7710e8440 | Stephan Krempel | Wed, 4 Oct 2023 18:42:49 +0200

Merge remote-tracking branch 'psbuild/master'

Skipping .gitignore and doc/Makefile.in
------------------------------------------------------------------------
093fa0095 | Thomas Moschny | Wed, 4 Oct 2023 13:52:33 +0000

Merge branch 'set_lt_sys_library_path' into 'master'

Adapt changes done in psmgmt

See merge request parastation/psbuild!2
------------------------------------------------------------------------
7f9a48559 | Stephan Krempel | Wed, 4 Oct 2023 13:52:33 +0000

Adapt changes done in psmgmt.
------------------------------------------------------------------------
a0703aad8 | Norbert Eicker | Wed, 4 Oct 2023 00:38:05 +0200

Add explaining comment to Makefile
------------------------------------------------------------------------
fd379ef1c | Norbert Eicker | Tue, 3 Oct 2023 00:42:07 +0200

Work around rpmbuild setting in Rocky 9

 - rpmbuild will fall back setting LT_SYS_LIBRARY_PATH to %_libdir. As a
   consequence runpath setting pointing to %_libdir (opt/parastation/lib64)
   will be omitted from executables. Thus, set LT_SYS_LIBRARY_PATH explicitly
------------------------------------------------------------------------
61c7203c0 | Norbert Eicker | Tue, 3 Oct 2023 00:05:54 +0200

Fix gcc-11 warning emitted via rpmbuild on Rocky 9
------------------------------------------------------------------------
84d9d52cb | Norbert Eicker | Mon, 2 Oct 2023 23:07:57 +0200

Ensure RPM build works without munge
------------------------------------------------------------------------
38844c653 | Norbert Eicker | Fri, 22 Sep 2023 12:28:34 +0200

Push to Autoconf 2.69 again
------------------------------------------------------------------------
f1f62bbdc | Stephan Krempel | Fri, 22 Sep 2023 10:20:31 +0200

Fix libbpf version check
------------------------------------------------------------------------
14f69e19d | Stephan Krempel | Thu, 7 Sep 2023 02:04:58 +0200

configure: Check libbpf version
------------------------------------------------------------------------
927bb73c4 | Stephan Krempel | Tue, 19 Sep 2023 23:02:57 +0200

Build RPM without bpf on RHEL9 and compatible
------------------------------------------------------------------------
b7083f07c | Stephan Krempel | Wed, 13 Sep 2023 00:43:25 +0200

dynIP: Do not install AWS scripts
------------------------------------------------------------------------
ad9862aac | Michael Rauh | Tue, 22 Aug 2023 11:49:08 +0200

Bugfix: set correct state of allocation to ensure proper
cleanup of processes
------------------------------------------------------------------------
96b8e7f71 | Thomas Moschny | Wed, 23 Mar 2022 13:57:30 +0000

Merge branch 'real-txt2man-1.7.1' into 'master'

Revert txt2man to actual 1.7.1 release version

See merge request parastation/psbuild!1
------------------------------------------------------------------------
7e06d1f28 | Stephan Krempel | Wed, 23 Mar 2022 14:38:18 +0100

Revert txt2man to actual 1.7.1 release version

See https://github.com/mvertes/txt2man/issues/37
------------------------------------------------------------------------
405afbbc7 | Thomas Moschny | Thu, 9 Sep 2021 20:29:46 +0200

Update txt2man to 1.7.1.
------------------------------------------------------------------------
df14c5aa9 | Thomas Moschny | Mon, 22 Jun 2020 22:42:42 +0200

Update txt2man to 1.7.0.
------------------------------------------------------------------------
06560742d | Stephan Krempel | Thu, 28 May 2020 14:04:42 +0200

remove redundant escapes causing gawk warnings

see https://github.com/mvertes/txt2man/pull/18
------------------------------------------------------------------------
295551a41 | Simon Pickartz | Fri, 6 Sep 2019 17:43:52 +0200

vcversion: support rc[0-9]+ suffix within the version string
------------------------------------------------------------------------
531f47764 | Thomas Moschny | Mon, 29 Aug 2016 17:48:30 +0200

Update txt2man to 1.6.0.
------------------------------------------------------------------------
b59c4f448 | Thomas Moschny | Fri, 5 Feb 2016 20:06:51 +0100

Pipe the RPM build logfile through tee.
------------------------------------------------------------------------
668f2773a | Jens Hauke | Mon, 30 Nov 2015 13:30:36 +0100

vcversion: without .git,.svn and VERSION try the parent dir name.
------------------------------------------------------------------------
5b34b0d29 | Thomas Moschny | Tue, 9 Jun 2015 11:51:02 +0200

Merge changes from psmgmt.svn:

r8653: Older xsltproc cannot read from a FIFO.
r8652: Update authors.
r8651: - Use xsltproc instead of xmlstarlet.
       - Call svn in C locale.
------------------------------------------------------------------------
4f0e8a143 | Thomas Moschny | Tue, 9 Jun 2015 11:29:56 +0200

Use "_dirty" instead of the "-dirty" default.

Prevent "hash-dirty" being matched in case there is no tag
matching "?*-?*".
------------------------------------------------------------------------
697bff093 | Thomas Moschny | Tue, 9 Jun 2015 11:27:55 +0200

Add --no-dirty switch.
------------------------------------------------------------------------
82b5c0831 | Thomas Moschny | Tue, 9 Jun 2015 11:18:06 +0200

Cosmetics.
------------------------------------------------------------------------
e42601e04 | Thomas Moschny | Tue, 9 Jun 2015 11:17:29 +0200

Add long version of -n switch, and document -n.
------------------------------------------------------------------------
bda6f8f2c | Thomas Moschny | Tue, 25 Nov 2014 16:13:16 +0100

Disable implicit rules.

These could cause make to call e.g. yacc or makeinfo, and mess it all up.
------------------------------------------------------------------------
1477028b7 | Jens Hauke | Thu, 20 Nov 2014 17:13:47 +0100

Initial commit (psbuild)
------------------------------------------------------------------------


Version 5.1.57:
===============
------------------------------------------------------------------------
17494b236 | Norbert Eicker | Fri, 18 Aug 2023 16:53:40 +0200

Ensure bpf bytecode gets only installed with bpf_loader
------------------------------------------------------------------------
ce546a100 | Michael Rauh | Fri, 18 Aug 2023 16:40:51 +0200

Let bpf loader be quiet if requested at cleanup
------------------------------------------------------------------------
7bdfc8c12 | Michael Rauh | Fri, 18 Aug 2023 16:33:03 +0200

Add additional sanity check for cgroupv2 device controller
------------------------------------------------------------------------
2932d4b75 | Michael Rauh | Fri, 18 Aug 2023 15:03:30 +0200

Fix jail memory check
------------------------------------------------------------------------
be8e51022 | Michael Rauh | Fri, 18 Aug 2023 14:32:12 +0200

Mark processes started with PSID_execFunc() as non daemon
------------------------------------------------------------------------
e02b92459 | Michael Rauh | Fri, 18 Aug 2023 14:19:54 +0200

Make jail callback name more distinguishable
------------------------------------------------------------------------
c1ecdb0aa | Michael Rauh | Thu, 17 Aug 2023 17:45:07 +0200

Cleanup leftover cgroupv1 psid directories
------------------------------------------------------------------------
e226feee7 | Michael Rauh | Thu, 17 Aug 2023 16:08:00 +0200

Set denied devices in cgroupv1 device controller first
------------------------------------------------------------------------
b4e48df1e | Norbert Eicker | Thu, 17 Aug 2023 15:25:29 +0200

Enhance the eBPF README
------------------------------------------------------------------------
5b32db002 | Michael Rauh | Thu, 17 Aug 2023 12:23:13 +0200

Update buildsystem
------------------------------------------------------------------------
9a4304efd | Michael Rauh | Thu, 17 Aug 2023 12:21:57 +0200

Add instructions to compile eBPF program
------------------------------------------------------------------------
0c4c717f4 | Norbert Eicker | Thu, 17 Aug 2023 12:49:36 +0200

Add warning on cgroup v2 incompatibility of the cgroup plugin
------------------------------------------------------------------------
c54ccd579 | Michael Rauh | Thu, 17 Aug 2023 12:01:49 +0200

Update buildsystem
------------------------------------------------------------------------
8e9acaabf | Michael Rauh | Thu, 17 Aug 2023 11:31:49 +0200

Move bpf programs to separate folder
------------------------------------------------------------------------
8b208fd9a | Michael Rauh | Thu, 17 Aug 2023 11:11:48 +0200

Let bpf loader be more quiet
------------------------------------------------------------------------
56710b389 | Michael Rauh | Thu, 17 Aug 2023 10:48:57 +0200

Use PSC_isDaemon() in psslurm
------------------------------------------------------------------------
68dea2dbf | Michael Rauh | Thu, 17 Aug 2023 10:44:39 +0200

Give correct options in error message
------------------------------------------------------------------------
b036e99b1 | Michael Rauh | Wed, 16 Aug 2023 18:15:29 +0200

Fix quiet option of bpf loader
------------------------------------------------------------------------
aa44d2d82 | Norbert Eicker | Wed, 16 Aug 2023 18:13:58 +0200

Fix typo in / improve docu comments
------------------------------------------------------------------------
3210715fb | Michael Rauh | Wed, 16 Aug 2023 18:10:53 +0200

Add missing sanity check
------------------------------------------------------------------------
cdd76bfb1 | Norbert Eicker | Wed, 16 Aug 2023 18:06:08 +0200

Introduce PSC_isDaemon() and rework PSC_setDaemonFlag()
------------------------------------------------------------------------
8b6690a5e | Michael Rauh | Wed, 16 Aug 2023 17:57:39 +0200

Don't confuse syslog logger with unknown options
------------------------------------------------------------------------
00f6a1cbd | Michael Rauh | Wed, 16 Aug 2023 17:47:53 +0200

Fix quoting for jail log functions
------------------------------------------------------------------------
af245708d | Michael Rauh | Wed, 16 Aug 2023 17:30:22 +0200

Don't spoil global variable
------------------------------------------------------------------------
cb6f04a52 | Michael Rauh | Wed, 16 Aug 2023 17:28:54 +0200

Improve debug log
------------------------------------------------------------------------
33af09423 | Norbert Eicker | Wed, 16 Aug 2023 17:31:26 +0200

Add warning on setJailEnv() misuse
------------------------------------------------------------------------
c51046113 | Michael Rauh | Wed, 16 Aug 2023 17:19:54 +0200

Send SIGTERM only in the first round of killing cgroup processes
------------------------------------------------------------------------
e620dcb74 | Michael Rauh | Wed, 16 Aug 2023 17:07:29 +0200

Ensure setJailEnv() is only called once in forwarder
processes
------------------------------------------------------------------------
fed3539ea | Michael Rauh | Wed, 16 Aug 2023 15:35:36 +0200

Remove obsolete MAX_MAP_ENTRIES
------------------------------------------------------------------------
e648f2be3 | Michael Rauh | Wed, 16 Aug 2023 15:29:03 +0200

Don't install bpf bytecode if bpf_loader is not build
------------------------------------------------------------------------
fa342f704 | Michael Rauh | Wed, 16 Aug 2023 14:59:56 +0200

Update buildsystem
------------------------------------------------------------------------
cc6168ace | Michael Rauh | Wed, 16 Aug 2023 14:59:09 +0200

Add option --disable-bpf to buildsystem
------------------------------------------------------------------------
4e3365e68 | Michael Rauh | Mon, 14 Aug 2023 18:59:52 +0200

Bugfix: don't overwrite device jail information when
multiple devices are used
------------------------------------------------------------------------
02ecc5fce | Norbert Eicker | Thu, 10 Aug 2023 08:30:15 +0200

Improve code readability
------------------------------------------------------------------------
5154849bf | Norbert Eicker | Thu, 10 Aug 2023 07:54:06 +0200

IWYU fixes
------------------------------------------------------------------------
26317dbaa | Norbert Eicker | Thu, 10 Aug 2023 07:48:23 +0200

Streamlining load_bpf.c

 * Mostly whitespace fixes and hiding of local functions
------------------------------------------------------------------------
5a56458c4 | Norbert Eicker | Wed, 9 Aug 2023 22:42:02 +0200

Hide visitors from global namespace
------------------------------------------------------------------------
b8ade1ccb | Norbert Eicker | Wed, 9 Aug 2023 22:41:31 +0200

Remove obsolete member
------------------------------------------------------------------------
8652d33bb | Norbert Eicker | Wed, 9 Aug 2023 22:40:29 +0200

Fix typo in debug log
------------------------------------------------------------------------
35f6ef268 | Norbert Eicker | Wed, 9 Aug 2023 01:42:38 +0200

Push to Autoconf 2.69 again
------------------------------------------------------------------------
af7ae9646 | Michael Rauh | Mon, 7 Aug 2023 19:09:02 +0200

Ensure to deny access to all devices not allocated by the user
when cgroups are active
------------------------------------------------------------------------
b749529a0 | Michael Rauh | Mon, 7 Aug 2023 16:02:44 +0200

Add user prefix to cgroupv2 tree
------------------------------------------------------------------------
2c1dd527d | Michael Rauh | Mon, 7 Aug 2023 15:40:33 +0200

Setup user cgroupv2 device controller
------------------------------------------------------------------------
5d08df8b3 | Michael Rauh | Mon, 7 Aug 2023 15:36:30 +0200

Add --remove_allowed option to bpf loader
------------------------------------------------------------------------
8509b6a38 | Michael Rauh | Mon, 7 Aug 2023 15:35:23 +0200

Cleanup old psid cgroup entries at startup
------------------------------------------------------------------------
5a7aacfd8 | Michael Rauh | Fri, 4 Aug 2023 16:30:13 +0200

Automatically remove BPF map suffix from program ID
------------------------------------------------------------------------
531920855 | Michael Rauh | Fri, 4 Aug 2023 16:10:19 +0200

Set devices options once for all process in job/step
------------------------------------------------------------------------
476d1de34 | Michael Rauh | Fri, 4 Aug 2023 16:06:31 +0200

Cleanup psid BPF directory at started
------------------------------------------------------------------------
dd3cdba86 | Michael Rauh | Tue, 1 Aug 2023 14:21:32 +0200

Add cgroupv2 term device script
------------------------------------------------------------------------
e920c5524 | Michael Rauh | Fri, 28 Jul 2023 17:17:00 +0200

Use quiet option in jail devices script and fix quoting
------------------------------------------------------------------------
408df5c78 | Michael Rauh | Fri, 28 Jul 2023 17:15:45 +0200

Add quiet option to BPF loader
------------------------------------------------------------------------
fee0299b8 | Michael Rauh | Fri, 28 Jul 2023 16:34:34 +0200

Upate BPF device controller bytecode
------------------------------------------------------------------------
4fff33eb3 | Michael Rauh | Fri, 28 Jul 2023 16:32:26 +0200

Add BPF device controller
------------------------------------------------------------------------
fe7a02662 | Michael Rauh | Fri, 28 Jul 2023 16:30:45 +0200

Rework BPF program loader
------------------------------------------------------------------------
790b434c2 | Michael Rauh | Thu, 27 Jul 2023 15:12:09 +0200

Improve BPF loader error logs
------------------------------------------------------------------------
6ab20f524 | Michael Rauh | Thu, 27 Jul 2023 14:05:06 +0200

Cleanup cgroupv2 step path
------------------------------------------------------------------------
cf8758cc8 | Michael Rauh | Thu, 27 Jul 2023 11:37:45 +0200

Update buildsystem
------------------------------------------------------------------------
d3e93e698 | Michael Rauh | Thu, 27 Jul 2023 11:36:46 +0200

Add cgroupv2 scripts to buildsystem
------------------------------------------------------------------------
86fa6bc86 | Michael Rauh | Thu, 27 Jul 2023 11:28:03 +0200

Add cgroupv2 device controller
------------------------------------------------------------------------
993c7509f | Michael Rauh | Tue, 25 Jul 2023 10:30:12 +0200

Rework BPF program loader
------------------------------------------------------------------------
87321a4d5 | Michael Rauh | Fri, 14 Jul 2023 17:05:52 +0200

Add bpf program and loader to jail script configuration
------------------------------------------------------------------------
8c7d12019 | Michael Rauh | Fri, 14 Jul 2023 16:08:31 +0200

Update buildsystem
------------------------------------------------------------------------
b315e534b | Michael Rauh | Fri, 14 Jul 2023 16:02:02 +0200

Add bpf cgroup device program
------------------------------------------------------------------------
5026ff4f6 | Michael Rauh | Tue, 11 Jul 2023 13:49:58 +0200

Add cgroupv2 memory controller
------------------------------------------------------------------------
c7df27c9c | Michael Rauh | Tue, 11 Jul 2023 13:49:20 +0200

Add cgroupv2 cpuset controller
------------------------------------------------------------------------
e1264f9a2 | Michael Rauh | Tue, 11 Jul 2023 13:47:27 +0200

Add cgroupv2 support to main jail script
------------------------------------------------------------------------
b38975672 | Michael Rauh | Tue, 11 Jul 2023 13:46:25 +0200

Introduce enableController() and enhance process cleanup
------------------------------------------------------------------------
e51e20ba7 | Michael Rauh | Tue, 11 Jul 2023 13:35:06 +0200

Update buildsystem
------------------------------------------------------------------------
6d644952d | Michael Rauh | Tue, 11 Jul 2023 13:18:23 +0200

Add BPF loader
------------------------------------------------------------------------
389cd0647 | Michael Rauh | Fri, 16 Jun 2023 13:53:01 +0200

Add oom cgroup v2 script
------------------------------------------------------------------------
3d4d92a69 | Michael Rauh | Wed, 14 Jun 2023 17:05:28 +0200

Set default cgroup version to autodetect
------------------------------------------------------------------------
e4bf7f72d | Michael Rauh | Wed, 14 Jun 2023 16:43:32 +0200

Add cgroup version to jail scripts log output
------------------------------------------------------------------------
e0f46d1b1 | Michael Rauh | Wed, 7 Jun 2023 15:35:54 +0200

Update buildsystem
------------------------------------------------------------------------
abc00bf4b | Michael Rauh | Fri, 21 Apr 2023 15:56:08 +0200

Start to split jail scripts for cgroup v1 and v2
------------------------------------------------------------------------
42d7895d3 | Norbert Eicker | Fri, 18 Aug 2023 14:32:56 +0200

Whitespace fixes
------------------------------------------------------------------------
8137f3114 | Norbert Eicker | Thu, 17 Aug 2023 19:21:42 +0200

Push to automake 1.16.5 again
------------------------------------------------------------------------
672495d9f | Stephan Krempel | Thu, 17 Aug 2023 17:52:21 +0200

Pack whole AWS_ParallelCluster directory into dynip RPM
------------------------------------------------------------------------
33b9cc87c | Stephan Krempel | Thu, 17 Aug 2023 17:24:12 +0200

dynIP: Add slurmctld.prologue for AWS ParallelCluster
------------------------------------------------------------------------
4bad72f71 | Stephan Krempel | Thu, 17 Aug 2023 16:34:59 +0200

Put dynIP plugin into it's own RPM psmgmt-dynip
------------------------------------------------------------------------
1c988cf3e | Stephan Krempel | Thu, 17 Aug 2023 16:35:56 +0200

dynIP: Add README and example scripts for AWS
------------------------------------------------------------------------
96a2beb24 | Norbert Eicker | Mon, 14 Aug 2023 15:52:11 +0200

Move dynamic IP handling to send_DAEMONCONNECT()

 * PSP_DD_DAEMONCONNECT is the first message on a connection anyhow
------------------------------------------------------------------------
ad4758610 | Norbert Eicker | Fri, 11 Aug 2023 17:33:24 +0200

Let dynIP not spam the syslog if resolving fails
------------------------------------------------------------------------
aa947024e | Stephan Krempel | Fri, 11 Aug 2023 17:06:12 +0200

psslurm: Fix port range support for SlurmctldPort
------------------------------------------------------------------------
eadbf460b | Norbert Eicker | Fri, 11 Aug 2023 17:01:03 +0200

Ensure psid forgets about old dynamic IPs
------------------------------------------------------------------------
881882fde | Stephan Krempel | Fri, 11 Aug 2023 12:44:08 +0200

psslurm: Fix debugging output
------------------------------------------------------------------------
3a10a2260 | Stephan Krempel | Thu, 10 Aug 2023 17:11:56 +0200

psslurm: Rework port range support for SlurmctldPort
------------------------------------------------------------------------
070a8eb4e | Norbert Eicker | Tue, 1 Aug 2023 12:05:23 +0200

Let PSI_resolveNodeID() trigger send_DAEMONCONNECT()
------------------------------------------------------------------------
e934b0fb5 | Norbert Eicker | Tue, 1 Aug 2023 10:27:36 +0200

Minor cleanup
------------------------------------------------------------------------
9c7b56364 | Stephan Krempel | Thu, 27 Jul 2023 15:14:17 +0200

dynIP: Fix error messages
------------------------------------------------------------------------
786a97bbd | Norbert Eicker | Thu, 27 Jul 2023 09:03:03 +0200

IWYU fixes
------------------------------------------------------------------------
55f4ab7ec | Norbert Eicker | Thu, 27 Jul 2023 09:01:18 +0200

Enable PSP_INFO_HOST (PSI_resolveNodeID()) for dynamic IP
------------------------------------------------------------------------
9f98a5826 | Stephan Krempel | Tue, 25 Jul 2023 17:51:17 +0200

psslurm: Add more debugging output
------------------------------------------------------------------------
71c864f75 | Stephan Krempel | Tue, 25 Jul 2023 12:46:28 +0200

psslurm: Fix logging output
------------------------------------------------------------------------
774a12c71 | Stephan Krempel | Tue, 25 Jul 2023 12:32:58 +0200

psslurm: Change debug output channel
------------------------------------------------------------------------
4f0d08a61 | Stephan Krempel | Tue, 25 Jul 2023 12:04:07 +0200

psslurm: Add debug output of node status msg packing
------------------------------------------------------------------------
7b02e66b4 | Stephan Krempel | Tue, 25 Jul 2023 11:39:15 +0200

psslurm: Streamlining
------------------------------------------------------------------------
99b532b6a | Stephan Krempel | Mon, 24 Jul 2023 19:05:26 +0200

psslurm: Take default sockets from hwloc, too
------------------------------------------------------------------------
a94fa822b | Stephan Krempel | Mon, 24 Jul 2023 18:33:57 +0200

psslurm: With skipCodeCheck take hwloc info as default
------------------------------------------------------------------------
131fc889d | Stephan Krempel | Mon, 24 Jul 2023 15:57:36 +0200

psslurm: Support port range in SlurmctldPort
------------------------------------------------------------------------
163c2f25b | Norbert Eicker | Tue, 13 Jun 2023 22:40:15 +0200

Fix typos
------------------------------------------------------------------------
dfba299e3 | Norbert Eicker | Tue, 13 Jun 2023 22:32:35 +0200

Suppress warnings of master pings to dynamic nodes
------------------------------------------------------------------------
49ce9870c | Norbert Eicker | Tue, 13 Jun 2023 22:17:46 +0200

Improve docu comments
------------------------------------------------------------------------
9481288c8 | Norbert Eicker | Tue, 13 Jun 2023 22:10:38 +0200

Streamline
------------------------------------------------------------------------
675cbb62f | Norbert Eicker | Wed, 24 May 2023 01:26:39 +0200

Streamline
------------------------------------------------------------------------
83dc02086 | Norbert Eicker | Wed, 24 May 2023 00:18:59 +0200

Only reset the IP address for dynamic nodes
------------------------------------------------------------------------
c671cf73f | Norbert Eicker | Tue, 23 May 2023 23:53:31 +0200

IWYU fixes
------------------------------------------------------------------------
2e0af9efc | Norbert Eicker | Tue, 23 May 2023 23:43:27 +0200

Bugfix: Fix inet_ntop()'s second argument
------------------------------------------------------------------------
925040724 | Norbert Eicker | Tue, 23 May 2023 23:42:11 +0200

Utilize PSC_traverseHostInfo() where possible
------------------------------------------------------------------------
4c28c475c | Norbert Eicker | Tue, 23 May 2023 23:35:38 +0200

Introduce PSC_traverseHostInfo()

 - Deduplicate getaddrinfo()'s boylerplate code
------------------------------------------------------------------------
c28375db6 | Norbert Eicker | Tue, 23 May 2023 23:34:04 +0200

Do not spoil the namespace
------------------------------------------------------------------------
08791f8ee | Norbert Eicker | Tue, 23 May 2023 19:42:58 +0200

Utilize pluginpsconfig for parameter handling
------------------------------------------------------------------------
ee69dd25e | Norbert Eicker | Tue, 23 May 2023 16:04:25 +0200

Ensure PSIDnodes database is always self-consistent
------------------------------------------------------------------------
a1fda2a48 | Norbert Eicker | Tue, 23 May 2023 16:00:31 +0200

Enhance syslog message
------------------------------------------------------------------------
596e56eb8 | Norbert Eicker | Tue, 23 May 2023 15:59:21 +0200

Booleanize and improve docu comments
------------------------------------------------------------------------
6f9862665 | Norbert Eicker | Tue, 23 May 2023 15:56:22 +0200

Fix copyright year
------------------------------------------------------------------------
062e15078 | Norbert Eicker | Tue, 23 May 2023 15:54:08 +0200

Fix return value and streamline
------------------------------------------------------------------------
54dd85160 | Stephan Krempel | Mon, 22 May 2023 16:03:14 +0200

Fix compiler warning about ignored const qualifier
------------------------------------------------------------------------
92c25ad59 | Stephan Krempel | Mon, 22 May 2023 15:35:36 +0200

Add PSID nodes flag for dynamic nodes

This flag marks nodes with dynamic IP address
------------------------------------------------------------------------
077d7938f | Stephan Krempel | Mon, 22 May 2023 15:27:56 +0200

psconfig parser: Set resolved IP address of dynamic local node
------------------------------------------------------------------------
b29168d0a | Stephan Krempel | Wed, 17 May 2023 10:16:32 +0200

psconfig parser: Handle dynamic local node
------------------------------------------------------------------------
1f5d1faed | Stephan Krempel | Wed, 17 May 2023 10:09:01 +0200

Move the self-enclosure test behind the node loop
------------------------------------------------------------------------
5a54602c0 | Stephan Krempel | Wed, 17 May 2023 10:06:52 +0200

Fix memory leak
------------------------------------------------------------------------
6ec94700c | Stephan Krempel | Tue, 16 May 2023 17:39:26 +0200

Let psconfig parser detect "DYNAMIC" IP address keyword
------------------------------------------------------------------------
aefe64482 | Norbert Eicker | Wed, 17 May 2023 01:18:29 +0200

Complete PSIDnodes_setAddr() by updateing hosts hash, too
------------------------------------------------------------------------
6ceb35ef5 | Michael Rauh | Fri, 12 May 2023 15:40:01 +0200

Add more debug print and let debug mask be set via psiadmin
------------------------------------------------------------------------
861a46536 | Michael Rauh | Fri, 12 May 2023 11:27:25 +0200

Update buildsystem
------------------------------------------------------------------------
312e31147 | Michael Rauh | Fri, 12 May 2023 10:49:15 +0200

Add plugin dynIP

 - allows dynamic changes of a hosts IP address
------------------------------------------------------------------------
8f2ad05e0 | Michael Rauh | Fri, 12 May 2023 10:47:16 +0200

Add PSIDnodes_setAddr() to set the IP address of a node
------------------------------------------------------------------------
d3370bc4e | Norbert Eicker | Thu, 6 Apr 2023 18:48:56 +0200

Add hook PSIDHOOK_SENDER_UNKNOWN
------------------------------------------------------------------------
ecf4e7330 | Norbert Eicker | Wed, 22 Mar 2023 23:44:30 +0100

Add hook PSIDHOOK_NODE_UNKNOWN

 * bump plugin API version to 139
------------------------------------------------------------------------
066132619 | Norbert Eicker | Wed, 22 Mar 2023 23:26:10 +0100

Introduce RDP_updateNode()
------------------------------------------------------------------------
d85031fb8 | Norbert Eicker | Wed, 22 Mar 2023 23:25:13 +0100

More docu improvements on RDP
------------------------------------------------------------------------
854b9cb8d | Norbert Eicker | Wed, 22 Mar 2023 22:03:43 +0100

Refactor and streamline RDP
------------------------------------------------------------------------
8b988e0e4 | Norbert Eicker | Fri, 11 Aug 2023 15:50:33 +0200

Avoid adding a trailing '=' to the path
------------------------------------------------------------------------
28fbc8524 | Norbert Eicker | Thu, 10 Aug 2023 18:31:14 +0200

IWYU fixes
------------------------------------------------------------------------
184342102 | Michael Rauh | Thu, 10 Aug 2023 17:00:37 +0200

Update psslurm kvs help
------------------------------------------------------------------------
e72c2dc7c | Michael Rauh | Thu, 10 Aug 2023 16:44:36 +0200

Improve psiadmin SPANK_LOAD command
 * allow absolute and relative path to the Spank plugin
 * optional arguments passed to the Spank plugin may be set
------------------------------------------------------------------------
64f2cee0d | Michael Rauh | Thu, 10 Aug 2023 15:56:19 +0200

Add Spank arguments to psiadmin show command
------------------------------------------------------------------------
94ea5b031 | Michael Rauh | Thu, 10 Aug 2023 13:53:57 +0200

Don't let psslurm init fail if optional Spank plugins are broken
------------------------------------------------------------------------
7113e7b68 | Norbert Eicker | Thu, 10 Aug 2023 12:16:16 +0200

Improve messaging
------------------------------------------------------------------------
0aabbdad5 | Norbert Eicker | Thu, 10 Aug 2023 11:58:03 +0200

Simplify debug syslog
------------------------------------------------------------------------
1cd69bc5b | Norbert Eicker | Thu, 10 Aug 2023 11:56:58 +0200

Streamline Spank plugin's optional handling
------------------------------------------------------------------------
fb9edbe9b | Norbert Eicker | Thu, 10 Aug 2023 11:50:44 +0200

Utilize findPlugin() in SpankUnloadPlugin()
------------------------------------------------------------------------
82847885b | Michael Rauh | Thu, 10 Aug 2023 10:15:13 +0200

Add help description for SPANK_LOAD, SPANK_UNLOAD and SPANK_FIN
------------------------------------------------------------------------
96e62e249 | Michael Rauh | Wed, 9 Aug 2023 17:34:14 +0200

Ensure Spank plugins will not get loaded twice
------------------------------------------------------------------------
60ba79c65 | Michael Rauh | Wed, 9 Aug 2023 17:11:30 +0200

Add psslurm set options SPANK_LOAD, SPANK_UNLOAD and SPANK_FIN
(#pct:428)
------------------------------------------------------------------------
6752cafcf | Michael Rauh | Wed, 9 Aug 2023 16:14:01 +0200

Add functions to load/unload a single Spank plugin
------------------------------------------------------------------------
ba7417996 | Norbert Eicker | Wed, 14 Jun 2023 14:29:11 +0200

Avoid lapsed constant PMIX_ERR_NOT_IMPLEMENTED in PMIx 4
------------------------------------------------------------------------
851e534f3 | Norbert Eicker | Tue, 1 Aug 2023 19:27:32 +0200

Reflect that EnableRdpStatistics is Boolean
------------------------------------------------------------------------
3eeed76d9 | Stephan Krempel | Thu, 13 Jul 2023 12:11:34 +0200

single_node_config: Use psconfig dumps
------------------------------------------------------------------------
fb6aa94ea | Stephan Krempel | Thu, 13 Jul 2023 11:48:35 +0200

single_node_config: Fix shellcheck issues
------------------------------------------------------------------------
ef4390a4d | Stephan Krempel | Wed, 12 Jul 2023 14:10:42 +0200

Add adjusted psconfig dumps for base and defaults configuration
------------------------------------------------------------------------
071fa8fd9 | Stephan Krempel | Wed, 12 Jul 2023 14:08:24 +0200

Fix psmgmt vipsconfig example
------------------------------------------------------------------------


Version 5.1.56-2:
=================
------------------------------------------------------------------------
2ef2abec6 | Michael Rauh | Thu, 13 Jul 2023 17:30:20 +0200

Bugfix: execute SPANK prologue/epilogue hooks without the presence of
a prologue/epilogue script
------------------------------------------------------------------------
c68bde9f8 | Stephan Krempel | Fri, 14 Jul 2023 01:47:46 +0200

pspmix: Include UID in temp session dir name

In node sharing case this prevents multiple users from trying
to access /tmp/pspmix which will only be allowed to the first
one being the creator of that directory.
------------------------------------------------------------------------
e46f015b0 | Norbert Eicker | Sat, 22 Jul 2023 18:07:15 +0200

Bugfix: let doGetMsgBuf() warn even if header.len is 0
------------------------------------------------------------------------
5e61b6e31 | Norbert Eicker | Mon, 10 Jul 2023 22:07:56 +0200

Add sentence on ParaStation ID -1 to psiadmin's inline help
------------------------------------------------------------------------
c7f1fe006 | Norbert Eicker | Thu, 6 Jul 2023 18:19:45 +0200

Bugfix: Ensure cached PSP_PACK_INFO info is handled (#131)
------------------------------------------------------------------------
1d3909cbe | Michael Rauh | Wed, 5 Jul 2023 18:29:38 +0200

Ensure cores is not used in gres.conf
------------------------------------------------------------------------
41484497e | Norbert Eicker | Wed, 5 Jul 2023 20:04:19 +0200

Fix typo in comments
------------------------------------------------------------------------


Version 5.1.56-1:
=================
------------------------------------------------------------------------
312552da8 | Norbert Eicker | Wed, 28 Jun 2023 18:34:10 +0200

Streamlining
------------------------------------------------------------------------
2df9c73ad | Stephan Krempel | Wed, 28 Jun 2023 16:11:15 +0200

psslurm: Add debugging output in findGresCred()
------------------------------------------------------------------------
6e1d96bb4 | Michael Rauh | Wed, 28 Jun 2023 15:40:14 +0200

Set correct localNodeId for jobs on sister nodes
------------------------------------------------------------------------
12c551bb3 | Norbert Eicker | Wed, 21 Jun 2023 14:13:25 +0200

Prevent spank_api.so from being dlopen()ed twice
------------------------------------------------------------------------
9ff013133 | Norbert Eicker | Fri, 16 Jun 2023 18:21:09 +0200

Fix RPM's postun scriptlet
------------------------------------------------------------------------
5e41bb4c6 | Norbert Eicker | Fri, 16 Jun 2023 16:43:12 +0200

IWYU fixes
------------------------------------------------------------------------


Version 5.1.56:
===============
------------------------------------------------------------------------
200e30493 | Norbert Eicker | Fri, 16 Jun 2023 10:06:49 +0200

Adapt spank_prepend_task_argv() to the final upstream signature
------------------------------------------------------------------------
49313072b | Norbert Eicker | Wed, 7 Jun 2023 16:40:32 +0200

pspmix: Use PSPMIX_ENV_TMOUT to steer environment timeout
------------------------------------------------------------------------
6eea327eb | Norbert Eicker | Mon, 12 Jun 2023 23:46:21 +0200

Drop remnant reservervation information

 - Do not keep old reservation but use the current one
 - Give detailed information on dropped reservation
------------------------------------------------------------------------
8d1055c2c | Norbert Eicker | Mon, 12 Jun 2023 23:08:49 +0200

Add creation time info to PSresinfo_t, PSjob_t, and PSsession_t
------------------------------------------------------------------------
d63b20f84 | Norbert Eicker | Mon, 12 Jun 2023 23:07:23 +0200

Prevent segfault if resInfo is broken (jwt:#21216)
------------------------------------------------------------------------
63cdea6fd | Norbert Eicker | Tue, 6 Jun 2023 16:58:59 +0200

Fix improbable segfault unveiled by gcc 13.1
------------------------------------------------------------------------
a32584747 | Norbert Eicker | Tue, 6 Jun 2023 16:58:02 +0200

Work around gcc 13.1 strange warnings
------------------------------------------------------------------------
de55b8f00 | Norbert Eicker | Tue, 6 Jun 2023 16:04:09 +0200

Work around a gcc 13.1 false positive
------------------------------------------------------------------------
cb1fa28e8 | Michael Rauh | Fri, 9 Jun 2023 16:51:25 +0200

Let psslurm export jail configuration to main psid
environment. This ensures pmix servers have access to it.
------------------------------------------------------------------------
4fdf71b2b | Michael Rauh | Wed, 7 Jun 2023 16:01:49 +0200

Fix typo in spank function name
------------------------------------------------------------------------
8e0fb54cd | Norbert Eicker | Tue, 6 Jun 2023 10:59:47 +0200

Prepare for Slurm's future spank_prepend_task_argv()
------------------------------------------------------------------------
9638507a8 | Stephan Krempel | Tue, 30 May 2023 12:30:16 +0200

Fix memory leak
------------------------------------------------------------------------
24d33cad0 | Stephan Krempel | Fri, 26 May 2023 17:47:38 +0200

psslurm: Move SLURM_TRES_* setting place

Set the variables in setRankEnv() context to take effect. Until now
they have been set in setStepEnv() and directly filtered out again
in removeUserVars().
------------------------------------------------------------------------
67ecd63e8 | Stephan Krempel | Fri, 26 May 2023 17:38:55 +0200

psslurm: Rework GPU pinning

Only set GPU pinning variables for non-interactive tasks
in setRankEnv() context. This prevents conflict issues
if a step is started from inside an interactive step.
------------------------------------------------------------------------
08bdb9b56 | Stephan Krempel | Mon, 22 May 2023 15:50:29 +0200

Avoid silent fails in GPU pinning
------------------------------------------------------------------------
179309de3 | Michael Rauh | Mon, 5 Jun 2023 10:22:12 +0200

Remove debug output from jail-devices script
------------------------------------------------------------------------
fae2eaefe | Norbert Eicker | Sat, 3 Jun 2023 08:08:47 +0200

Update buildsystem
------------------------------------------------------------------------
762d9283e | Norbert Eicker | Sat, 3 Jun 2023 08:06:58 +0200

Fix docu comment formatting
------------------------------------------------------------------------
176cd9907 | Michael Rauh | Thu, 1 Jun 2023 15:48:18 +0200

Let pluginforwarder jail pspmix server processes

 - a pspmix server is responsible for multiple steps of the same user,
   therefore it is confined to the user cgroup
------------------------------------------------------------------------
99ad39f8f | Michael Rauh | Thu, 1 Jun 2023 15:47:20 +0200

Make jail user environment variable more generic
------------------------------------------------------------------------
69fd08529 | Michael Rauh | Thu, 1 Jun 2023 11:32:39 +0200

Let jail init script verify if cgroup is available
------------------------------------------------------------------------
a80bbdf20 | Michael Rauh | Thu, 1 Jun 2023 10:55:09 +0200

Save main psid PID to /run
------------------------------------------------------------------------
1f09cd54c | Michael Rauh | Thu, 1 Jun 2023 10:00:51 +0200

Update buildsystem
------------------------------------------------------------------------
f94d06435 | Michael Rauh | Wed, 31 May 2023 15:17:22 +0200

Add jail initialize script
------------------------------------------------------------------------
ce9cbf5da | Michael Rauh | Wed, 31 May 2023 15:07:47 +0200

Add jail configuration option JAIL_INIT_SCRIPT
------------------------------------------------------------------------
73c5c237f | Michael Rauh | Tue, 30 May 2023 10:04:45 +0200

Improve jail script quoting
------------------------------------------------------------------------
e3f1a18a8 | Michael Rauh | Tue, 30 May 2023 09:50:51 +0200

Set correct cgroup configuration default if no cgroup.conf
is present. Additional ensure configuration updates will
remove obsolete entries.
------------------------------------------------------------------------
757cd4558 | Michael Rauh | Fri, 26 May 2023 15:38:36 +0200

Fix quoting to prevent device jail script from generating
unexpected files
------------------------------------------------------------------------
373fd075f | Norbert Eicker | Sat, 3 Jun 2023 07:33:07 +0200

Cleanup early debug remnants
------------------------------------------------------------------------
f82e7661c | Michael Rauh | Fri, 2 Jun 2023 15:14:32 +0200

Don't let exiting shell spoiling output for steps with pty
(jwt:#21114)
------------------------------------------------------------------------
2d5aab17a | Sonja Happ | Thu, 1 Jun 2023 10:01:34 +0200

scripts/single_node_config: Parse args first and then check for psconfig

If only the help argument is provided, we do not need to check for psconfig.
It is sufficient to check if psconfig is found after we parsed the args.
------------------------------------------------------------------------
1d2dd8618 | Sonja Happ | Thu, 1 Jun 2023 09:59:11 +0200

scripts/single_node_config: Remove limitation of psconfig install path

Do not limit the install path of psconfig to /opt/parastation/bin/.
As long as psconfig is found somewhere in the $PATH, this is sufficient.
------------------------------------------------------------------------
4bb9f7262 | Stephan Krempel | Wed, 24 May 2023 15:59:45 +0200

pspmix: Print input to server_grp_cb()
------------------------------------------------------------------------
de86b2127 | Stephan Krempel | Wed, 17 May 2023 12:01:52 +0200

Let RPMs depend on PMIx minor but release version

API changes should never happen between release versions,
so depending on minor is sufficient.
------------------------------------------------------------------------


Version 5.1.55-2:
=================
------------------------------------------------------------------------
c1ba208d0 | Norbert Eicker | Tue, 16 May 2023 18:19:43 +0200

Bugfix: Prevent free() on uninitialized pointer (jwt:##20926)
------------------------------------------------------------------------


Version 5.1.55-1:
=================
------------------------------------------------------------------------
c48fec84c | Norbert Eicker | Thu, 11 May 2023 11:54:31 +0200

Extra analysis checks for jwt:#20747
------------------------------------------------------------------------
8a2c1ed7f | Norbert Eicker | Thu, 4 May 2023 19:08:27 +0200

Ensure SPANK calls (esp. TASK_EXIT) are not called for service procs
------------------------------------------------------------------------
1071f7586 | Norbert Eicker | Thu, 4 May 2023 19:08:14 +0200

Streamlining
------------------------------------------------------------------------


Version 5.1.55:
===============
------------------------------------------------------------------------
64d3c89a7 | Norbert Eicker | Thu, 27 Apr 2023 13:23:06 +0200

Ignore empty include directories in slurm's configuration includes
------------------------------------------------------------------------
e88630b14 | Norbert Eicker | Wed, 26 Apr 2023 15:52:27 +0200

Various IWYU fixes most new detections by version 0.20
------------------------------------------------------------------------
b301b898b | Norbert Eicker | Wed, 26 Apr 2023 15:50:44 +0200

Ensure credHash is initialized before ufree()ed
------------------------------------------------------------------------
c8a851823 | Norbert Eicker | Wed, 26 Apr 2023 09:59:49 +0200

Streamlining
------------------------------------------------------------------------
e11c952ed | Norbert Eicker | Wed, 26 Apr 2023 09:49:37 +0200

Improve docu comments
------------------------------------------------------------------------
204f6a619 | Norbert Eicker | Wed, 26 Apr 2023 09:35:57 +0200

Streamline docu comments
------------------------------------------------------------------------
692a59efb | Norbert Eicker | Wed, 26 Apr 2023 09:30:53 +0200

Rename PSIDnodes_getID() to PSIDnodes_lookupHostname()

 - This shall make the naming scheme more consistent with
   PSIDnodes_lookupHost()
------------------------------------------------------------------------
b5d385c77 | Norbert Eicker | Wed, 26 Apr 2023 09:20:10 +0200

Proper initialization of PSIDnode's hostname and fix memory leak
------------------------------------------------------------------------
7bee666ec | Norbert Eicker | Wed, 26 Apr 2023 09:18:02 +0200

Improve docu comments
------------------------------------------------------------------------
e7ae20e6a | Norbert Eicker | Wed, 26 Apr 2023 09:15:44 +0200

Fix possible memory leak
------------------------------------------------------------------------
b43be3fb8 | Stephan Krempel | Wed, 5 Apr 2023 17:18:28 +0200

pspmix: First use internal name resolution for hostnames
------------------------------------------------------------------------
fd7d6cf54 | Stephan Krempel | Thu, 13 Apr 2023 01:50:18 +0200

psslurm: Use getNodeIDbyHostname() instead of getNodeIDbyName()
------------------------------------------------------------------------
5b5cefb64 | Stephan Krempel | Wed, 5 Apr 2023 17:21:28 +0200

Introduce getNodeIDbyHostname()

This new function first tries to resolve the string internally
and then falls back to classical getNodeIDbyName() using the
resolver and searching for PS IDs to the IP addresses.
------------------------------------------------------------------------
6dadae129 | Stephan Krempel | Wed, 5 Apr 2023 17:20:30 +0200

Introduce PSIDnodes_getID() to internally resolve hostnames
------------------------------------------------------------------------
eb5607130 | Stephan Krempel | Thu, 13 Apr 2023 00:57:23 +0200

Read real hostname from psconfig

Tries to reads <Psid.NetworkName>.Hostname from psconfig and
stores it as nodes[id].hostname in the nodes database.

If it is not found, this is not an error.

This hostname is meant to be the real hostname of the node in
the network used by the psid. As we take the IP address from
the same network, this should always be the pair the resolver
returns, too. It is a misconfiguration if not so.
------------------------------------------------------------------------
ae24acd9c | Norbert Eicker | Mon, 24 Apr 2023 11:18:14 +0200

Let jail kill leftover processes more gracefully
------------------------------------------------------------------------
c2f5d82e4 | Norbert Eicker | Fri, 21 Apr 2023 16:54:23 +0200

Improve failure log
------------------------------------------------------------------------
0641613f2 | Michael Rauh | Fri, 21 Apr 2023 16:01:25 +0200

Optional SPANK plugins that cannot be loaded get
removed from SpankList
------------------------------------------------------------------------
554c0f18d | Michael Rauh | Tue, 18 Apr 2023 10:44:19 +0200

Actual use optional keyword of plugstack.conf
------------------------------------------------------------------------
e9891c94d | Michael Rauh | Wed, 12 Apr 2023 16:37:41 +0200

Add psslurm option SKIP_CORE_VERIFICATION

 - allow slurm.conf without the specification of cores and threads
   in the NodeName section
 - *warning*: skipping this verification can lead to unforeseen consequences
   if the hardware view of psid and slurmctld is not consistent
------------------------------------------------------------------------
d25b063fb | Michael Rauh | Fri, 21 Apr 2023 16:25:16 +0200

Remove flag GLOB_NOCHECK from psslurm include parsing
------------------------------------------------------------------------
9e954258b | Norbert Eicker | Wed, 19 Apr 2023 17:00:07 +0200

Add error treatment to configurations include handling
------------------------------------------------------------------------
9c4cc9d9e | Norbert Eicker | Tue, 18 Apr 2023 14:08:07 +0200

Introduce initSlurmConfig()
------------------------------------------------------------------------
9b0889c32 | Norbert Eicker | Tue, 18 Apr 2023 11:39:53 +0200

Cleanup superfluous info parameter to parseConfigFile()
------------------------------------------------------------------------
fbaebf81a | Norbert Eicker | Tue, 18 Apr 2023 11:33:53 +0200

Minor renaming
------------------------------------------------------------------------
0a6d1aa7d | Norbert Eicker | Tue, 18 Apr 2023 11:30:50 +0200

Rework psslurm's configuration file include handling
------------------------------------------------------------------------
61698380c | Michael Rauh | Mon, 17 Apr 2023 20:05:04 +0200

Use parseConfigFileExt() in psslurm configuration parsing
to correctly handle include statements
------------------------------------------------------------------------
fb2cb84ec | Norbert Eicker | Mon, 17 Apr 2023 14:01:00 +0200

Introduce parseConfigFileExt()

 - This adds functionality that might be required by immediate
   include handling while reading a configuration
------------------------------------------------------------------------
d6c87f207 | Norbert Eicker | Mon, 17 Apr 2023 12:03:44 +0200

Remove unnecessary trimQuotes flag from parseConfigFile()
------------------------------------------------------------------------
7e89d9bbd | Norbert Eicker | Mon, 17 Apr 2023 11:41:02 +0200

Make quote trimming a configuration feature
------------------------------------------------------------------------
4d84cfd17 | Michael Rauh | Fri, 14 Apr 2023 12:18:58 +0200

Improve slurm.conf include parsing
------------------------------------------------------------------------
638d642b2 | Michael Rauh | Wed, 12 Apr 2023 15:44:47 +0200

Add static to isLocalAddr()
------------------------------------------------------------------------
cb940e759 | Michael Rauh | Wed, 12 Apr 2023 12:21:12 +0200

Add support for include statement in slurm.conf
------------------------------------------------------------------------
b2b54b110 | Michael Rauh | Fri, 14 Apr 2023 12:27:30 +0200

Make one more config comparison case insensitive
------------------------------------------------------------------------
0a684daf4 | Michael Rauh | Tue, 11 Apr 2023 13:15:56 +0200

Fix another double free()
------------------------------------------------------------------------
8bff8d0a1 | Michael Rauh | Tue, 11 Apr 2023 12:58:24 +0200

Set all Slurm configuration files to case-insensitive and
allow double entries
------------------------------------------------------------------------
5e3a585cc | Norbert Eicker | Mon, 3 Apr 2023 18:33:40 +0200

Slurm's configuration might depend on double entries
------------------------------------------------------------------------
a8ae37b9c | Norbert Eicker | Thu, 30 Mar 2023 14:14:54 +0200

Fix double free()
------------------------------------------------------------------------
169d14178 | Norbert Eicker | Mon, 20 Mar 2023 17:48:13 +0100

Check for empty config in setConfigCaseSensitivity()
------------------------------------------------------------------------
8df62f06a | Norbert Eicker | Wed, 8 Mar 2023 10:58:23 +0100

Avoid double entries in configuration
------------------------------------------------------------------------
5c542b9ed | Norbert Eicker | Wed, 8 Mar 2023 10:53:20 +0100

Implement case sensitivity switch for config handling
------------------------------------------------------------------------
8a9aae8a0 | Norbert Eicker | Wed, 8 Mar 2023 00:01:50 +0100

Make pluginconfig's Config_t opaque
------------------------------------------------------------------------
3de716af6 | Norbert Eicker | Sun, 2 Apr 2023 18:01:44 +0200

Add support for S_TASK_ARGV to psslurmspank
------------------------------------------------------------------------
35e5c1030 | Norbert Eicker | Sun, 2 Apr 2023 18:01:18 +0200

Add configure test for S_TASK_ARGV propose for vanilla Slurm
------------------------------------------------------------------------
d471d8870 | Stephan Krempel | Thu, 23 Mar 2023 01:30:08 +0100

Fix typos
------------------------------------------------------------------------
89f330638 | Norbert Eicker | Mon, 20 Mar 2023 15:55:30 +0100

Rename hardware.[ch] to psattribute.[ch]
------------------------------------------------------------------------
0a7fbfe92 | Norbert Eicker | Mon, 20 Mar 2023 15:19:53 +0100

Extend parastation.conf parser to Feature/Attribute syntax
------------------------------------------------------------------------
4c1d042b0 | Norbert Eicker | Tue, 14 Mar 2023 21:44:33 +0100

Rename HW to Attr to reflect changed usage
------------------------------------------------------------------------
d505fb50e | Norbert Eicker | Tue, 14 Mar 2023 15:09:43 +0100

De-duplicate function
------------------------------------------------------------------------
7882044d0 | Norbert Eicker | Tue, 14 Mar 2023 12:00:21 +0100

Improve psid<->psiadmin protocol constraints
------------------------------------------------------------------------
9af69e600 | Norbert Eicker | Thu, 30 Mar 2023 13:56:49 +0200

Add more Spank option handling
------------------------------------------------------------------------
b7c712321 | Norbert Eicker | Wed, 29 Mar 2023 14:17:49 +0200

Handle Spank options for SPANK_TASK_INIT, too
------------------------------------------------------------------------
5190622b5 | Michael Rauh | Mon, 20 Mar 2023 14:28:15 +0100

Improve sanity checks for user and jobids
------------------------------------------------------------------------
e79a0ca1b | Michael Rauh | Fri, 24 Feb 2023 16:58:15 +0100

Fix error redirection
------------------------------------------------------------------------
945c5bb05 | Michael Rauh | Fri, 24 Feb 2023 16:57:16 +0100

Fix more indentation of jail scripts
------------------------------------------------------------------------
54d697f17 | Michael Rauh | Fri, 24 Feb 2023 16:25:41 +0100

Set KILL_SIGNAL globally in jail-functions
------------------------------------------------------------------------
9c0e816f2 | Michael Rauh | Fri, 24 Feb 2023 16:17:37 +0100

Ensure leftover cgroup entries don't interfere with jail scripts
------------------------------------------------------------------------
752878c67 | Michael Rauh | Fri, 24 Feb 2023 14:02:03 +0100

Suppress obsolete error messages in jail scripts
------------------------------------------------------------------------
9761ee874 | Michael Rauh | Fri, 24 Feb 2023 13:51:25 +0100

Set CG_USER, CG_JOB and CG_STEP globally in jail-main
------------------------------------------------------------------------
076206b3c | Michael Rauh | Fri, 24 Feb 2023 13:15:32 +0100

Fix indentation
------------------------------------------------------------------------
5fdcafdb4 | Norbert Eicker | Fri, 17 Mar 2023 14:42:06 +0100

Rename flags for Slurm's message authentification
------------------------------------------------------------------------
1ba55be28 | Michael Rauh | Wed, 8 Mar 2023 16:13:03 +0100

More use of doSetEnv()
------------------------------------------------------------------------
c4307f300 | Michael Rauh | Wed, 8 Mar 2023 16:08:24 +0100

Set various missing environment variables from
job credential
------------------------------------------------------------------------
14f42b599 | Michael Rauh | Mon, 6 Mar 2023 14:03:18 +0100

Skip authentication for Slurm message responses
------------------------------------------------------------------------
6345ff1af | Michael Rauh | Wed, 1 Mar 2023 16:28:29 +0100

Add support for Slurm 23.02 protocol
------------------------------------------------------------------------
71b34b1b7 | Stephan Krempel | Thu, 16 Mar 2023 03:12:15 +0100

ReFrame: Add test using putGet PMIx test program
------------------------------------------------------------------------
f0f92abf1 | Stephan Krempel | Thu, 16 Mar 2023 03:11:09 +0100

ReFrame: Create generic parent class for simple PMIx tests
------------------------------------------------------------------------
5b5b9c450 | Stephan Krempel | Thu, 16 Mar 2023 03:09:59 +0100

ReFrame: Check error output to be empty
------------------------------------------------------------------------
cd6744bce | Stephan Krempel | Thu, 16 Mar 2023 03:08:59 +0100

ReFrame: Fix using multiple nodes
------------------------------------------------------------------------
9e7e088ae | Stephan Krempel | Thu, 16 Mar 2023 01:36:49 +0100

Move ReFrame config into subdirectory
------------------------------------------------------------------------
9901f8d8c | Stephan Krempel | Thu, 16 Mar 2023 01:00:27 +0100

Add ReFrame testsuite and first PMIx test

* Add short README how to use ReFrame
* Add configuration for partecvm
* Add parameterized test using PMIx getSizes test program
------------------------------------------------------------------------
ab8aec4c5 | Norbert Eicker | Mon, 20 Mar 2023 09:58:28 +0100

Minor streamlining of spank_test plugin
------------------------------------------------------------------------
7ca97aabc | Michael Rauh | Mon, 20 Mar 2023 09:48:16 +0100

Actually send CMD_INIT_COMPLETE to mother psid
------------------------------------------------------------------------
a49e2d6de | Michael Rauh | Wed, 15 Mar 2023 15:19:09 +0100

Enhance compatibility of SPANK hooks

 - enable SPANK hooks spank_init, spank_init_post_opt and spank_user_init
   to modify the environment of corresponding user processes

 - additionally ensure the correct order of SPANK hook calls
------------------------------------------------------------------------
a91e4dd50 | Michael Rauh | Wed, 15 Mar 2023 15:18:06 +0100

Use the correct functions to change the environment dependent on the
SPANK context
------------------------------------------------------------------------


Version 5.1.54-3:
=================
------------------------------------------------------------------------
8bc103552 | Stephan Krempel | Fri, 3 Mar 2023 01:26:39 +0100

psslurmgetbind: Reject mututally exclusive srun options
------------------------------------------------------------------------
cdfb061f7 | Stephan Krempel | Fri, 3 Mar 2023 01:25:29 +0100

psslurmgetbind: Fix --threads-per-core > 1
------------------------------------------------------------------------
c512576a1 | Stephan Krempel | Fri, 3 Mar 2023 01:24:31 +0100

psslurmgetbind: Support srun option --threads-per-core
------------------------------------------------------------------------
62c40f3a7 | Stephan Krempel | Fri, 3 Mar 2023 00:20:25 +0100

psslurm: Make test_psslurmpin work again
------------------------------------------------------------------------
cbfdcabc1 | Norbert Eicker | Mon, 6 Mar 2023 19:22:54 +0100

Bugfix: Ensure downward messages are not handled as upward (jwt:#19720)
------------------------------------------------------------------------
756d8fc5d | Norbert Eicker | Mon, 6 Mar 2023 16:28:11 +0100

Help debugging failed spawns
------------------------------------------------------------------------
189aeb961 | Norbert Eicker | Tue, 21 Feb 2023 15:43:30 +0100

Fix typo
------------------------------------------------------------------------


Version 5.1.54-2:
=================
------------------------------------------------------------------------
7ee68d546 | Michael Rauh | Fri, 17 Feb 2023 17:54:17 +0100

Bugfix: spank path in slurm.conf may be absolute or relative
------------------------------------------------------------------------
3c3263744 | Michael Rauh | Fri, 17 Feb 2023 17:08:48 +0100

Bugfix: slurm.conf holds absolute path to spank configuration
------------------------------------------------------------------------


Version 5.1.54-1:
=================
------------------------------------------------------------------------
288d1b226 | Stephan Krempel | Thu, 16 Feb 2023 16:33:52 +0100

psslurm: Update srun options for user triggered spawn
------------------------------------------------------------------------
b249ffe26 | Norbert Eicker | Thu, 16 Feb 2023 11:57:35 +0100

Yet another check
------------------------------------------------------------------------
8c18a96e3 | Michael Rauh | Wed, 15 Feb 2023 11:17:44 +0100

Fix possbile segfault when parsing GRes usage
------------------------------------------------------------------------


Version 5.1.54:
===============
------------------------------------------------------------------------
35070c7ff | Norbert Eicker | Fri, 10 Feb 2023 14:29:16 +0100

IWYU fixes
------------------------------------------------------------------------
56b69ae7a | Norbert Eicker | Fri, 10 Feb 2023 14:09:19 +0100

Let the handleRebootNodes() function actually end
------------------------------------------------------------------------
4e419464c | Michael Rauh | Fri, 10 Feb 2023 14:00:31 +0100

Let jail module cpuset log additions to user cgroup (SSH logins)
------------------------------------------------------------------------
e4711031e | Michael Rauh | Fri, 10 Feb 2023 13:04:04 +0100

Make more jail scripts less chatty
------------------------------------------------------------------------
77ab018a2 | Michael Rauh | Fri, 10 Feb 2023 12:18:24 +0100

Introduce LOG_TO_SYSLOG and let jail scripts log to syslog as default
------------------------------------------------------------------------
8905748db | Michael Rauh | Fri, 10 Feb 2023 12:01:21 +0100

Make jail scripts less chatty
------------------------------------------------------------------------
0719eb835 | Norbert Eicker | Thu, 9 Feb 2023 19:38:25 +0100

Prevent premature exit of logger on short jobs
------------------------------------------------------------------------
2765db0fc | Michael Rauh | Thu, 9 Feb 2023 17:34:21 +0100

Bugfix: fix possible segfault if psslurm verifies an allocation (#96)
------------------------------------------------------------------------
24c76f1a8 | Norbert Eicker | Thu, 9 Feb 2023 16:37:48 +0100

Streamline psilogger code
------------------------------------------------------------------------
8433d5ee7 | Norbert Eicker | Thu, 9 Feb 2023 15:38:37 +0100

Rework __PSI_LOGGER_IO_FILE implementation
------------------------------------------------------------------------
d94561297 | Michael Rauh | Thu, 9 Feb 2023 11:58:19 +0100

Improve error log implementation
------------------------------------------------------------------------
3e2297aef | Michael Rauh | Wed, 8 Feb 2023 12:17:28 +0100

Introduce __PSI_LOGGER_IO_FILE

 - let psilogger redirect the stdout and stderr to a local file
 - the filename will be prefixed with the name of the variable
 - stdout and stderr will be redirected to one file each
------------------------------------------------------------------------
12d50b25f | Michael Rauh | Wed, 8 Feb 2023 10:13:53 +0100

Show senders TID for failed psaccount update messages
------------------------------------------------------------------------
95c4020d1 | Norbert Eicker | Tue, 7 Feb 2023 21:49:32 +0100

Give some indication why connection to logger gets lost

 - For this PSP_CC_ERROR messages will contain some payload of the
   dropped PSP_CC_MSG
------------------------------------------------------------------------
460fc3323 | Michael Rauh | Mon, 6 Feb 2023 17:26:00 +0100

Cleanup leftover job/step entries in cpuset cgroup
------------------------------------------------------------------------
6b0a569d8 | Michael Rauh | Mon, 6 Feb 2023 17:25:23 +0100

Kill cgroup tasks of jobs which have no steps
------------------------------------------------------------------------
7198f7c7e | Michael Rauh | Mon, 6 Feb 2023 15:02:06 +0100

Enhancement: Speedup completing phase of steps which failed to start
------------------------------------------------------------------------
16f7f9240 | Michael Rauh | Mon, 6 Feb 2023 15:01:31 +0100

Add additional logging information for job termination requests
------------------------------------------------------------------------
9d09ce525 | Norbert Eicker | Mon, 6 Feb 2023 12:49:56 +0100

Let psslurm fail early if not run as root
------------------------------------------------------------------------
e61561a39 | Norbert Eicker | Mon, 6 Feb 2023 12:49:05 +0100

Reorder function declaration
------------------------------------------------------------------------
e2815ebd4 | Norbert Eicker | Mon, 6 Feb 2023 12:48:36 +0100

Simplify logic
------------------------------------------------------------------------
4e1593ec3 | Michael Rauh | Mon, 6 Feb 2023 11:55:34 +0100

Move locking of cpuset cgroup after sanity checks
------------------------------------------------------------------------
7b5652b43 | Michael Rauh | Fri, 3 Feb 2023 14:45:38 +0100

Don't instantly verify all allocations with enabled node sharing
------------------------------------------------------------------------
32b9f3f15 | Michael Rauh | Thu, 2 Feb 2023 17:37:53 +0100

Bugfix: don't destroy steps in Job_delete()
------------------------------------------------------------------------
919d7dacb | Michael Rauh | Thu, 2 Feb 2023 17:30:02 +0100

Rename Step_clearByJobid() to Step_destroyByJobid() and improve
documentation
------------------------------------------------------------------------
d7fc7c5a0 | Michael Rauh | Thu, 2 Feb 2023 15:56:13 +0100

Add caller information to signalTasks()
------------------------------------------------------------------------
44bbd97d9 | Michael Rauh | Thu, 2 Feb 2023 13:05:41 +0100

Bugfix: Ensure all delayed tasks get removed if the corresponding
allocation is gone
------------------------------------------------------------------------
62c28674e | Michael Rauh | Wed, 1 Feb 2023 16:45:16 +0100

Add stepid information to signalTasks()
------------------------------------------------------------------------
16f222976 | Michael Rauh | Wed, 1 Feb 2023 16:35:58 +0100

Add module locking to jail scripts and some minor fixes
------------------------------------------------------------------------
7e015087d | Michael Rauh | Fri, 10 Feb 2023 13:48:07 +0100

Improve comments
------------------------------------------------------------------------
e52b9d41c | Michael Rauh | Thu, 9 Feb 2023 15:18:21 +0100

Loop over complete denied user list
------------------------------------------------------------------------
fcdc2f25f | Michael Rauh | Thu, 9 Feb 2023 14:49:46 +0100

Change error code for invalid user to ESLURM_USER_ID_MISSING
------------------------------------------------------------------------
1a08cf8e0 | Michael Rauh | Thu, 9 Feb 2023 14:45:45 +0100

Change permission error code to ESLURM_ACCESS_DENIED
------------------------------------------------------------------------
6713721e4 | Michael Rauh | Thu, 9 Feb 2023 14:30:24 +0100

Add message type error log of checkPrivMsg()
------------------------------------------------------------------------
10f1bcf7d | Norbert Eicker | Tue, 31 Jan 2023 13:56:23 +0100

Avoid goto
------------------------------------------------------------------------
de78b3039 | Michael Rauh | Tue, 31 Jan 2023 12:16:00 +0100

Use array to store denied UIDs
------------------------------------------------------------------------
906fe6f6f | Michael Rauh | Tue, 31 Jan 2023 11:53:23 +0100

Introduce checkPrivMsg()
------------------------------------------------------------------------
4121ff8b1 | Norbert Eicker | Mon, 30 Jan 2023 19:38:54 +0100

Fix typos
------------------------------------------------------------------------
9e30f144c | Michael Rauh | Mon, 30 Jan 2023 14:14:23 +0100

Add new psslurm configuration option DENIED_USERS

 * list of users unable to start a job/step/bcast
 * default value is set to "root"
------------------------------------------------------------------------
aeeee24e1 | Norbert Eicker | Thu, 9 Feb 2023 21:57:19 +0100

More IWYU fixes
------------------------------------------------------------------------
0d47e5384 | Norbert Eicker | Mon, 30 Jan 2023 15:48:51 +0100

Adapt to IWYU 0.19
------------------------------------------------------------------------
19ab2a6ee | Stephan Krempel | Wed, 8 Feb 2023 05:06:36 +0100

Fix typo
------------------------------------------------------------------------
26fc5e3ee | Norbert Eicker | Tue, 7 Feb 2023 22:44:57 +0100

Unify process set creation
------------------------------------------------------------------------
1615a62d3 | Stephan Krempel | Tue, 7 Feb 2023 11:30:27 +0100

pspmix: Make pset creations noops for PMIx < 4
------------------------------------------------------------------------
6dadd0eac | Stephan Krempel | Tue, 7 Feb 2023 04:53:38 +0100

pspmix: Make behavior of pset creation consitent
------------------------------------------------------------------------
5c8695401 | Stephan Krempel | Tue, 7 Feb 2023 04:25:07 +0100

pspmix: Setup local node before creating psets
------------------------------------------------------------------------
cffc80823 | Norbert Eicker | Mon, 6 Feb 2023 22:50:44 +0100

Streamline
------------------------------------------------------------------------
ccf193503 | Stephan Krempel | Fri, 3 Feb 2023 08:18:41 +0100

pspmix: Introduce application psets

This uses the new environment variables PMIX_APPNAME_<ID> to be
set by mpiexec.

see #110
------------------------------------------------------------------------
6daf6c546 | Stephan Krempel | Fri, 3 Feb 2023 08:10:46 +0100

pspmix: Adjust to new naming scheme
------------------------------------------------------------------------
340b57feb | Stephan Krempel | Fri, 3 Feb 2023 08:03:51 +0100

pspmix: Do not report error on empty pset
------------------------------------------------------------------------
74bc0524e | Stephan Krempel | Fri, 3 Feb 2023 08:02:44 +0100

pspmix: Debug log pset creation
------------------------------------------------------------------------
2e3b0fe6f | Stephan Krempel | Tue, 29 Nov 2022 18:04:06 +0100

Fix format and streamlining
------------------------------------------------------------------------
fb1a3b2ea | Sonja Happ | Tue, 29 Nov 2022 15:22:34 +0100

psmpix: do not create empty process sets
------------------------------------------------------------------------
b250e693f | Stephan Krempel | Tue, 22 Nov 2022 13:48:11 +0100

pspmix: Be tolerant to PMIX_OPERATION_SUCCEEDED
------------------------------------------------------------------------
f7268e4e0 | Stephan Krempel | Fri, 28 Oct 2022 09:33:27 +0200

pspmix: remove pragmas obsoleted by openpmix 4.2.2
------------------------------------------------------------------------
3694c8759 | Stephan Krempel | Thu, 27 Oct 2022 00:52:33 +0200

pspmix: Create a psets based on reservation
------------------------------------------------------------------------
f481d4fe2 | Stephan Krempel | Thu, 27 Oct 2022 00:51:48 +0200

pspmix: Add resID to PspmixApp_t
------------------------------------------------------------------------
b2bec48fe | Stephan Krempel | Thu, 27 Oct 2022 00:50:50 +0200

pspmix: Add function to create pset based on process characteristics
------------------------------------------------------------------------
8afb126fc | Stephan Krempel | Wed, 26 Oct 2022 14:27:34 +0200

pspmix: Create a psets based on hwtype
------------------------------------------------------------------------
12f68e4bb | Stephan Krempel | Wed, 26 Oct 2022 14:26:32 +0200

pspmix: Add function to create pset based on node characteristics
------------------------------------------------------------------------
896b418f0 | Stephan Krempel | Thu, 2 Feb 2023 01:30:48 +0100

pspmix: Fix msg extra handling when verifying UIDs
------------------------------------------------------------------------
26a9da652 | Norbert Eicker | Wed, 1 Feb 2023 16:00:51 +0100

Improve logging
------------------------------------------------------------------------
e24dbe5d0 | Norbert Eicker | Tue, 31 Jan 2023 11:17:16 +0100

Minor changes / improvements
------------------------------------------------------------------------
d8b829c07 | Stephan Krempel | Tue, 31 Jan 2023 03:19:35 +0100

pspmix: Verify sender, dest and user IDs
------------------------------------------------------------------------
618e564e8 | Norbert Eicker | Fri, 3 Feb 2023 15:18:15 +0100

Remove unnecessary sort
------------------------------------------------------------------------
c72cb51c0 | Stephan Krempel | Thu, 2 Feb 2023 00:24:41 +0100

pspmix: Enhance comments about fence object existence
------------------------------------------------------------------------
ab439d5d5 | Stephan Krempel | Thu, 2 Feb 2023 00:22:34 +0100

pspmix: Add comments about executing threads
------------------------------------------------------------------------
798be187f | Stephan Krempel | Thu, 2 Feb 2023 00:20:12 +0100

pspmix: Some further comments about data ownership
------------------------------------------------------------------------
38b98d376 | Norbert Eicker | Wed, 1 Feb 2023 19:06:50 +0100

Report pending messages in completed fence
------------------------------------------------------------------------
bbfdbb7e1 | Norbert Eicker | Wed, 1 Feb 2023 18:53:25 +0100

Minor rephrasing of docu comments
------------------------------------------------------------------------
51fdeb5f4 | Stephan Krempel | Wed, 1 Feb 2023 18:35:25 +0100

pspmix: Enhance comments
------------------------------------------------------------------------
bb6fb48ee | Norbert Eicker | Tue, 31 Jan 2023 18:23:46 +0100

Adapt docu to upward/downward lingo
------------------------------------------------------------------------
c91ec287b | Norbert Eicker | Tue, 31 Jan 2023 16:15:37 +0100

Minor fixes
------------------------------------------------------------------------
214521a2e | Stephan Krempel | Tue, 31 Jan 2023 13:44:39 +0100

Fix typos
------------------------------------------------------------------------
8d38e1c15 | Norbert Eicker | Wed, 18 Jan 2023 08:38:06 +0100

Yet another typo
------------------------------------------------------------------------
ededda131 | Stephan Krempel | Tue, 17 Jan 2023 23:22:12 +0000

Fix typos in pluginvector.h
------------------------------------------------------------------------
c0399eaed | Norbert Eicker | Tue, 17 Jan 2023 12:06:06 +0100

Ignore modexdata_t's proc member in fence context
------------------------------------------------------------------------
b79e78cda | Norbert Eicker | Tue, 17 Jan 2023 11:24:12 +0100

Some simple PMIx examples to be used for testing
------------------------------------------------------------------------
bffa9da99 | Norbert Eicker | Tue, 17 Jan 2023 10:16:50 +0100

Improve logging
------------------------------------------------------------------------
4cf87706c | Norbert Eicker | Thu, 12 Jan 2023 03:31:12 +0100

Fix typos
------------------------------------------------------------------------
70add2dd3 | Norbert Eicker | Thu, 12 Jan 2023 03:18:23 +0100

Implement pspmix' tree fence

 * This shall reduce number of message from 2*N to 2*lg(N) and the
   amount of time from N^2 to N*lg(N)
------------------------------------------------------------------------
e48fac1fa | Norbert Eicker | Wed, 11 Jan 2023 23:24:30 +0100

Improve docu comments
------------------------------------------------------------------------
a7afc8ec3 | Norbert Eicker | Wed, 11 Jan 2023 22:27:54 +0100

Introduce PSPMIX_FENCE_DATA for tree fence
------------------------------------------------------------------------
e3ffe6a96 | Norbert Eicker | Tue, 10 Jan 2023 16:10:44 +0100

Prepare fence object of tree communication
------------------------------------------------------------------------
e80b5f21c | Norbert Eicker | Tue, 10 Jan 2023 12:16:44 +0100

Add functionality to find entry in vector
------------------------------------------------------------------------
8426464c4 | Norbert Eicker | Tue, 10 Jan 2023 11:43:21 +0100

Reflect the fact that fence IDs are now unique
------------------------------------------------------------------------
cb20b4d9a | Norbert Eicker | Tue, 10 Jan 2023 11:11:49 +0100

Include namespace (as a jobID proxy) into fetchID hash
------------------------------------------------------------------------
41086c827 | Norbert Eicker | Mon, 9 Jan 2023 20:20:34 +0100

Enhance some comments documenting PMIx server behavior
------------------------------------------------------------------------
e0e0b4777 | Norbert Eicker | Mon, 9 Jan 2023 20:03:32 +0100

Minor cleanup in memory handling
------------------------------------------------------------------------
9c947ed16 | Norbert Eicker | Mon, 9 Jan 2023 19:53:25 +0100

Fix typo in docu comment
------------------------------------------------------------------------
e7aa39b5d | Norbert Eicker | Mon, 9 Jan 2023 19:49:55 +0100

Move node extraction into extractNodes()
------------------------------------------------------------------------
ecadf3d37 | Norbert Eicker | Mon, 9 Jan 2023 19:23:44 +0100

Fix typo in comment
------------------------------------------------------------------------
56e5590b3 | Norbert Eicker | Mon, 9 Jan 2023 19:22:12 +0100

Bugfix: ensure all data is sent to successor
------------------------------------------------------------------------
f53a20ecb | Norbert Eicker | Mon, 9 Jan 2023 19:17:12 +0100

Fix potentiaal memory leak
------------------------------------------------------------------------
f493edc88 | Michael Rauh | Thu, 2 Feb 2023 14:03:33 +0100

Bugfix: initialize plugins before parsing the configuration
------------------------------------------------------------------------
1d040c2f2 | Michael Rauh | Thu, 2 Feb 2023 11:01:48 +0100

Don't load psslurm of jail function handles are not avaiable
------------------------------------------------------------------------
a8879acf8 | Norbert Eicker | Fri, 20 Jan 2023 01:15:38 +0100

Reflect traverseCompList() rename in filenames
------------------------------------------------------------------------
d218d4f6f | Norbert Eicker | Fri, 20 Jan 2023 01:01:28 +0100

Rename traverseHostList to traverseCompList
------------------------------------------------------------------------
5f99c44dc | Norbert Eicker | Fri, 20 Jan 2023 00:56:51 +0100

Rework traverseHostList()
------------------------------------------------------------------------
69a0d46cb | Michael Rauh | Tue, 24 Jan 2023 17:00:52 +0100

Save old jail scripts before introducing symlinks to updated scripts
------------------------------------------------------------------------
6f09e6e84 | Michael Rauh | Tue, 24 Jan 2023 14:03:30 +0100

Introduce jail environment mapping function initJailEnv()
------------------------------------------------------------------------
106857f38 | Norbert Eicker | Tue, 24 Jan 2023 13:18:34 +0100

Fix fast forward in psslurmenv
------------------------------------------------------------------------
21187a27f | Michael Rauh | Tue, 24 Jan 2023 12:49:38 +0100

Remove "SLURM" prefix from jail script environment variables
------------------------------------------------------------------------
3373c4814 | Michael Rauh | Tue, 24 Jan 2023 10:27:56 +0100

Fix float comparison
------------------------------------------------------------------------
0c39a4b1a | Norbert Eicker | Tue, 24 Jan 2023 09:05:04 +0100

Fast forward loop while setting jail's memory env
------------------------------------------------------------------------
c75355579 | Norbert Eicker | Tue, 24 Jan 2023 08:43:57 +0100

Introduce traverseGResDevs() to improve one nested loop
------------------------------------------------------------------------
9f3e1ec18 | Norbert Eicker | Mon, 23 Jan 2023 17:15:07 +0100

Update buildsystem
------------------------------------------------------------------------
2a0d48c6f | Michael Rauh | Mon, 23 Jan 2023 14:26:13 +0100

Remove duplicated code for counting GRes devices
------------------------------------------------------------------------
ce700f945 | Michael Rauh | Mon, 23 Jan 2023 13:56:06 +0100

Use jailGetScripts() in psslurm to ensure valid jail scripts
are available when cgroup constrains are configured
------------------------------------------------------------------------
425d151f3 | Michael Rauh | Mon, 23 Jan 2023 13:32:17 +0100

Include jail handle in psslurm
------------------------------------------------------------------------
e355b4a2d | Michael Rauh | Mon, 23 Jan 2023 13:24:11 +0100

Update buildsystem
------------------------------------------------------------------------
cb759063a | Michael Rauh | Mon, 23 Jan 2023 13:23:15 +0100

Add jail handle to be used in psslurm
------------------------------------------------------------------------
e230b2c49 | Norbert Eicker | Mon, 23 Jan 2023 12:07:42 +0100

Add jailGetScripts() interface to jail plugin

 - Push jail version to 3
------------------------------------------------------------------------
b6d59f82b | Michael Rauh | Fri, 20 Jan 2023 17:55:10 +0100

Fix cgroup swappiness spelling and scripts
------------------------------------------------------------------------
80d0aa327 | Michael Rauh | Fri, 20 Jan 2023 17:54:16 +0100

Don't remove symlinks jail.sh and jail-term.sh when upgrading psmgmt
------------------------------------------------------------------------
4576af7f7 | Norbert Eicker | Fri, 20 Jan 2023 15:12:39 +0100

Set RPM ownership of jail.sh and jail-term.sh
------------------------------------------------------------------------
e844ff2a6 | Michael Rauh | Fri, 20 Jan 2023 14:57:51 +0100

Remove unnecessary check
------------------------------------------------------------------------
98eeea3e2 | Michael Rauh | Fri, 20 Jan 2023 14:55:07 +0100

Add and use clearTopology()
------------------------------------------------------------------------
b0c882f4f | Michael Rauh | Fri, 20 Jan 2023 14:39:01 +0100

Add missing cgroup configuration default for MinRAMSpace
------------------------------------------------------------------------
cd4c7c22f | Norbert Eicker | Fri, 20 Jan 2023 14:38:20 +0100

Avoid changing the environment temporarily
------------------------------------------------------------------------
6d89843ae | Norbert Eicker | Fri, 20 Jan 2023 01:31:48 +0100

More changes of cgroup config description
------------------------------------------------------------------------
fbb36c8d2 | Michael Rauh | Thu, 19 Jan 2023 20:06:30 +0100

Remove jail symlinks when rpm package is uninstalled
------------------------------------------------------------------------
39c5cb7ba | Michael Rauh | Thu, 19 Jan 2023 19:53:37 +0100

Fix cgroup config description
------------------------------------------------------------------------
03a27a921 | Michael Rauh | Thu, 19 Jan 2023 16:55:23 +0100

Avoid changing the environment temporarily
------------------------------------------------------------------------
8592acb08 | Michael Rauh | Thu, 19 Jan 2023 15:57:56 +0100

Fix possible segfault when comparing environment variables
------------------------------------------------------------------------
d2b68b26b | Michael Rauh | Thu, 19 Jan 2023 15:50:12 +0100

Remove misplaced cgroup list initialisation
------------------------------------------------------------------------
e5f6fe0cd | Norbert Eicker | Wed, 18 Jan 2023 22:47:19 +0100

Whitespace fixes
------------------------------------------------------------------------
4238408b3 | Norbert Eicker | Tue, 17 Jan 2023 19:55:17 +0100

Fix potential memory leaks
------------------------------------------------------------------------
8152e0d4e | Norbert Eicker | Tue, 17 Jan 2023 18:51:27 +0100

Unify spelling in docu comments
------------------------------------------------------------------------
86bf6aa1a | Norbert Eicker | Tue, 17 Jan 2023 18:01:08 +0100

Push to automake 1.16.5 again
------------------------------------------------------------------------
692d8f2f8 | Norbert Eicker | Tue, 17 Jan 2023 17:48:49 +0100

Enhance docu comments in jail scripts
------------------------------------------------------------------------
29951afac | Norbert Eicker | Tue, 17 Jan 2023 16:47:39 +0100

IWYU fixes
------------------------------------------------------------------------
cee4200ed | Michael Rauh | Fri, 13 Jan 2023 18:06:36 +0100

Change cpuset syntax for new expand script
------------------------------------------------------------------------
f8c8f5b62 | Michael Rauh | Fri, 13 Jan 2023 17:09:00 +0100

Add basic pspam support for jail devices and memory
------------------------------------------------------------------------
0d0f0f9df | Michael Rauh | Thu, 12 Jan 2023 18:09:16 +0100

Set missing job environment variables
------------------------------------------------------------------------
a7b50038b | Michael Rauh | Thu, 12 Jan 2023 15:17:27 +0100

Fix possbile segfault for unset GRes devices
------------------------------------------------------------------------
eb18ed724 | Michael Rauh | Thu, 12 Jan 2023 12:52:14 +0100

Use total node memory as limit if slurmctld does not provide one
------------------------------------------------------------------------
ba8f88f44 | Michael Rauh | Thu, 12 Jan 2023 12:13:45 +0100

Improve cgroup.conf help messages
------------------------------------------------------------------------
86eb9871d | Michael Rauh | Thu, 12 Jan 2023 12:06:15 +0100

Validate jail memory limits
------------------------------------------------------------------------
2f3148724 | Michael Rauh | Thu, 12 Jan 2023 11:29:38 +0100

Fix warning in jail script
------------------------------------------------------------------------
d6232d31c | Michael Rauh | Thu, 12 Jan 2023 11:20:54 +0100

Use pscompress and psexpand in jail scripts
------------------------------------------------------------------------
25000bbb1 | Michael Rauh | Thu, 12 Jan 2023 10:28:27 +0100

Adopt psroute to new path of pscompress and psexpand
------------------------------------------------------------------------
e4951774d | Michael Rauh | Thu, 12 Jan 2023 10:23:19 +0100

Update buildsystem
------------------------------------------------------------------------
1ebd83ffd | Michael Rauh | Wed, 11 Jan 2023 21:47:52 +0100

Move pscompress psexpand to main scripts folder
------------------------------------------------------------------------
311cee94c | Michael Rauh | Wed, 11 Jan 2023 21:38:33 +0100

Add shebang to pscompress and psexpand
------------------------------------------------------------------------
fd2362c4d | Michael Rauh | Wed, 11 Jan 2023 21:11:52 +0100

Enable jail scripts as default
------------------------------------------------------------------------
f024795b8 | Michael Rauh | Wed, 11 Jan 2023 17:05:41 +0100

Update buildsystem
------------------------------------------------------------------------
7b626d994 | Michael Rauh | Wed, 11 Jan 2023 17:02:32 +0100

Move jail scripts to separate folders
------------------------------------------------------------------------
1b9ea066c | Michael Rauh | Tue, 10 Jan 2023 14:25:46 +0100

Add support for additonal memory limit (soft ram, kmem, swap, swapiness)
------------------------------------------------------------------------
4969c8bd8 | Michael Rauh | Tue, 10 Jan 2023 14:23:09 +0100

Add additional cgroup default values
------------------------------------------------------------------------
cf41f0ef4 | Michael Rauh | Wed, 4 Jan 2023 10:11:15 +0100

Ensure SLURM_CONF has new SLURM_CONFIG_DIR path appended
------------------------------------------------------------------------
fbb77c365 | Norbert Eicker | Wed, 4 Jan 2023 14:26:25 +0100

Fix copyright statements
------------------------------------------------------------------------
2831533bd | Michael Rauh | Tue, 3 Jan 2023 17:00:37 +0100

Add log debug mask PSSLURM_LOG_JAIL
------------------------------------------------------------------------
1b62fa4bc | Michael Rauh | Mon, 2 Jan 2023 17:01:41 +0100

Make private function getNodeMem() public
------------------------------------------------------------------------
99beeda6c | Michael Rauh | Mon, 2 Jan 2023 15:47:02 +0100

Add getConfValueF() to query a configuration value as
floating point number
------------------------------------------------------------------------
d9e5a0e8b | Michael Rauh | Mon, 2 Jan 2023 14:57:48 +0100

Remove obsolete comment
------------------------------------------------------------------------
94ed4a8fb | Michael Rauh | Fri, 30 Dec 2022 15:34:25 +0100

Add warning for unsupported cgroup.conf options
------------------------------------------------------------------------
f6eaa5d8c | Michael Rauh | Fri, 30 Dec 2022 15:18:39 +0100

Forward cgroup configuration to jail scripts and cleanup environment
for child processes
------------------------------------------------------------------------
ebc1e3ce2 | Michael Rauh | Fri, 30 Dec 2022 15:12:19 +0100

Parse Slurm cgroup.conf configuration
------------------------------------------------------------------------
815e74626 | Michael Rauh | Fri, 30 Dec 2022 14:14:23 +0100

Make private function hexBitstr2Set() public
------------------------------------------------------------------------
a04f6730a | Michael Rauh | Fri, 30 Dec 2022 14:09:27 +0100

Log job memory contrains of job credentials and improve comments
------------------------------------------------------------------------
2418b46d6 | Michael Rauh | Fri, 30 Dec 2022 14:08:19 +0100

Improve comment
------------------------------------------------------------------------
7a4697d05 | Michael Rauh | Fri, 30 Dec 2022 14:06:21 +0100

Add device block information and search function for GRes configuration
------------------------------------------------------------------------
353d9d8b4 | Michael Rauh | Fri, 30 Dec 2022 14:01:53 +0100

Let jail-term-cpuset use __PSJAIL_CONSTRAIN_CORES control variable
------------------------------------------------------------------------
7a2d90404 | Michael Rauh | Fri, 30 Dec 2022 14:00:04 +0100

Use prefix __PSJAIL_ for jail specific control variables
------------------------------------------------------------------------
f614fa063 | Michael Rauh | Fri, 30 Dec 2022 13:56:44 +0100

Improve logging functions of jail modules
------------------------------------------------------------------------
33a4decf7 | Michael Rauh | Thu, 29 Dec 2022 17:16:47 +0100

Introduce psslurm configuration option SLURM_CONFIG_DIR

 * warning *
 The following configuration options defining the filename
 without the path:
   SLURM_CONF, SLURM_GRES_CONF, SLURM_SPANK_CONF,
   SLURM_GATHER_CONF, SLURM_TOPOLOGY_CONF

 - path to search for various Slurm configuration files
 - is automatically adjusted in config-less mode
 - default is /etc/slurm
------------------------------------------------------------------------
2e8954ccd | Michael Rauh | Thu, 29 Dec 2022 16:07:10 +0100

Rename psslurm configuration option SLURM_CONF_DIR to SLURM_CONF_CACHE
------------------------------------------------------------------------
d9f66dcbd | Michael Rauh | Wed, 28 Dec 2022 16:23:10 +0100

Fix quoting
------------------------------------------------------------------------
95345965c | Michael Rauh | Thu, 15 Dec 2022 10:32:09 +0100

Update buildsystem
------------------------------------------------------------------------
c475b4007 | Michael Rauh | Thu, 15 Dec 2022 10:30:39 +0100

Add memory and devices jail modules to buildsystem
------------------------------------------------------------------------
2b0df88c1 | Michael Rauh | Thu, 15 Dec 2022 10:27:21 +0100

Prepare Slurm cgroup options in jail cpuset module
------------------------------------------------------------------------
08446faf9 | Michael Rauh | Thu, 15 Dec 2022 10:24:24 +0100

Load memory and devices jail modules by default
------------------------------------------------------------------------
85f00f4c2 | Michael Rauh | Thu, 15 Dec 2022 10:23:17 +0100

Add memory and devies jail modules
------------------------------------------------------------------------
3e012c216 | Norbert Eicker | Wed, 18 Jan 2023 23:58:54 +0100

Streamlining
------------------------------------------------------------------------
1a690ae6c | Sonja Happ | Wed, 18 Jan 2023 11:37:42 +0100

scripts: add a script to configure psid for a single node using psconfig
------------------------------------------------------------------------
40c811fec | Norbert Eicker | Wed, 25 Jan 2023 18:13:27 +0100

Booleanize
------------------------------------------------------------------------
d28c04957 | Stephan Krempel | Wed, 25 Jan 2023 13:27:20 +0100

psslurm: Fix handling of hint nomultithread

Closes #104
------------------------------------------------------------------------
b8e6916bb | Norbert Eicker | Wed, 4 Jan 2023 13:47:32 +0100

Streamline, booleanize, etc.
------------------------------------------------------------------------
66eaadb2e | Norbert Eicker | Wed, 4 Jan 2023 13:44:37 +0100

Bugfix: Ensure allocated memory is large enough
------------------------------------------------------------------------
ad3b9cf41 | Michael Rauh | Fri, 23 Dec 2022 16:21:42 +0100

Introduce GRes_findDevice()

 - get major and minor device ID
 - find a device by the GRes bitmap index
------------------------------------------------------------------------
b72304e06 | Norbert Eicker | Thu, 12 Jan 2023 16:17:27 +0100

Cleanup IMYU mappings not needed any longer
------------------------------------------------------------------------
8deb9e8a1 | Norbert Eicker | Thu, 12 Jan 2023 12:58:17 +0100

Add IWYU mappings for POSIX per-process timers
------------------------------------------------------------------------
86f1b4546 | Norbert Eicker | Mon, 2 Jan 2023 16:54:05 +0100

Switch Timer to POSIX per-process timer
------------------------------------------------------------------------
8c042b81d | Norbert Eicker | Wed, 21 Dec 2022 17:00:23 +0100

Cleanup docu comments
------------------------------------------------------------------------
5b72991f1 | Norbert Eicker | Wed, 23 Nov 2022 00:05:44 +0100

Introduce Timer_getActPeriod()
------------------------------------------------------------------------
cf779bdb3 | Norbert Eicker | Wed, 23 Nov 2022 00:04:43 +0100

Enhance documenation of the Timer module
------------------------------------------------------------------------
faf4d07e8 | Norbert Eicker | Tue, 22 Nov 2022 23:14:55 +0100

Streamlining
------------------------------------------------------------------------
1f2d86e00 | Norbert Eicker | Mon, 9 Jan 2023 16:55:33 +0100

Fix copyright year and autoreconf
------------------------------------------------------------------------
4f48fd56b | Stephan Krempel | Mon, 9 Jan 2023 16:44:16 +0100

Print pmix version at the end of configure
------------------------------------------------------------------------
127833480 | Stephan Krempel | Tue, 20 Dec 2022 15:46:11 +0100

psslurm: Warn about missing multi gpu per tasks support

Related to mlx#842
------------------------------------------------------------------------
4e68733f2 | Stephan Krempel | Fri, 30 Dec 2022 14:06:58 +0100

Avoid %exclude statement in spec file for each .la

Closes #100
------------------------------------------------------------------------


Version 5.1.53-1:
=================
------------------------------------------------------------------------
60e9e1873 | Stephan Krempel | Fri, 23 Dec 2022 16:52:06 +0100

pspmix: Work around freeing issue with PMIx_Cpuset_destruct()

see https://github.com/openpmix/openpmix/issues/2891
------------------------------------------------------------------------


Version 5.1.53:
===============
------------------------------------------------------------------------
bcc5634a3 | Norbert Eicker | Mon, 19 Dec 2022 19:10:43 +0100

Nicer handling of not loaded rrcomm plugins

 * Introduce 'show key inept' in rrcomm plugin interface
------------------------------------------------------------------------
1b0e32e97 | Michael Rauh | Fri, 16 Dec 2022 17:36:39 +0100

Fix typos
------------------------------------------------------------------------
1bf33f1a9 | Norbert Eicker | Thu, 24 Nov 2022 22:49:29 +0100

Fix typo
------------------------------------------------------------------------
4f1bc9c64 | Norbert Eicker | Thu, 24 Nov 2022 14:22:07 +0100

Improve psidutil documentation
------------------------------------------------------------------------
b0f6e33f6 | Norbert Eicker | Fri, 9 Dec 2022 13:06:11 +0100

IWYU fixes
------------------------------------------------------------------------
a2fd37282 | Norbert Eicker | Thu, 8 Dec 2022 16:07:57 +0100

Enhance rrcomm plugin's log messsages
------------------------------------------------------------------------
529b973b3 | Norbert Eicker | Thu, 8 Dec 2022 16:04:11 +0100

Enhance explanation of RRC_send()'s non-blocking behavior
------------------------------------------------------------------------
46ecdbf9d | Norbert Eicker | Thu, 8 Dec 2022 15:43:28 +0100

Use PSCio_recvBufB() in libRRC to receive from chaperon forwarder

 * Use of PSCio_recvBufP() might fail for huge (> 5 MB) messages
   if file descriptor is in non-blocking mode
------------------------------------------------------------------------
1528fbcac | Norbert Eicker | Thu, 8 Dec 2022 15:38:08 +0100

Introduce PSCio_recvBufB() for blocking receive
------------------------------------------------------------------------
f23841bf2 | Norbert Eicker | Wed, 7 Dec 2022 20:46:55 +0100

Add test of libRRC for all kinds of corner-cases

 * 0-length messages, growing buffers, re-connect, etc.
------------------------------------------------------------------------
6cb2bdc21 | Norbert Eicker | Wed, 7 Dec 2022 20:46:13 +0100

Do not prevent length 0 messages
------------------------------------------------------------------------
e81a04a8e | Norbert Eicker | Wed, 7 Dec 2022 20:44:27 +0100

Complete docu of RRComm/poll() test program
------------------------------------------------------------------------
162f7b4bc | Norbert Eicker | Wed, 7 Dec 2022 19:18:26 +0100

Let RRC_recv() report sender's rank even if buf is too small
------------------------------------------------------------------------
a4bb7add1 | Norbert Eicker | Tue, 6 Dec 2022 21:50:36 +0100

Enhance documentation in rrcomm.h
------------------------------------------------------------------------
03009b18b | Norbert Eicker | Fri, 2 Dec 2022 16:58:27 +0100

Minor improvements to RRComm/poll() test program
------------------------------------------------------------------------
1b9dba04a | Norbert Eicker | Fri, 2 Dec 2022 16:36:46 +0100

Track if client was connected before

 * If this is the case generate additional error messages
------------------------------------------------------------------------
6eac4f794 | Norbert Eicker | Fri, 2 Dec 2022 15:44:19 +0100

Improve code readability
------------------------------------------------------------------------
9d726f9f1 | Norbert Eicker | Fri, 2 Dec 2022 15:12:19 +0100

Drop message where required and more fine-grained debug
------------------------------------------------------------------------
63c98205e | Norbert Eicker | Fri, 2 Dec 2022 15:10:08 +0100

Add debug bit for error message handling
------------------------------------------------------------------------
1a793468f | Norbert Eicker | Fri, 2 Dec 2022 14:49:18 +0100

Avoid unnecessary if-clause
------------------------------------------------------------------------
6eee03270 | Norbert Eicker | Thu, 1 Dec 2022 18:52:36 +0100

Drop RRC_instantError() and adapt documentation
------------------------------------------------------------------------
2152ea16a | Norbert Eicker | Thu, 1 Dec 2022 18:11:43 +0100

Let psidforwarder rely on reported number of Selectors

 * Avoids own counting and enables plugins to do late fd handling
 * This requires plugins to remove obsolete selectors
------------------------------------------------------------------------
e6dcfde3f | Norbert Eicker | Thu, 1 Dec 2022 17:25:44 +0100

Sanitize file descriptor handling in pspmi

 * close() unused descriptors, allow fd == 0, etc.
 * only print warning on closed clientSock if client is currently connected
------------------------------------------------------------------------
9783fb733 | Norbert Eicker | Wed, 30 Nov 2022 22:09:40 +0100

Count number of registered selectors and make it available via Selector_getNum()
------------------------------------------------------------------------
34a6ff9e9 | Norbert Eicker | Wed, 30 Nov 2022 11:57:57 +0100

Add test program combining librrcomm and poll()
------------------------------------------------------------------------
193de3ffb | Norbert Eicker | Wed, 30 Nov 2022 01:42:34 +0100

IWYU fixes
------------------------------------------------------------------------
4fff7f228 | Norbert Eicker | Wed, 30 Nov 2022 01:22:35 +0100

Add more enhancements to rrcomm test program
------------------------------------------------------------------------
56a12a08a | Norbert Eicker | Wed, 30 Nov 2022 01:03:00 +0100

Add debug capabilities to forwarder part of the rrcomm plugin
------------------------------------------------------------------------
0aea27efd | Norbert Eicker | Tue, 29 Nov 2022 22:20:52 +0100

More instant errors to report
------------------------------------------------------------------------
e5cee4f45 | Norbert Eicker | Tue, 29 Nov 2022 22:17:52 +0100

Adapt log verbosities of the rrcomm plugin
------------------------------------------------------------------------
896a77ba9 | Norbert Eicker | Tue, 29 Nov 2022 21:19:41 +0100

Introduce dropHelper() to rrcomm plugin
------------------------------------------------------------------------
33ecfd914 | Norbert Eicker | Tue, 29 Nov 2022 21:01:54 +0100

Introduce tryRecvFragMsg() in psserial
------------------------------------------------------------------------
5b6763f64 | Norbert Eicker | Tue, 29 Nov 2022 18:11:37 +0100

Rework psidforwarder's connectLogger()

 * add capability to handle early PSP_PLUG_RRCOMM messages
------------------------------------------------------------------------
fd0af5b46 | Norbert Eicker | Tue, 29 Nov 2022 17:43:54 +0100

Make use of PSIDHOOK_FRWRD_SETUP where applicable
------------------------------------------------------------------------
df48963b7 | Norbert Eicker | Tue, 29 Nov 2022 17:09:59 +0100

Add hook PSIDHOOK_FRWRD_SETUP

  * bump plugin API version to 138
------------------------------------------------------------------------
b01616688 | Norbert Eicker | Tue, 29 Nov 2022 16:40:40 +0100

Move connectLogger()'s timeout detection into the function
------------------------------------------------------------------------
1b103fc46 | Norbert Eicker | Fri, 25 Nov 2022 19:01:27 +0100

Wait for the client before dropping RRC messsages
------------------------------------------------------------------------
ad235717e | Norbert Eicker | Fri, 25 Nov 2022 18:56:34 +0100

Implement non-blocking sends to libRRC in psidforwarder
------------------------------------------------------------------------
8cc6b0c28 | Norbert Eicker | Fri, 2 Dec 2022 16:17:34 +0100

Enhance PSCio_setFDblock() to report old setting on return
------------------------------------------------------------------------
0872787b3 | Norbert Eicker | Fri, 25 Nov 2022 18:34:51 +0100

Add instant error reporting to libRRC
------------------------------------------------------------------------
d77a3fb38 | Norbert Eicker | Fri, 25 Nov 2022 17:42:18 +0100

Add some thoughts on delayed error reporting in libRRC
------------------------------------------------------------------------
8164e8825 | Norbert Eicker | Fri, 25 Nov 2022 17:29:17 +0100

Move RRComm_pkt_t as RRComm_msg_t to rrcomm_common.h

 * Improve some docu comments
------------------------------------------------------------------------
672ab8534 | Norbert Eicker | Fri, 25 Nov 2022 10:58:44 +0100

Store size in PSIDmsgbuf_t explicitly

 * This enables PSIDmsgbuf_t to be used for plain buffers
------------------------------------------------------------------------
6ad845601 | Norbert Eicker | Thu, 17 Nov 2022 11:13:32 +0100

Remove now obsolete remnants of psicomm

 * psicomm contained early sketches of the rank-routing idea
------------------------------------------------------------------------
06527e3eb | Norbert Eicker | Sat, 29 Oct 2022 00:23:07 +0200

Enhance rrcomm test program
------------------------------------------------------------------------
1c784ee0a | Norbert Eicker | Sat, 29 Oct 2022 00:18:22 +0200

Improve logging capabilities of rrcomm plugin
------------------------------------------------------------------------
7c3b57d24 | Norbert Eicker | Thu, 27 Oct 2022 22:36:02 +0200

Complete RRComm forwarder code
------------------------------------------------------------------------
c10150b3c | Norbert Eicker | Thu, 27 Oct 2022 19:32:03 +0200

Extract definitions shared between plugin and lib to rccomm_common.h
------------------------------------------------------------------------
47f46bba8 | Norbert Eicker | Thu, 27 Oct 2022 14:24:04 +0200

Add stubbs for RRComm's psidforwarder code
------------------------------------------------------------------------
7162b8011 | Norbert Eicker | Wed, 26 Oct 2022 21:52:16 +0200

Implement RRComm's actual routing functionality

 * Extract protocol definitions shared between psidforwarder and psid into
   rrcommproto.h
------------------------------------------------------------------------
d4b3ac672 | Norbert Eicker | Wed, 26 Oct 2022 21:17:50 +0200

Make psserial's fragment types public
------------------------------------------------------------------------
679230960 | Norbert Eicker | Tue, 25 Oct 2022 23:53:12 +0200

Add docu on rrcom including psconfig parameters
------------------------------------------------------------------------
55773753c | Norbert Eicker | Tue, 25 Oct 2022 20:38:57 +0200

Add stubbs for config and logging to rrcomm plugin
------------------------------------------------------------------------
c85644232 | Norbert Eicker | Tue, 25 Oct 2022 10:07:06 +0200

Add librrcomm documentation to its header file
------------------------------------------------------------------------
2de16f110 | Norbert Eicker | Mon, 24 Oct 2022 19:08:09 +0200

Implement a first version of librrcomm
------------------------------------------------------------------------
18eeb4923 | Norbert Eicker | Fri, 21 Oct 2022 17:25:47 +0200

Add skeleton for RRComm development

 - Add stubs for plugin, client library, and test programms
 - Adapt the build system accordingly
 - Introduce new RPM sub-package psmgmt-rrcomm-devel
------------------------------------------------------------------------
ac1159705 | Norbert Eicker | Fri, 21 Oct 2022 16:28:21 +0200

Add message type for future Rank Routed Communication protocol
------------------------------------------------------------------------
487601bea | Norbert Eicker | Thu, 8 Dec 2022 10:37:30 +0100

Remove size limitation from fragmented messages

 * Allow fragmented messages to consist of arbritrary number of
   fragments
 * Enhance some logging
------------------------------------------------------------------------
fed7e342c | Norbert Eicker | Thu, 8 Dec 2022 09:29:35 +0100

Do not prevent sending 0-length fragmented  messages
------------------------------------------------------------------------
da7cd9a12 | Stephan Krempel | Wed, 7 Dec 2022 15:08:43 +0100

pspmix: Use PMIx_Cpuset_destruct() in current version
------------------------------------------------------------------------
8720a26ca | Norbert Eicker | Tue, 6 Dec 2022 21:16:39 +0100

Improve docu comments
------------------------------------------------------------------------
983a77ffa | Norbert Eicker | Tue, 6 Dec 2022 21:05:38 +0100

Rework introduction of PSIDHOOK_SPAWN_TASK

 * Do not reenumerate the hooks
 * Improve docu comments
 * Bump plugin API version to 137
 * Make pspmix plugin depend on plugin API version 137
------------------------------------------------------------------------
03d651019 | Stephan Krempel | Tue, 6 Dec 2022 18:03:31 +0100

pspmix: Destruct cpuset in future versions

see https://github.com/openpmix/openpmix/pull/2844
------------------------------------------------------------------------
634ba2501 | Stephan Krempel | Tue, 6 Dec 2022 18:03:12 +0100

pspmix: Fix memory leak
------------------------------------------------------------------------
ef741dd7f | Stephan Krempel | Tue, 6 Dec 2022 17:40:04 +0100

pspmix: Beautify debugging output
------------------------------------------------------------------------
4d7640a28 | Stephan Krempel | Tue, 6 Dec 2022 17:39:25 +0100

pspmix: Move server start to new hook HOOK_SPAWN_TASK
------------------------------------------------------------------------
195340436 | Stephan Krempel | Tue, 6 Dec 2022 13:47:11 +0100

Introduce PSIDHOOK_SPAWN_TASK
------------------------------------------------------------------------
ef3338a6c | Norbert Eicker | Mon, 5 Dec 2022 10:35:36 +0100

Fix typos
------------------------------------------------------------------------
2fa888293 | Stephan Krempel | Tue, 29 Nov 2022 15:14:43 +0100

pspmix: Add validity checks for array lengths in messages
------------------------------------------------------------------------
0fd4fc799 | Stephan Krempel | Wed, 23 Nov 2022 12:44:08 +0100

pspmix: Set PMIX_LOCALITY_STRING using hwloc
------------------------------------------------------------------------
779795971 | Stephan Krempel | Wed, 23 Nov 2022 12:43:38 +0100

pspsmix: Add CPUset to local processes
------------------------------------------------------------------------
3925a6406 | Stephan Krempel | Wed, 23 Nov 2022 13:41:30 +0100

pspsmix: Add local slots to PSPMIX_ADD_JOB msg
------------------------------------------------------------------------
3d5a77e19 | Stephan Krempel | Wed, 23 Nov 2022 13:41:10 +0100

pspmix: Use addData/getDataM to send reservation entries
------------------------------------------------------------------------
db8766ea6 | Norbert Eicker | Wed, 23 Nov 2022 23:22:58 +0100

IWYU fixes
------------------------------------------------------------------------
e94707b3f | Norbert Eicker | Tue, 22 Nov 2022 09:13:38 +0100

Use Timer_restart() to delay PSP msg for the full period
------------------------------------------------------------------------
0f3601f4e | Norbert Eicker | Tue, 22 Nov 2022 09:08:25 +0100

Introduce Timer_restart()
------------------------------------------------------------------------
86afdf6a0 | Norbert Eicker | Mon, 21 Nov 2022 16:36:04 +0100

Add user interface (via psiadmin) to delayPSPMsg
------------------------------------------------------------------------
d1dbe709b | Norbert Eicker | Mon, 21 Nov 2022 10:29:55 +0100

Introduce PSP_resolveType() and PSDaemonP_resolveType()
------------------------------------------------------------------------
5336c9010 | Norbert Eicker | Fri, 18 Nov 2022 00:50:09 +0100

First sketch of delayPSPMsg plugin
------------------------------------------------------------------------
71fe27239 | Norbert Eicker | Wed, 23 Nov 2022 23:10:06 +0100

Bugfix: Fix filter logic bug unvealed by Clang
------------------------------------------------------------------------
d26c16f7c | Norbert Eicker | Wed, 23 Nov 2022 23:08:58 +0100

IWYU fixes
------------------------------------------------------------------------
a317dfeb2 | Norbert Eicker | Fri, 18 Nov 2022 00:36:29 +0100

Bugfix: we still have to mimick part of the old bookkeeping
------------------------------------------------------------------------
b0dc6d71a | Norbert Eicker | Fri, 18 Nov 2022 00:36:00 +0100

Enhance releaseThreads() debug output
------------------------------------------------------------------------
42e72d7fd | Norbert Eicker | Thu, 17 Nov 2022 10:48:05 +0100

Use local reservation info for process pinning

 * This obsoletes to use of PSP_DD_SPAWNLOC messages
------------------------------------------------------------------------
c9cebda82 | Norbert Eicker | Wed, 16 Nov 2022 20:29:30 +0100

Streamlining
------------------------------------------------------------------------
577036bc6 | Norbert Eicker | Wed, 16 Nov 2022 19:56:40 +0100

Fix documentation error
------------------------------------------------------------------------
65ea3c52c | Norbert Eicker | Wed, 16 Nov 2022 16:22:27 +0100

Prepare for multiple reasons to delay a spawn
------------------------------------------------------------------------
573f80681 | Norbert Eicker | Wed, 16 Nov 2022 11:00:29 +0100

Protocol improvements
------------------------------------------------------------------------
2f218e525 | Norbert Eicker | Wed, 16 Nov 2022 10:39:51 +0100

Add memory cleanup functionality to PSIDpart module
------------------------------------------------------------------------
e6518f918 | Norbert Eicker | Wed, 16 Nov 2022 10:38:52 +0100

Send local reservation info more efficiently
------------------------------------------------------------------------
9e9a4b9e7 | Norbert Eicker | Tue, 15 Nov 2022 20:06:22 +0100

Fix and optimize distribution of local reservation info
------------------------------------------------------------------------
60fd3eecd | Norbert Eicker | Mon, 14 Nov 2022 21:57:49 +0100

Type enhancements and streamlining
------------------------------------------------------------------------
e476b0c4d | Norbert Eicker | Fri, 11 Nov 2022 18:10:00 +0100

Bugfix: Don't mix loop variables
------------------------------------------------------------------------
ae256653e | Norbert Eicker | Fri, 11 Nov 2022 18:07:59 +0100

Simplify and streamline
------------------------------------------------------------------------
55bd6cd25 | Norbert Eicker | Fri, 11 Nov 2022 17:57:32 +0100

Fix PSDaemonP_printMsg()
------------------------------------------------------------------------
111cce6e2 | Norbert Eicker | Fri, 11 Nov 2022 17:55:57 +0100

Rename PSP_DD_LOCALRESINFO to PSP_DD_RESSLOTS
------------------------------------------------------------------------
4887015a1 | Stephan Krempel | Mon, 7 Nov 2022 15:08:28 +0100

Fix local resinfo transfer for multi node jobs
------------------------------------------------------------------------
add05dd0c | Stephan Krempel | Fri, 4 Nov 2022 12:03:12 +0100

Send local reservation infos to the nodes

 * Push PSDaemonProtocolVersion to 415
------------------------------------------------------------------------
7fb88acb9 | Stephan Krempel | Fri, 4 Nov 2022 12:02:02 +0100

Enhance comment
------------------------------------------------------------------------
54b1854d4 | Stephan Krempel | Wed, 23 Nov 2022 12:04:41 +0100

pspmix: Fix building with PMIx 3
------------------------------------------------------------------------
30adddb3c | Norbert Eicker | Wed, 23 Nov 2022 11:42:57 +0100

Merge branch '5.1.52' once again
------------------------------------------------------------------------
4fa01a95f | Stephan Krempel | Tue, 22 Nov 2022 23:54:38 +0100

pspmix: Remove unnecessary initializations
------------------------------------------------------------------------
d2717151c | Stephan Krempel | Tue, 22 Nov 2022 13:37:13 +0100

pspmix: Reduce logging noise during normal operation
------------------------------------------------------------------------
f6f440cc1 | Stephan Krempel | Tue, 22 Nov 2022 11:54:10 +0100

pspmix: Support more fence info types used by openpmix
------------------------------------------------------------------------
1c0773f52 | Norbert Eicker | Tue, 22 Nov 2022 22:07:39 +0100

Fix syntax error not complained by gcc-11 or later
------------------------------------------------------------------------
5b0f05b85 | Norbert Eicker | Thu, 17 Nov 2022 20:24:04 +0100

Improve Selector's docu comments
------------------------------------------------------------------------
3c19f97fb | Norbert Eicker | Thu, 17 Nov 2022 22:01:57 +0100

Rework selector
------------------------------------------------------------------------
be06bceaf | Norbert Eicker | Mon, 21 Nov 2022 16:38:22 +0100

Remove superfluous parameter
------------------------------------------------------------------------
01fecde20 | Norbert Eicker | Sat, 19 Nov 2022 14:20:18 +0100

Merge branch '5.1.52' once again
------------------------------------------------------------------------
d5ef40a6e | Norbert Eicker | Thu, 17 Nov 2022 13:57:11 +0100

Make logger print prefix look nicer
------------------------------------------------------------------------
33aeb5771 | Stephan Krempel | Thu, 17 Nov 2022 11:50:22 +0100

Make logger print prefix sort compatible
------------------------------------------------------------------------
d426d5fd9 | Norbert Eicker | Thu, 10 Nov 2022 22:05:34 +0100

Implement psid side of PART_OPT_FULL_LIST
------------------------------------------------------------------------
7809ed389 | Norbert Eicker | Thu, 10 Nov 2022 01:42:21 +0100

Streamlining and improved comments
------------------------------------------------------------------------
d1293b1ba | Norbert Eicker | Wed, 9 Nov 2022 10:41:56 +0100

Introduce mpiexec's --fullpartition (-P) option

 * Implement all client side functionality
------------------------------------------------------------------------
06bf83161 | Norbert Eicker | Wed, 9 Nov 2022 10:18:05 +0100

Fix typos
------------------------------------------------------------------------
8f472c1df | Norbert Eicker | Wed, 9 Nov 2022 10:00:32 +0100

Use common definitions of crucial environment names
------------------------------------------------------------------------
264068d51 | Norbert Eicker | Thu, 10 Nov 2022 01:07:58 +0100

Improve docu comments and fix one typo
------------------------------------------------------------------------
c86b49929 | Norbert Eicker | Wed, 16 Nov 2022 13:49:39 +0100

Merge branch '5.1.52' again
------------------------------------------------------------------------
ef16bc04f | Norbert Eicker | Tue, 15 Nov 2022 17:20:27 +0100

Fix print_array_if macro in gdbinit definitions
------------------------------------------------------------------------
389f20a3f | Norbert Eicker | Thu, 10 Nov 2022 23:17:24 +0100

Merge branch '5.1.52'
------------------------------------------------------------------------
47ce8a5ba | Norbert Eicker | Fri, 28 Oct 2022 16:16:10 +0200

Fix typo in documentation
------------------------------------------------------------------------
7d5024e2d | Norbert Eicker | Wed, 26 Oct 2022 20:20:09 +0200

Add minRank/maxRank to PSIDsession's PSresinfo_t

 * This shall speedup the search for the matching resinfo entry
------------------------------------------------------------------------
83b75f5cb | Norbert Eicker | Wed, 26 Oct 2022 20:03:46 +0200

Ensure PSrsrvtn_ID_t is never in the range [-2..0]
------------------------------------------------------------------------
1575eb001 | Norbert Eicker | Wed, 26 Oct 2022 20:02:55 +0200

Refactor PSIDsession to make use of PSitems
------------------------------------------------------------------------
5dfb75527 | Norbert Eicker | Wed, 26 Oct 2022 14:01:25 +0200

Bugfix: Call GC for cbInfoPool only when necessary
------------------------------------------------------------------------


Version 5.1.52-5:
=================
------------------------------------------------------------------------
edb6d9353 | Norbert Eicker | Tue, 22 Nov 2022 19:36:05 +0100

Bugfix: prevent segfault due to late REQUEST_LAUNCH_TASKS message
------------------------------------------------------------------------
f35ca595e | Norbert Eicker | Tue, 22 Nov 2022 19:16:56 +0100

Rename findStepByEnv() 4th argument and revert its logic
------------------------------------------------------------------------


Version 5.1.52-4:
=================
------------------------------------------------------------------------
b8ea86fb6 | Norbert Eicker | Thu, 17 Nov 2022 21:15:08 +0100

Bugfix: Prevent Selector deadlock

 - Selector_awaitWrite() on a disabled Selector will lead to a deadlock
   on the long run
------------------------------------------------------------------------


Version 5.1.52-3:
=================
------------------------------------------------------------------------
4ced876f9 | Norbert Eicker | Wed, 16 Nov 2022 12:00:00 +0100

Ensure memory associated to psslurm's config is always free()ed
------------------------------------------------------------------------
00364114c | Norbert Eicker | Tue, 15 Nov 2022 16:40:28 +0100

Bugfix: prevent psslurm from segfault by tracking init of basic configuration
------------------------------------------------------------------------
54a83c864 | Norbert Eicker | Tue, 15 Nov 2022 13:49:18 +0100

Track hook registration in psslurm to make early unload less noisy
------------------------------------------------------------------------
1c7076f79 | Norbert Eicker | Mon, 14 Nov 2022 21:31:53 +0100

Revert b8861ee182 and let psslurm fail gracefully

 * This works around non functional psslurm in config-less mode in
   combination with Slurm healthcheck during startup
------------------------------------------------------------------------
597677814 | Norbert Eicker | Mon, 14 Nov 2022 21:28:18 +0100

Ensure handleSlurmConf() gets a valid action
------------------------------------------------------------------------
bdfd92f7b | Norbert Eicker | Mon, 14 Nov 2022 20:54:23 +0100

Allow to call psslurm's cleanup() even if not fully initialized
------------------------------------------------------------------------

Version 5.1.52-2:
=================
------------------------------------------------------------------------
e8e39c1ee | Stephan Krempel | Wed, 9 Nov 2022 09:53:11 +0100

Allow higher pmix release versions in pspmix RPM requirements
------------------------------------------------------------------------


Version 5.1.52-1:
=================
------------------------------------------------------------------------
e98d291d4 | Stephan Krempel | Fri, 21 Oct 2022 16:10:15 +0200

psslurmgetbind: Adjust to Slurms interpretation of -B option

Closes #89
------------------------------------------------------------------------
68673400f | Stephan Krempel | Fri, 21 Oct 2022 15:09:19 +0200

psslurmgetbind: Fix hint nomultithread together with 'exact'
------------------------------------------------------------------------


Version 5.1.52:
===============
------------------------------------------------------------------------
cfdab1942 | Stephan Krempel | Fri, 21 Oct 2022 12:41:22 +0200

psslurmgetbind: Try to autodetect Slurm version if installed

If SLURM_VERSION is not found in the environment, tries to
detect the installed Slurm version by looking into psslurm.conf
and asking sinfo.
------------------------------------------------------------------------
7a393c7b2 | Stephan Krempel | Fri, 21 Oct 2022 12:39:28 +0200

psslurmgetbind: Fix 'exact' coremap to match slurmctld 22.05
------------------------------------------------------------------------
6f709ff77 | Norbert Eicker | Thu, 20 Oct 2022 11:33:28 +0200

Add remarks concerning IWYU usage
------------------------------------------------------------------------
0e1d8b8a2 | Stephan Krempel | Tue, 18 Oct 2022 14:38:29 +0200

psslurmgetbind: Add -c implies --exact for Slurm >= 22.05

Introduces reading of environment variable SLURM_VERSION
------------------------------------------------------------------------
183396f5e | Stephan Krempel | Fri, 14 Oct 2022 16:26:21 +0200

psslurmgetbind: Add support for --exact option
------------------------------------------------------------------------
b055753f6 | Stephan Krempel | Fri, 14 Oct 2022 10:44:21 +0200

psslurm: Switch parameters of fillDistributionStrategies()
------------------------------------------------------------------------
9bf30701a | Stephan Krempel | Tue, 18 Oct 2022 13:49:29 +0200

Make pspmix RPM require pmix version used to build
------------------------------------------------------------------------
a74a4b2ab | Michael Rauh | Tue, 18 Oct 2022 11:49:17 +0200

psslurm initialization should fail if a account monitor initialization fails
------------------------------------------------------------------------
e1e55ef87 | Norbert Eicker | Fri, 14 Oct 2022 18:41:13 +0200

Evict code duplicates
------------------------------------------------------------------------
6b6e46275 | Norbert Eicker | Fri, 14 Oct 2022 18:25:52 +0200

Unify the logic of psslurmaccount's sub-inits
------------------------------------------------------------------------
04d2b48e0 | Norbert Eicker | Fri, 14 Oct 2022 18:11:06 +0200

Streamline
------------------------------------------------------------------------
4211c74ba | Michael Rauh | Fri, 14 Oct 2022 16:16:44 +0200

Add documentation
------------------------------------------------------------------------
efd0555fa | Michael Rauh | Fri, 14 Oct 2022 16:10:24 +0200

Document optional ipmi account variables in monitor script
------------------------------------------------------------------------
952258c17 | Michael Rauh | Thu, 13 Oct 2022 23:07:12 +0200

Forward Slurm ipmi options to energy accounting script
------------------------------------------------------------------------
b1d36e6a2 | Michael Rauh | Thu, 13 Oct 2022 22:55:04 +0200

Introduce setAccEnv() to forward accounting environment
------------------------------------------------------------------------
7a28bb026 | Michael Rauh | Thu, 13 Oct 2022 22:49:40 +0200

Split psslurm account initialization
------------------------------------------------------------------------
7d8257c5b | Norbert Eicker | Tue, 18 Oct 2022 11:48:20 +0200

Merge branch '5.1.51' again
------------------------------------------------------------------------
1472155d0 | Norbert Eicker | Fri, 14 Oct 2022 19:44:59 +0200

IWYU fixes
------------------------------------------------------------------------
2b0a0aab9 | Norbert Eicker | Fri, 14 Oct 2022 19:28:56 +0200

Actually the node's symbolic name is in parastation.conf
------------------------------------------------------------------------
d4e44e8ac | Norbert Eicker | Fri, 14 Oct 2022 19:26:32 +0200

Improve PSIDnodes' docu and adapt API
------------------------------------------------------------------------
a8f8345ed | Stephan Krempel | Thu, 6 Oct 2022 23:06:31 +0200

pspmix: Use configured nodename for namespace's procmap

Closes #82
------------------------------------------------------------------------
91150bd95 | Stephan Krempel | Thu, 6 Oct 2022 15:32:46 +0200

Hold configured nodename in internal nodes database
------------------------------------------------------------------------
952db992f | Norbert Eicker | Mon, 17 Oct 2022 19:28:40 +0200

Merge branch '5.1.51'
------------------------------------------------------------------------
ecbdedc3a | Stephan Krempel | Mon, 17 Oct 2022 16:27:10 +0200

pspmix: Create namespace with only info arrays

With OpenPMIx 4.2 it is not working to pass PMIX_UNIV_SIZE
as individual info value, so move it into session info array

See https://github.com/openpmix/openpmix/issues/2791
------------------------------------------------------------------------
8084aa95f | Stephan Krempel | Mon, 17 Oct 2022 16:26:02 +0200

psslurm: Do not filter PMIX_MCA_* variables from user env
------------------------------------------------------------------------
9f92c0f1e | Stephan Krempel | Mon, 17 Oct 2022 16:25:07 +0200

pspmix: Fix memory leak
------------------------------------------------------------------------
bf42c3e8f | Stephan Krempel | Mon, 17 Oct 2022 16:24:23 +0200

pspmix: Fix typo
------------------------------------------------------------------------
7dede7f3f | Norbert Eicker | Wed, 12 Oct 2022 16:10:10 +0200

Make the build-system self-consistent again
------------------------------------------------------------------------
168ac4596 | Norbert Eicker | Wed, 12 Oct 2022 16:02:27 +0200

Fix one IWYU pragma to prevent complains
------------------------------------------------------------------------
c99cfaa67 | Norbert Eicker | Wed, 15 Jun 2022 00:42:14 +0200

IWYU fixes
------------------------------------------------------------------------
04daa017f | Norbert Eicker | Wed, 15 Jun 2022 00:27:51 +0200

Fix typos in docu comment
------------------------------------------------------------------------
1a7d9c45c | Norbert Eicker | Fri, 10 Jun 2022 20:41:40 +0200

Streamlining
------------------------------------------------------------------------
b78d594c4 | Norbert Eicker | Fri, 10 Jun 2022 20:41:07 +0200

IWYU fixes and ensure credHash is not used uninitialized
------------------------------------------------------------------------
a4c776331 | Norbert Eicker | Fri, 10 Jun 2022 20:40:07 +0200

IWYU fixes
------------------------------------------------------------------------
8a6da0b7f | Michael Rauh | Thu, 9 Jun 2022 13:42:36 +0200

Allow the usage of Slurm IO keys larger than SLURM_IO_KEY_SIZE
------------------------------------------------------------------------
1b7c1754a | Michael Rauh | Thu, 9 Jun 2022 12:26:16 +0200

Job credential signature is replaced by message hash in
Slurm 22.05 and above
------------------------------------------------------------------------
eb691a3db | Michael Rauh | Thu, 9 Jun 2022 11:51:51 +0200

Use KangarooTwelve to verify Slurm messages
------------------------------------------------------------------------
e27556855 | Michael Rauh | Wed, 8 Jun 2022 21:58:11 +0200

Update buildsystem
------------------------------------------------------------------------
b94a3f1e9 | Michael Rauh | Wed, 8 Jun 2022 21:38:53 +0200

Add KangarooTwelve hash algorithm
------------------------------------------------------------------------
756ea4930 | Michael Rauh | Thu, 2 Jun 2022 17:59:16 +0200

Update Slurm 22.05 message hash
------------------------------------------------------------------------
f8abc32b0 | Michael Rauh | Thu, 2 Jun 2022 16:23:42 +0200

Show Slurm protocol version in config request log message
------------------------------------------------------------------------
1a516e1dd | Michael Rauh | Thu, 2 Jun 2022 14:02:13 +0200

Add support for Slurm 22.05 protocol
------------------------------------------------------------------------
ce28b7d38 | Michael Rauh | Wed, 12 Oct 2022 14:53:00 +0200

Prevent use after free()
------------------------------------------------------------------------
36b36f626 | Michael Rauh | Wed, 12 Oct 2022 14:47:41 +0200

Improve BCast naming scheme
------------------------------------------------------------------------
6adb19a5f | Michael Rauh | Wed, 12 Oct 2022 14:28:50 +0200

Minor improvments
------------------------------------------------------------------------
bf186ad42 | Norbert Eicker | Tue, 11 Oct 2022 23:22:12 +0200

IWYU fixes
------------------------------------------------------------------------
9ffecca63 | Norbert Eicker | Tue, 11 Oct 2022 23:21:33 +0200

Fix typo in docu comment
------------------------------------------------------------------------
61e5cad00 | Norbert Eicker | Tue, 11 Oct 2022 23:21:15 +0200

Streamlining
------------------------------------------------------------------------
b774f803a | Norbert Eicker | Tue, 11 Oct 2022 23:13:28 +0200

Adjust comment
------------------------------------------------------------------------
d39430f9b | Michael Rauh | Mon, 10 Oct 2022 16:47:07 +0200

psslurm: allow to use a directory as destination for --bcast option of
srun (pct:#404)
------------------------------------------------------------------------


Version 5.1.51-2:
=================
------------------------------------------------------------------------
54c810a2e | Stephan Krempel | Mon, 17 Oct 2022 16:27:10 +0200

pspmix: Create namespace with only info arrays

With OpenPMIx 4.2 it is not working to pass PMIX_UNIV_SIZE
as individual info value, so move it into session info array

See https://github.com/openpmix/openpmix/issues/2791
------------------------------------------------------------------------
52b039b96 | Stephan Krempel | Mon, 17 Oct 2022 16:26:02 +0200

psslurm: Do not filter PMIX_MCA_* variables from user env
------------------------------------------------------------------------
4d6674746 | Stephan Krempel | Mon, 17 Oct 2022 16:25:07 +0200

pspmix: Fix memory leak
------------------------------------------------------------------------
3c169f2a5 | Stephan Krempel | Mon, 17 Oct 2022 16:24:23 +0200

pspmix: Fix typo
------------------------------------------------------------------------


Version 5.1.51-1:
=================
------------------------------------------------------------------------
120756c9c | Michael Rauh | Mon, 17 Oct 2022 16:04:18 +0200

Bugfix: fix round counter for pluginforwarder children
------------------------------------------------------------------------


Version 5.1.51:
===============
------------------------------------------------------------------------
8ef450366 | Norbert Eicker | Wed, 5 Oct 2022 23:36:45 +0200

Fix docu and simplify code
------------------------------------------------------------------------
9167e71f7 | Norbert Eicker | Wed, 5 Oct 2022 23:19:27 +0200

Improve docu comments
------------------------------------------------------------------------
378eab6d1 | Norbert Eicker | Wed, 5 Oct 2022 01:16:23 +0200

Bugfix: Prevent writing behind end of buffer (#84)
------------------------------------------------------------------------
175bfe8e2 | Stephan Krempel | Mon, 10 Oct 2022 08:29:00 +0200

Update psconfig objects diagram
------------------------------------------------------------------------
8ff26fdda | Stephan Krempel | Mon, 10 Oct 2022 08:28:28 +0200

Fix typo in update defaults script
------------------------------------------------------------------------
a461d7e30 | Norbert Eicker | Fri, 7 Oct 2022 17:49:31 +0200

Move psconfig update script and deliver it via RPM
------------------------------------------------------------------------
2cb85cadf | Norbert Eicker | Fri, 7 Oct 2022 17:18:33 +0200

Fix psconfig migration script
------------------------------------------------------------------------
1bac08c77 | Norbert Eicker | Fri, 7 Oct 2022 17:17:28 +0200

Update docu of psid's psconfig structure
------------------------------------------------------------------------
ebef983dd | Norbert Eicker | Fri, 7 Oct 2022 13:13:14 +0200

More 0L's to remove from PSC_concat()
------------------------------------------------------------------------
9a537e4bd | Norbert Eicker | Fri, 7 Oct 2022 01:26:57 +0200

Remove now obsolete 0L from PSC_concat()'s argument list
------------------------------------------------------------------------
2835fd63a | Norbert Eicker | Fri, 7 Oct 2022 01:20:02 +0200

Make use of PSC_concat() less error-prone
------------------------------------------------------------------------
01c9c4a9a | Norbert Eicker | Fri, 7 Oct 2022 11:12:01 +0200

Update rpm sources
------------------------------------------------------------------------
a71318d56 | Norbert Eicker | Fri, 7 Oct 2022 01:46:03 +0200

Improve docu comment
------------------------------------------------------------------------
701020c3f | Norbert Eicker | Fri, 7 Oct 2022 01:41:20 +0200

Adapt logic of saving host definitions in psslurm
------------------------------------------------------------------------
14e252b92 | Norbert Eicker | Fri, 7 Oct 2022 01:04:52 +0200

Prevent memory leaks
------------------------------------------------------------------------
b0a977444 | Norbert Eicker | Fri, 7 Oct 2022 01:01:52 +0200

Streamlining
------------------------------------------------------------------------
1289fcf9f | Norbert Eicker | Fri, 7 Oct 2022 00:56:48 +0200

Improve docu comments
------------------------------------------------------------------------
371ddaa46 | Norbert Eicker | Thu, 6 Oct 2022 23:58:53 +0200

Prevent memory leak
------------------------------------------------------------------------
2be213f49 | Norbert Eicker | Thu, 6 Oct 2022 23:56:24 +0200

Prevent some segfaults
------------------------------------------------------------------------
a990db2f5 | Norbert Eicker | Thu, 6 Oct 2022 23:44:10 +0200

Push to automake 1.16.5 again
------------------------------------------------------------------------
be7ca650e | Norbert Eicker | Thu, 6 Oct 2022 23:43:25 +0200

Whitespace fixes
------------------------------------------------------------------------
528dfbf23 | Norbert Eicker | Thu, 6 Oct 2022 23:12:38 +0200

Fix typos
------------------------------------------------------------------------
5b74bc178 | Stephan Krempel | Thu, 6 Oct 2022 14:32:30 +0200

psslurm: Enable updating of topology.conf during runtime
------------------------------------------------------------------------
09abc796c | Stephan Krempel | Thu, 6 Oct 2022 14:31:46 +0200

psslurm: Rename slurm_config_t to config_type_t
------------------------------------------------------------------------
cdf19aa49 | Stephan Krempel | Fri, 30 Sep 2022 12:56:29 +0200

psslurm: Set SLURM_TOPOLOGY_* variables in rank environments
------------------------------------------------------------------------
b78bef91a | Stephan Krempel | Fri, 30 Sep 2022 12:52:27 +0200

Add static qualifier to setGResJobEnv()
------------------------------------------------------------------------
230ec0e19 | Stephan Krempel | Fri, 30 Sep 2022 12:49:56 +0200

Add const qualifier to traverseHostList()
------------------------------------------------------------------------
6d3e5b950 | Stephan Krempel | Wed, 28 Sep 2022 18:46:04 +0200

psslurm: Support reading topology.conf
------------------------------------------------------------------------
4df3582cb | Stephan Krempel | Wed, 28 Sep 2022 14:53:29 +0200

psslurm: Introduce configuration type
------------------------------------------------------------------------
58d6a77f4 | Norbert Eicker | Wed, 5 Oct 2022 18:45:55 +0200

Improve documentation comments
------------------------------------------------------------------------
25778e4fd | Norbert Eicker | Wed, 5 Oct 2022 18:29:51 +0200

Declaration of PMIx server more suitable here
------------------------------------------------------------------------
1314655fe | Stephan Krempel | Fri, 23 Sep 2022 00:20:59 +0200

Also call hookFWInitUser if user is root

PMIx is the only user of this interface for now and relies on
this function being called during initialization. Not calling
it if the spawning user is root makes it impossible to run PMIx
jobs as user root.
------------------------------------------------------------------------
04387d426 | Stephan Krempel | Fri, 23 Sep 2022 00:20:09 +0200

pspmix: Print error if server not set when preparing loop
------------------------------------------------------------------------
052cfc675 | Stephan Krempel | Fri, 23 Sep 2022 00:16:50 +0200

pspmix: Move declaration of server variable to log header

Makes more sense since ulog macro using it is defined there, too.
------------------------------------------------------------------------
5bc79a201 | Norbert Eicker | Thu, 19 May 2022 17:25:30 +0200

Simplify rules for PMI library
------------------------------------------------------------------------
8fea554c0 | Norbert Eicker | Thu, 19 May 2022 17:25:21 +0200

Bugfix: Ensure PMI_RANK is present to determine rank
------------------------------------------------------------------------
0d48d8d2b | Norbert Eicker | Thu, 19 May 2022 17:25:17 +0200

Add pmi_hello to test if multiple PMI_Init/Finalize cycles are possible
------------------------------------------------------------------------
2866bc8c7 | Norbert Eicker | Thu, 19 May 2022 17:25:13 +0200

Allow to use TCP connection for PMI, too
------------------------------------------------------------------------
4feeeeb8f | Norbert Eicker | Thu, 19 May 2022 17:25:10 +0200

Add simple PMI client library bluntly stolen from the MPIch project
------------------------------------------------------------------------
68285bbe7 | Norbert Eicker | Thu, 19 May 2022 17:25:07 +0200

Major rework adding more ways to test PMI implemenation
------------------------------------------------------------------------
0fb848608 | Norbert Eicker | Thu, 19 May 2022 17:24:51 +0200

Add reproducer for psc:#332
------------------------------------------------------------------------
67fce63ee | Michael Rauh | Thu, 6 Oct 2022 12:12:17 +0200

Bugfix: fix argument termination of PSC_concat() in psslurm
------------------------------------------------------------------------
ff5432934 | Norbert Eicker | Wed, 5 Oct 2022 20:52:13 +0200

Adapt log to other use-cases of parseMapString()
------------------------------------------------------------------------
abf491c79 | Michael Rauh | Mon, 26 Sep 2022 17:40:01 +0200

Fix possible bugs unveiled by scan-build
------------------------------------------------------------------------
7a2a0b383 | Stephan Krempel | Wed, 5 Oct 2022 12:47:25 +0200

Regenerate psconfig objects diagram
------------------------------------------------------------------------
94e84734e | Norbert Eicker | Wed, 5 Oct 2022 09:42:46 +0200

Improve code maintanability and docu comment
------------------------------------------------------------------------
79d7688c9 | Stephan Krempel | Fri, 23 Sep 2022 16:27:03 +0200

psconfig: rename parameters to match psiadmin

Important: Needs to be highlighted in NEWS file

Renamings:
- RdpStatusTimeout to StatusTimeout
- RdpStatusDeadLimit to DeadLimit
- RdpStatusBroadcasts to StatusBroadcasts

Add script to update defaults object in existing psconfig databases.

Custom configurations need to be adjusted manually. To assist
administrators, PSID will refuse to start if old parameters are still set.
------------------------------------------------------------------------
2081e9276 | Michael Rauh | Wed, 5 Oct 2022 14:48:32 +0200

psslurm: reset fpe exceptions when psslurm gets unloaded
------------------------------------------------------------------------
9d90e7a78 | Norbert Eicker | Wed, 5 Oct 2022 10:34:26 +0200

Minor refinements
------------------------------------------------------------------------
592909c7b | Michael Rauh | Thu, 22 Sep 2022 11:27:44 +0200

Bugfix: reset fpe exceptions for children if psslurm
ENABLE_FPE_EXCEPTION option is enabled
------------------------------------------------------------------------
cad1d067f | Michael Rauh | Fri, 23 Sep 2022 15:39:38 +0200

Fix some more format errors unveiled by cppcheck
------------------------------------------------------------------------
f55dd1656 | Michael Rauh | Fri, 23 Sep 2022 15:31:56 +0200

Remove unnecessary checks in psaccount
------------------------------------------------------------------------
a2c6a27cd | Michael Rauh | Fri, 23 Sep 2022 15:21:57 +0200

Fix print format errors in psaccount
------------------------------------------------------------------------
bd5378b89 | Michael Rauh | Wed, 21 Sep 2022 17:45:21 +0200

Remove redundant newline from logger_funcprint()
------------------------------------------------------------------------
7fd13b7ea | Stephan Krempel | Wed, 21 Sep 2022 17:44:30 +0200

pspmix: Deactivate singleton support if np != 1
------------------------------------------------------------------------
33549b138 | Stephan Krempel | Wed, 21 Sep 2022 13:33:43 +0200

pspmix: Fix more signed unsigned comparisons
------------------------------------------------------------------------
c292bd153 | Stephan Krempel | Wed, 21 Sep 2022 13:31:30 +0200

pspmix: Fix signed unsigned comparison
------------------------------------------------------------------------
4b9b9a203 | Stephan Krempel | Wed, 21 Sep 2022 13:16:25 +0200

Make psaccount scripts executable
------------------------------------------------------------------------
5601fcfb0 | Michael Rauh | Mon, 19 Sep 2022 22:43:13 +0200

Bugfix: fix possible segfault in psaccount if executable
could not be started
------------------------------------------------------------------------
d2f08fa7e | Stephan Krempel | Thu, 15 Sep 2022 17:32:47 +0200

psslurm: Let MAP_LDOM pinning use physical domain numbers

Should be highlighted in NEWS file.
------------------------------------------------------------------------
06ad50e00 | Norbert Eicker | Wed, 7 Sep 2022 14:06:06 +0200

Fix potential memory leaks
------------------------------------------------------------------------
6a943c1a4 | Norbert Eicker | Wed, 7 Sep 2022 14:05:13 +0200

Streamline
------------------------------------------------------------------------
3f7ab77d0 | Norbert Eicker | Wed, 7 Sep 2022 14:02:33 +0200

Ensure debug loops have no bad side effects
------------------------------------------------------------------------
b5ab851df | Stephan Krempel | Fri, 2 Sep 2022 15:51:18 +0200

pspmix: Add default session ID explicitly

This is imho not required by the standard, but at least by
openpmix 4.1.2rc1.

See https://github.com/openpmix/openpmix/issues/2736
------------------------------------------------------------------------
9cc36ea99 | Stephan Krempel | Fri, 2 Sep 2022 15:50:04 +0200

pspmix: Always use PMIx_Info_String for PMIx 4+
------------------------------------------------------------------------
f28f625d3 | Stephan Krempel | Fri, 2 Sep 2022 11:56:39 +0200

pspmix: Print info array before PMIx_server_init call

In openpmix >= 4.2.1 PMIx_Info_string is allowed to be called
before any init function.

see https://github.com/openpmix/openpmix/pull/2724
------------------------------------------------------------------------
48fa0921f | Stephan Krempel | Mon, 29 Aug 2022 17:37:29 +0200

pspmix: Handle empty cluster ID
------------------------------------------------------------------------
b3a0cec59 | Stephan Krempel | Mon, 29 Aug 2022 15:21:36 +0200

pspmix: Use PMIx_Info_list API for server session array
------------------------------------------------------------------------
519072ef4 | Stephan Krempel | Wed, 24 Aug 2022 11:20:35 +0200

pspmix: Print PMIx version at plugin initialization
------------------------------------------------------------------------
0b4f48584 | Stephan Krempel | Wed, 24 Aug 2022 11:18:52 +0200

pspmix: Do not call PMIx_Init with proc == NULL

This is broken in PMIx <= 4.2.0.

https://github.com/openpmix/openpmix/issues/2707
------------------------------------------------------------------------
360260f03 | Stephan Krempel | Tue, 23 Aug 2022 18:49:03 +0200

pspmix: Add reminder to use PMIX_INFO_LIST_* functions
------------------------------------------------------------------------
c97b64028 | Stephan Krempel | Tue, 23 Aug 2022 18:19:54 +0200

pspmix: Correctly report namespace not found
------------------------------------------------------------------------
68d343c88 | Stephan Krempel | Mon, 22 Aug 2022 11:33:06 +0200

pspmix: Call PMIx_Init for singleton without proc argument
------------------------------------------------------------------------
d36e47b5a | Norbert Eicker | Fri, 19 Aug 2022 00:23:50 +0200

IWYU fixes
------------------------------------------------------------------------
0f9def9dd | Norbert Eicker | Thu, 18 Aug 2022 23:46:13 +0200

Ensure array size for gethostname() is sufficient
------------------------------------------------------------------------
c346b9a06 | Norbert Eicker | Thu, 18 Aug 2022 23:43:45 +0200

Prevent writing behind end of buffer
------------------------------------------------------------------------
3dcf2c664 | Norbert Eicker | Thu, 18 Aug 2022 23:38:54 +0200

Whitespace fixes
------------------------------------------------------------------------
958161406 | Stephan Krempel | Thu, 9 Jun 2022 15:43:29 +0200

pspmix: Support singleton
------------------------------------------------------------------------
87aa29e99 | Norbert Eicker | Mon, 5 Sep 2022 17:20:59 +0200

IWYU fixes
------------------------------------------------------------------------
644870722 | Norbert Eicker | Mon, 5 Sep 2022 16:57:44 +0200

psaccount: slightly improve per job accounting

 - Ignore to rare case that energyBase, IC_recvBase, or IC_sendBase
   might be accidentially 0
------------------------------------------------------------------------
7e46618c8 | Michael Rauh | Mon, 5 Sep 2022 13:11:01 +0200

Calculate interconnect values on a per job basis
------------------------------------------------------------------------
05f6f6457 | Michael Rauh | Fri, 2 Sep 2022 16:52:03 +0200

psaccount: Add rapl counters from sys filesystem to energy monitor script
------------------------------------------------------------------------
83f0c76ba | Norbert Eicker | Tue, 23 Aug 2022 18:08:47 +0200

Simplify addClientToAggData()'s interface
------------------------------------------------------------------------
3337e13df | Norbert Eicker | Tue, 23 Aug 2022 17:40:57 +0200

Get rid of helper variables
------------------------------------------------------------------------
cc34458af | Norbert Eicker | Tue, 23 Aug 2022 14:48:00 +0200

Unify minimum calculation in accounting
------------------------------------------------------------------------
f8553f076 | Michael Rauh | Fri, 19 Aug 2022 17:24:04 +0200

psaccount: update documentation of addClientToAggData()
------------------------------------------------------------------------
47491f888 | Michael Rauh | Fri, 19 Aug 2022 16:56:15 +0200

psaccount: unify minimum calculation of power and energy
------------------------------------------------------------------------
d9d094282 | Michael Rauh | Fri, 19 Aug 2022 16:39:45 +0200

psslurm: remove useless double debug logging
------------------------------------------------------------------------
7586f6ea2 | Michael Rauh | Fri, 19 Aug 2022 16:35:27 +0200

psaccount: get rid of useless initialization
------------------------------------------------------------------------
a56d682e7 | Michael Rauh | Fri, 19 Aug 2022 16:22:05 +0200

psaccount: Improve error handling in Script_start()
------------------------------------------------------------------------
e90cafc9e | Michael Rauh | Fri, 19 Aug 2022 16:13:19 +0200

psslurm: Replace string arrays with PSC_concat()
------------------------------------------------------------------------
a0c44539d | Michael Rauh | Tue, 16 Aug 2022 17:51:20 +0200

Forward energy and interconnect accounting data to slurmctld

 - mother superior will send the aggregated data for all nodes in the
   step
 - data is transferred using the TRes format
------------------------------------------------------------------------
a7c0e4fed | Michael Rauh | Tue, 16 Aug 2022 17:50:35 +0200

Improve some comments
------------------------------------------------------------------------
48b8da779 | Michael Rauh | Tue, 16 Aug 2022 17:42:47 +0200

Forward aggregated accounting data for energy,
file-system and interconnect to mother superior node
------------------------------------------------------------------------
71aafbf04 | Michael Rauh | Tue, 16 Aug 2022 17:36:13 +0200

Set default energy and filesystem monitor scripts in psaccount
configuration
------------------------------------------------------------------------
0c1796669 | Michael Rauh | Tue, 16 Aug 2022 17:32:58 +0200

Ensure minimum energy value is initialized properly
------------------------------------------------------------------------
8badff61d | Norbert Eicker | Wed, 3 Aug 2022 02:04:05 +0200

Streamline
------------------------------------------------------------------------
f22ab730d | Norbert Eicker | Wed, 3 Aug 2022 02:03:25 +0200

Fix typos in comments
------------------------------------------------------------------------
c729a14d1 | Michael Rauh | Fri, 29 Jul 2022 16:50:43 +0200

Improve some comments
------------------------------------------------------------------------
ac7b76774 | Michael Rauh | Thu, 28 Jul 2022 16:34:07 +0200

Update buildsystem
------------------------------------------------------------------------
1418eef06 | Michael Rauh | Thu, 28 Jul 2022 16:32:47 +0200

Add more psaccount example scripts for monitoring
------------------------------------------------------------------------
b4aaee831 | Michael Rauh | Wed, 27 Jul 2022 17:27:05 +0200

Use the same task ID for entry.in_max_taskid and entry.out_max_taskid
------------------------------------------------------------------------
4a656299f | Michael Rauh | Wed, 27 Jul 2022 14:06:17 +0200

Forward Slurm account gather type options to psaccount monitor scripts
------------------------------------------------------------------------
dbf078b30 | Michael Rauh | Wed, 27 Jul 2022 13:51:48 +0200

Automatically start energy accounting script if polling parameter is
not zero
------------------------------------------------------------------------
d9e66d76d | Michael Rauh | Wed, 27 Jul 2022 13:17:54 +0200

Update buildsystem
------------------------------------------------------------------------
46ce142ce | Michael Rauh | Wed, 27 Jul 2022 13:16:44 +0200

Add MEGWARE energy meter monitor script
------------------------------------------------------------------------
63a80b845 | Michael Rauh | Wed, 27 Jul 2022 12:28:20 +0200

Verify values for AcctGatherEnergyType
------------------------------------------------------------------------
7c63a2bd0 | Michael Rauh | Tue, 26 Jul 2022 13:40:45 +0200

Ensure MONITOR_SCRIPT_PATH is valid when building absolute path
for a psaccount monitor script
 * also fix invalid defaut of MONITOR_SCRIPT_PATH
------------------------------------------------------------------------
b0641664a | Michael Rauh | Tue, 26 Jul 2022 13:21:37 +0200

Set default account polling from Slurm configuration
------------------------------------------------------------------------
13ea82a09 | Norbert Eicker | Mon, 2 May 2022 19:42:50 +0200

IWYU fixes
------------------------------------------------------------------------
5225830de | Norbert Eicker | Mon, 2 May 2022 19:33:22 +0200

Get rid of now obsolete __Plugin_flog()
------------------------------------------------------------------------
ee0dc5fb1 | Norbert Eicker | Mon, 2 May 2022 19:32:48 +0200

Utilize logger_funcprint() instead of __Plugin_flog()
------------------------------------------------------------------------
27bab626f | Norbert Eicker | Mon, 2 May 2022 19:27:12 +0200

Introduce logger_funcprint to logging facility
------------------------------------------------------------------------
ae04b90ba | Norbert Eicker | Mon, 2 May 2022 18:42:10 +0200

Adapt documentation comments to the general style
------------------------------------------------------------------------
8e765ff78 | Norbert Eicker | Fri, 18 Mar 2022 01:18:56 +0100

Simplify code
------------------------------------------------------------------------
331710911 | Norbert Eicker | Fri, 18 Mar 2022 01:15:17 +0100

Minor improvements
------------------------------------------------------------------------
4b0a14c92 | Norbert Eicker | Fri, 18 Mar 2022 01:14:34 +0100

Add checks for correct usage of psAccountCtlScript()
------------------------------------------------------------------------
26baa338e | Norbert Eicker | Fri, 18 Mar 2022 01:13:43 +0100

Enhance docu comments
------------------------------------------------------------------------
5338705f6 | Michael Rauh | Thu, 17 Mar 2022 17:15:51 +0100

Fix typo
------------------------------------------------------------------------
97eb490f4 | Michael Rauh | Thu, 17 Mar 2022 14:34:16 +0100

Call FS_finalize() when psaccount is shutting down
------------------------------------------------------------------------
1c65d0c03 | Norbert Eicker | Thu, 17 Mar 2022 00:51:11 +0100

Improve debug logs
------------------------------------------------------------------------
def39fca4 | Norbert Eicker | Thu, 17 Mar 2022 00:50:36 +0100

Whitespace fixes
------------------------------------------------------------------------
d8fde99cd | Norbert Eicker | Thu, 17 Mar 2022 00:48:11 +0100

Simplify code
------------------------------------------------------------------------
2aa3b29ec | Norbert Eicker | Tue, 15 Mar 2022 16:36:36 +0100

Simplify code
------------------------------------------------------------------------
9636cc5f4 | Norbert Eicker | Tue, 15 Mar 2022 14:14:00 +0100

Push to automake 1.16.5 again
------------------------------------------------------------------------
9dcd1f1ac | Michael Rauh | Tue, 15 Mar 2022 14:06:13 +0100

Fix invalid syntax in pluginforwarder loop
------------------------------------------------------------------------
3d3f88ab4 | Michael Rauh | Tue, 15 Mar 2022 13:56:42 +0100

Update buildsystem
------------------------------------------------------------------------
2395aee2d | Michael Rauh | Tue, 15 Mar 2022 13:37:03 +0100

Add default interconnect monitor script
------------------------------------------------------------------------
40eb54a50 | Michael Rauh | Tue, 15 Mar 2022 13:33:29 +0100

Upate buildsystem
------------------------------------------------------------------------
780f863cb | Michael Rauh | Tue, 15 Mar 2022 13:30:58 +0100

Add psaccount configuration option MONITOR_SCRIPT_PATH
 * allows to set the default search path for monitor scripts
------------------------------------------------------------------------
c6a945074 | Michael Rauh | Tue, 15 Mar 2022 12:32:52 +0100

Add psaccount configuration options INTERCONNECT_POLL and FILESYSTEM_POLL
 * set default script poll time to 0 (disabled)
 * add options to configuration template
------------------------------------------------------------------------
2e2a22d2a | Norbert Eicker | Mon, 14 Mar 2022 22:22:26 +0100

Adapt psaccountscript to now psid<->pluginforwarder protocol
------------------------------------------------------------------------
72f5e2e91 | Norbert Eicker | Fri, 11 Mar 2022 02:08:14 +0100

IWYU fixes
------------------------------------------------------------------------
1f1ecb21e | Norbert Eicker | Fri, 11 Mar 2022 00:53:37 +0100

Push to automake 1.16.5 again
------------------------------------------------------------------------
f0a1280f5 | Michael Rauh | Thu, 10 Mar 2022 22:23:03 +0100

Add psaccount to process title of monitor scripts
------------------------------------------------------------------------
97f155f45 | Michael Rauh | Thu, 10 Mar 2022 22:19:17 +0100

Enhancement: allow to use Script_ctlEnv() before the monitor
script was started
------------------------------------------------------------------------
dbe4b1a0d | Michael Rauh | Thu, 10 Mar 2022 17:49:43 +0100

Let psslurm us psAccountScriptEnv() to set the infiniband port
to monitor in psaccount
------------------------------------------------------------------------
df2523783 | Michael Rauh | Thu, 10 Mar 2022 17:47:05 +0100

Let psslurm parse Slurm configuration file acct_gather.conf
------------------------------------------------------------------------
6f491f01e | Michael Rauh | Thu, 10 Mar 2022 17:18:19 +0100

Introduce psaccount debug masks PSACC_LOG_FILESYS and PSACC_LOG_INTERCON
------------------------------------------------------------------------
349e37c27 | Michael Rauh | Thu, 10 Mar 2022 16:59:51 +0100

Use pluginforwarder option FW_CHILD_INFINITE in psaccountscript
------------------------------------------------------------------------
5b2c0bc7c | Michael Rauh | Thu, 10 Mar 2022 16:53:01 +0100

Introduce FW_CHILD_INFINITE to let the child of a plugin
forwarder be restarted endlessly

 *  ensure to re-open stdout/stderr channels for the restarted child
------------------------------------------------------------------------
c64516c40 | Michael Rauh | Mon, 7 Mar 2022 20:29:20 +0100

Make psAccountCtl_t more distinct
------------------------------------------------------------------------
3d579235b | Michael Rauh | Mon, 7 Mar 2022 14:33:30 +0100

Prevent possible segfault in psgw at unload when it was not
initialized
------------------------------------------------------------------------
7a2f4297a | Michael Rauh | Mon, 7 Mar 2022 12:16:32 +0100

Add interconnect and filesystem script to psaccount configuration
------------------------------------------------------------------------
b7aa37ed7 | Michael Rauh | Mon, 7 Mar 2022 11:53:54 +0100

Make the environment of an psaccount collect script changeable
------------------------------------------------------------------------
3b2863f9f | Michael Rauh | Thu, 3 Mar 2022 14:16:12 +0100

Use psAccountCtlScript() in psslurm to control psaccount
monitor scripts
------------------------------------------------------------------------
b8861ee18 | Michael Rauh | Thu, 3 Mar 2022 14:06:35 +0100

Unload psslurm if Slurm configuration parsing in configless
mode fails
------------------------------------------------------------------------
365518c61 | Michael Rauh | Thu, 3 Mar 2022 12:29:22 +0100

Allow plugins to control psaccount monitor scripts
------------------------------------------------------------------------
3ae6686e1 | Michael Rauh | Mon, 28 Feb 2022 22:57:09 +0100

Set file-system, interconnect and energy account poll interval from
slurm.conf
------------------------------------------------------------------------
be5026152 | Michael Rauh | Mon, 28 Feb 2022 17:37:21 +0100

Combine various psaccount script counters in psAccountInfo_t
------------------------------------------------------------------------
fc52515c4 | Michael Rauh | Fri, 25 Feb 2022 17:24:24 +0100

Fix copyright
------------------------------------------------------------------------
14d09c8c6 | Michael Rauh | Fri, 25 Feb 2022 17:12:54 +0100

Update buildsystem
------------------------------------------------------------------------
9fb6ade27 | Michael Rauh | Fri, 25 Feb 2022 17:11:49 +0100

Add new psaccount monitor for filesystems
------------------------------------------------------------------------
97e60e955 | Michael Rauh | Fri, 25 Feb 2022 16:51:48 +0100

Start to replace mlog() with flog()
------------------------------------------------------------------------
e37534f77 | Michael Rauh | Fri, 25 Feb 2022 16:51:23 +0100

Add flog() to psaccount
------------------------------------------------------------------------
96e6afa52 | Michael Rauh | Fri, 25 Feb 2022 16:38:13 +0100

Make flog() funtion of psslurm accessable to other plugins
 * move function flog() to plugincommon library
 * rename flog() to __Plugin_flog()
------------------------------------------------------------------------
92f136f5a | Michael Rauh | Fri, 25 Feb 2022 15:17:34 +0100

Adopt psslurm to changes in psaccount and use new interconnect
data in psslurm
------------------------------------------------------------------------
ffea396db | Michael Rauh | Fri, 25 Feb 2022 15:17:01 +0100

Adopt psmom to psaccount changes
------------------------------------------------------------------------
e3824d131 | Michael Rauh | Fri, 25 Feb 2022 14:57:12 +0100

Increase psaccount version to reflect changes
------------------------------------------------------------------------
48d46f1ff | Michael Rauh | Fri, 25 Feb 2022 14:55:10 +0100

Make psAccountSetPoll() and psAccountGetPoll() usable in a more
general way
------------------------------------------------------------------------
12dde0a8e | Michael Rauh | Thu, 24 Feb 2022 18:20:07 +0100

Improve psaccount energy naming scheme
------------------------------------------------------------------------
1beeefa45 | Michael Rauh | Thu, 24 Feb 2022 18:03:16 +0100

Add functions to change/read the poll time of the energy
collect script
------------------------------------------------------------------------
8067322e2 | Michael Rauh | Thu, 24 Feb 2022 18:01:09 +0100

Add functions to change/read the poll time of the interconnect
collect script
------------------------------------------------------------------------
9df609efd | Michael Rauh | Thu, 24 Feb 2022 17:56:28 +0100

Add CMD_SET_POLL_TIME to psaccount script forwarder to
enable the adjustment of the poll time
------------------------------------------------------------------------
25a741f00 | Michael Rauh | Fri, 28 Jan 2022 15:24:15 +0100

Update rpm sources
------------------------------------------------------------------------
e1e6c2da7 | Michael Rauh | Fri, 28 Jan 2022 15:09:55 +0100

Add IC data query
------------------------------------------------------------------------
17d410deb | Michael Rauh | Wed, 26 Jan 2022 21:57:28 +0100

Update makefiles
------------------------------------------------------------------------
7c64beb51 | Michael Rauh | Tue, 18 Jan 2022 12:58:16 +0100

Resolve merge error
------------------------------------------------------------------------
275d4f85a | Michael Rauh | Fri, 30 Apr 2021 10:24:17 +0200

Introduce psaccount interconnect monitoring
------------------------------------------------------------------------
28f5cf681 | Michael Rauh | Thu, 29 Apr 2021 17:21:35 +0200

Use psaccountscript in psaccountenergy
------------------------------------------------------------------------
a64ce9b61 | Michael Rauh | Thu, 29 Apr 2021 17:20:21 +0200

Update buildsystem
------------------------------------------------------------------------
a155f500a | Michael Rauh | Thu, 29 Apr 2021 17:15:34 +0200

Introduce psaccountscript to manage various collect scripts
------------------------------------------------------------------------
8adddb701 | Michael Rauh | Mon, 26 Apr 2021 21:44:54 +0200

Pack real energy data for AcctGatherUpdate and AcctGatherEnergy
------------------------------------------------------------------------
b2310a3f2 | Michael Rauh | Mon, 26 Apr 2021 20:55:19 +0200

Verify the slurm.conf has the correct TRes parameters set for
AcctGatherFilesystemType and AcctGatherInterconnectType
------------------------------------------------------------------------
e2260a04b | Michael Rauh | Mon, 26 Apr 2021 19:13:21 +0200

Sanity check slurm.conf options AcctGatherInterconnectType and
AcctGatherFilesystemType
------------------------------------------------------------------------


Version 5.1.50-5:
=================
------------------------------------------------------------------------
83b672c6d | Stephan Krempel | Tue, 30 Aug 2022 02:13:52 +0200

pspmix: Integrate info arrays output into debug logging
------------------------------------------------------------------------
9292916d2 | Stephan Krempel | Thu, 11 Aug 2022 14:44:19 +0200

pspmix: Always use order nspace, rank

Fixes PSPMIX_CLIENT_INIT message type
------------------------------------------------------------------------
9a4c1904f | Stephan Krempel | Thu, 1 Sep 2022 18:30:45 +0200

pspmix: Do not pass node info array with PMIx < 4

This leads to problems on systems where the hostname that
that the nodes know themself is different from the hostname
used by the psid.
------------------------------------------------------------------------


Version 5.1.50-4:
=================
------------------------------------------------------------------------
d254c0528 | Norbert Eicker | Thu, 25 Aug 2022 13:54:15 +0200

Rework request handling for Slurm messages
------------------------------------------------------------------------


Version 5.1.50-3:
=================
------------------------------------------------------------------------
a04c35ad4 | Norbert Eicker | Wed, 24 Aug 2022 23:49:09 +0200

psslurm: fix more memory leaks of request objects
------------------------------------------------------------------------
732f154fd | Norbert Eicker | Wed, 24 Aug 2022 23:48:17 +0200

IWYU fixes
------------------------------------------------------------------------
b2f8d76b9 | Norbert Eicker | Wed, 24 Aug 2022 23:47:57 +0200

Fix formatting
------------------------------------------------------------------------
4b7c548ca | Michael Rauh | Wed, 24 Aug 2022 21:16:33 +0200

psslurm: fix memory leak of request object when sending a Slurm message
------------------------------------------------------------------------
82d615940 | Michael Rauh | Wed, 24 Aug 2022 15:22:34 +0200

Bugfix: ensure requests send using sendSlurmctldReq() will be re-send
if slurmcltd is unreachable (jwt:#16170)
------------------------------------------------------------------------
59c12bef7 | Norbert Eicker | Tue, 23 Aug 2022 18:21:55 +0200

Bugfix: Ensure ptid is interpreted correctly if node goes down (jwt:#16170)
------------------------------------------------------------------------


Version 5.1.50-2:
=================
------------------------------------------------------------------------
3b4ca7aec | Norbert Eicker | Tue, 23 Aug 2022 13:14:11 +0200

Ensure reqKeys.strings gets initialized (jwt:#16557)
------------------------------------------------------------------------


Version 5.1.50-1:
=================
------------------------------------------------------------------------
bd77ddf75 | Norbert Eicker | Tue, 9 Aug 2022 12:54:23 +0200

Move example scripts into -slurmutils RPM
------------------------------------------------------------------------
70fe3d110 | Norbert Eicker | Tue, 9 Aug 2022 12:02:40 +0200

Actually deliver example scripts in RPM
------------------------------------------------------------------------
3fa61b19d | Norbert Eicker | Tue, 9 Aug 2022 12:02:15 +0200

Beautify scripts
------------------------------------------------------------------------
e59ca2a17 | Michael Rauh | Tue, 9 Aug 2022 10:41:33 +0200

Update buildsystem
------------------------------------------------------------------------
ff84bca62 | Michael Rauh | Tue, 9 Aug 2022 10:37:13 +0200

Add example scripts for Slurm power saving feature
------------------------------------------------------------------------
a8c1f24b3 | Norbert Eicker | Mon, 8 Aug 2022 21:14:56 +0200

Force PSP_DD_DAEMONCONNECT to go first for psserial
------------------------------------------------------------------------
0d1a3cb4a | Norbert Eicker | Mon, 8 Aug 2022 21:11:50 +0200

Introduce RDP_getNumPend()
------------------------------------------------------------------------
9d3892d87 | Norbert Eicker | Mon, 8 Aug 2022 20:54:04 +0200

Booleanize RDP's MYsendto()
------------------------------------------------------------------------
a85ab869f | Norbert Eicker | Mon, 8 Aug 2022 20:12:40 +0200

Introduce RDP_getState()
------------------------------------------------------------------------
745bb25b5 | Michael Rauh | Mon, 8 Aug 2022 15:50:38 +0200

If PSSLURM_FAKE_UPTIME is set psslurm will pretend that the node
was booted the same time psslurm was started
------------------------------------------------------------------------
03f7abf51 | Norbert Eicker | Mon, 1 Aug 2022 09:35:44 +0200

Work around unknown __VA_OPT__ in GCC prior 8.0
------------------------------------------------------------------------


Version 5.1.50:
===============
------------------------------------------------------------------------
5207436b1 | Stephan Krempel | Fri, 29 Jul 2022 16:12:29 +0200

pspmix: Fix small slips
------------------------------------------------------------------------
936de7fd4 | Stephan Krempel | Fri, 29 Jul 2022 15:58:11 +0200

pspmix: Allow checkKeyAvailability() call with empty key list.
------------------------------------------------------------------------
db9fd23f1 | Stephan Krempel | Fri, 29 Jul 2022 15:43:46 +0200

Fix comparison of unsigned values in __strvAdd()
------------------------------------------------------------------------
3b5693c0a | Stephan Krempel | Fri, 29 Jul 2022 15:18:50 +0200

pspmix: Fix debugging output
------------------------------------------------------------------------
3c73efa4d | Stephan Krempel | Fri, 29 Jul 2022 15:15:46 +0200

pspmix: Fix memory leak
------------------------------------------------------------------------
40da036bf | Norbert Eicker | Fri, 29 Jul 2022 14:23:59 +0200

pspmix: Use strv_t to handle required keys
------------------------------------------------------------------------
1342740c0 | Norbert Eicker | Fri, 29 Jul 2022 12:46:16 +0200

Make strv_t compatible to getStringArrayM()
------------------------------------------------------------------------
43ef26618 | Norbert Eicker | Fri, 29 Jul 2022 12:18:50 +0200

Adapt to new meaning of strvDestroy()
------------------------------------------------------------------------
033544a51 | Norbert Eicker | Fri, 29 Jul 2022 11:58:51 +0200

Introduce strvSteal() and adapt strvDestroy() according to env_t
------------------------------------------------------------------------
1668913fa | Norbert Eicker | Fri, 29 Jul 2022 11:54:11 +0200

Allow strv_t to start empty, i.e. without allocating strings
------------------------------------------------------------------------
2244285ed | Stephan Krempel | Fri, 29 Jul 2022 01:27:35 +0200

pspmix: Circumvent unsupported PMIX_INFO_CREATE(m, 0)
------------------------------------------------------------------------
510a59e8a | Stephan Krempel | Fri, 29 Jul 2022 01:33:36 +0200

pspmix: Fix loop variable
------------------------------------------------------------------------
b2cb8b2f2 | Stephan Krempel | Wed, 27 Jul 2022 18:23:32 +0200

pspmix: Add todo
------------------------------------------------------------------------
b3a1f5e31 | Stephan Krempel | Wed, 27 Jul 2022 18:21:48 +0200

Add note to envPut() about difference to putenv()
------------------------------------------------------------------------
9654f94ea | Norbert Eicker | Thu, 28 Jul 2022 18:29:41 +0200

psslurm: Unify use of PMIX_INFO_LOAD
------------------------------------------------------------------------
627fbf094 | Norbert Eicker | Thu, 28 Jul 2022 12:51:54 +0200

psslurm: fix potential memory leak
------------------------------------------------------------------------
abc52ef03 | Norbert Eicker | Thu, 28 Jul 2022 12:51:20 +0200

psslurm: improve #ifdef readability
------------------------------------------------------------------------
f87ea71bf | Norbert Eicker | Thu, 28 Jul 2022 09:51:37 +0200

psslurm: Streamline
------------------------------------------------------------------------
27b1c8901 | Norbert Eicker | Thu, 28 Jul 2022 09:50:52 +0200

pspmix: More use PMIX_PROC_* macros
------------------------------------------------------------------------
ba89ccca1 | Stephan Krempel | Wed, 27 Jul 2022 16:25:29 +0200

pspmix: Bump plugin version to 2
------------------------------------------------------------------------
51fd2b8e8 | Stephan Krempel | Wed, 27 Jul 2022 15:23:42 +0200

pspmix: Integrate PMIX_INFO_CREATE into INIT_CBDATA

Since PMIX_INFO_FREE is done in DESTROY_CBDATA this makes sense
for symmetry reasons.

Fixing some potential memory leaks as add-on.
------------------------------------------------------------------------
3095fab34 | Stephan Krempel | Wed, 27 Jul 2022 15:01:17 +0200

pspmix: Fix compatibility to pmix 3.2.3
------------------------------------------------------------------------
9290c6d9c | Stephan Krempel | Wed, 27 Jul 2022 15:00:32 +0200

pspmix: Correctly use PMIX_CHECK_NSPACE
------------------------------------------------------------------------
f4b39f4e4 | Stephan Krempel | Wed, 27 Jul 2022 13:46:45 +0200

pspmix: Fix potential use after free
------------------------------------------------------------------------
52543cd30 | Stephan Krempel | Wed, 27 Jul 2022 13:27:01 +0200

pspmix: Fix memory leak
------------------------------------------------------------------------
a3f5caf98 | Stephan Krempel | Wed, 27 Jul 2022 13:16:02 +0200

pspmix: Use ucalloc to initialize modexdata_t objects
------------------------------------------------------------------------
9a2921453 | Stephan Krempel | Wed, 27 Jul 2022 13:04:05 +0200

pspmix: Use PMIX_CHECK_NSPACE() instead of strncmp()
------------------------------------------------------------------------
b33d723e4 | Stephan Krempel | Wed, 27 Jul 2022 13:02:07 +0200

pspmix: Consequently use nspace,rank order
------------------------------------------------------------------------
686e4988c | Stephan Krempel | Wed, 27 Jul 2022 12:21:32 +0200

pspmix: Remove pmix data types from communication interface
------------------------------------------------------------------------
6cf0bb7de | Stephan Krempel | Wed, 27 Jul 2022 12:16:32 +0200

pspmix: Fix memory leak
------------------------------------------------------------------------
b9c7cbe22 | Stephan Krempel | Wed, 27 Jul 2022 10:49:12 +0200

pspmix: Consequently use PMIX_PROC_* macros
------------------------------------------------------------------------
2a92c2e53 | Stephan Krempel | Fri, 22 Jul 2022 14:08:04 +0200

pspmix: Add detailed description about PMIX_SERVER_SYSTEM_SUPPORT info
------------------------------------------------------------------------
bdc27877e | Stephan Krempel | Fri, 22 Jul 2022 13:58:01 +0200

pspmix: Add todo for provisional PMIX_LOCAL_COLLECTIVE_STATUS info
------------------------------------------------------------------------
7b359b673 | Stephan Krempel | Fri, 22 Jul 2022 11:00:22 +0200

pspmix: Streamlining
------------------------------------------------------------------------
979c55471 | Stephan Krempel | Fri, 22 Jul 2022 10:35:50 +0200

pspmix: Catch EWOULDBLOCK from PSIDclient_send()
------------------------------------------------------------------------
f7616e1bc | Stephan Krempel | Fri, 22 Jul 2022 10:18:38 +0200

pspmix: Fix type
------------------------------------------------------------------------
308cdef71 | Stephan Krempel | Thu, 21 Jul 2022 18:28:15 +0200

pspmix: Remove timer for dmodex response if succeeded
------------------------------------------------------------------------
a2b7b3c9f | Stephan Krempel | Thu, 21 Jul 2022 18:27:47 +0200

pspmix: Enhance debugging output and some comments
------------------------------------------------------------------------
3958645e4 | Stephan Krempel | Thu, 21 Jul 2022 18:26:09 +0200

pspmix: Ignore PMIX_GET_REFRESH_CACHE info in dmodex requests
------------------------------------------------------------------------
6f9b405ef | Stephan Krempel | Thu, 21 Jul 2022 18:25:30 +0200

pspmix: Fix memory leak
------------------------------------------------------------------------
63c3bbd52 | Stephan Krempel | Thu, 21 Jul 2022 18:24:27 +0200

pspmix: Return status with dmodex response for timeout handling
------------------------------------------------------------------------
ab5472420 | Stephan Krempel | Thu, 14 Jul 2022 15:51:41 +0200

pspmix: Support required keys and timeout in modex requests
------------------------------------------------------------------------
cff9296b3 | Stephan Krempel | Wed, 20 Jul 2022 17:52:51 +0200

pspmix: Include PSPMIX_LOG_MODEX in pspmix.conf comment
------------------------------------------------------------------------
51f98d122 | Stephan Krempel | Tue, 19 Jul 2022 00:41:23 +0200

pspmix: Fix use after free of added env in forwarder
------------------------------------------------------------------------
c67468869 | Stephan Krempel | Tue, 19 Jul 2022 00:06:47 +0200

pspmix: Enhance debugging output
------------------------------------------------------------------------
7a52a6ac5 | Norbert Eicker | Mon, 18 Jul 2022 16:05:24 +0200

Unify use of PSC_concat()
------------------------------------------------------------------------
07530db49 | Stephan Krempel | Mon, 18 Jul 2022 15:42:45 +0200

pspmix: Fix call of PSC_concat()
------------------------------------------------------------------------
c52634654 | Stephan Krempel | Mon, 18 Jul 2022 15:41:41 +0200

Enhance documentation of PSC_concat()
------------------------------------------------------------------------
d9813b687 | Stephan Krempel | Fri, 8 Jul 2022 09:27:29 +0200

pspmix: Fix version separation
------------------------------------------------------------------------
f1c53fcc6 | Stephan Krempel | Fri, 8 Jul 2022 09:27:08 +0200

pspmix: Fix include
------------------------------------------------------------------------
94151f0e6 | Norbert Eicker | Thu, 7 Jul 2022 21:41:28 +0200

IWYU fixes
------------------------------------------------------------------------
4a94f9091 | Norbert Eicker | Thu, 7 Jul 2022 21:34:49 +0200

Simplify creation of debug output
------------------------------------------------------------------------
d0953bc2c | Norbert Eicker | Thu, 7 Jul 2022 21:32:34 +0200

Avoid use-after-free for config.psiddomain
------------------------------------------------------------------------
168a4bc5d | Norbert Eicker | Thu, 7 Jul 2022 20:15:19 +0200

Various minor fixes (streamlinig, typos, whitespace, etc.)
------------------------------------------------------------------------
d201e566f | Norbert Eicker | Thu, 7 Jul 2022 19:19:36 +0200

Introduce PSC_getwd()
------------------------------------------------------------------------
67e4b611c | Norbert Eicker | Thu, 7 Jul 2022 19:04:32 +0200

PMIX_APP_ARGV was only introduced in PMIx 4
------------------------------------------------------------------------
f2a7fcafc | Stephan Krempel | Thu, 7 Jul 2022 17:07:39 +0200

pspmix: Remove obsolete versions of function descriptions
------------------------------------------------------------------------
56b279268 | Stephan Krempel | Thu, 7 Jul 2022 16:58:30 +0200

pspsmix: Clarifying comment about clientObject as server_object
------------------------------------------------------------------------
c82f1b04e | Stephan Krempel | Wed, 6 Jul 2022 16:37:07 +0200

pspmix: List optional attributes for PMIx_server_init()

Only document the attributes, not implement any of them.
------------------------------------------------------------------------
d043cadad | Stephan Krempel | Wed, 6 Jul 2022 16:35:42 +0200

pspmix: Use psid domain as cluster ID
------------------------------------------------------------------------
a80e9ed86 | Stephan Krempel | Thu, 9 Jun 2022 10:54:24 +0200

pspmix: Use env_t to check if job uses PMIx
------------------------------------------------------------------------
2da2fad88 | Stephan Krempel | Wed, 4 May 2022 01:18:39 +0200

pspmix: Enhance PMIX_REINCARNATION comments
------------------------------------------------------------------------
27f2a8bdc | Stephan Krempel | Tue, 3 May 2022 04:05:52 +0200

pspmix: Add URLs of standard clarification issues
------------------------------------------------------------------------
7e37f03d3 | Stephan Krempel | Tue, 3 May 2022 02:20:53 +0200

pspmix: Rework PROC_DATA info fields for PMIx 4
------------------------------------------------------------------------
9fe9657b4 | Stephan Krempel | Mon, 2 May 2022 16:56:09 +0200

pspmix: Add todo note about session ID
------------------------------------------------------------------------
016335939 | Stephan Krempel | Mon, 2 May 2022 16:46:56 +0200

pspmix: Fix debugging output
------------------------------------------------------------------------
9b8c5a87d | Stephan Krempel | Mon, 2 May 2022 16:38:11 +0200

pspmix: Fix process map string generation
------------------------------------------------------------------------
79f433cde | Stephan Krempel | Mon, 2 May 2022 16:29:48 +0200

pspmix: Fix comment
------------------------------------------------------------------------
f4d1ecddf | Stephan Krempel | Mon, 2 May 2022 16:27:34 +0200

Set PMIX_APPWDIR_* in any case
------------------------------------------------------------------------
ee61a7fa7 | Stephan Krempel | Sat, 30 Apr 2022 01:19:00 +0200

pspmix: Add node info arrays at namespace registration
------------------------------------------------------------------------
464f70c2f | Stephan Krempel | Sat, 30 Apr 2022 00:38:43 +0200

pspmix: Streamlining
------------------------------------------------------------------------
2c6156d97 | Stephan Krempel | Fri, 29 Apr 2022 02:36:49 +0200

pspmix: Note optional info keys in APP_INFO_ARRAY
------------------------------------------------------------------------
114db6433 | Stephan Krempel | Fri, 29 Apr 2022 02:29:37 +0200

pspmix: Add application arguments to APP_INFO_ARRAY
------------------------------------------------------------------------
47f7b748e | Stephan Krempel | Fri, 29 Apr 2022 01:24:08 +0200

pspmix: Add application working dirs to APP_INFO_ARRAY
------------------------------------------------------------------------
a774c2dec | Stephan Krempel | Fri, 29 Apr 2022 01:25:17 +0200

pspmix: Add spawn implementation hint
------------------------------------------------------------------------
f09d5d076 | Stephan Krempel | Fri, 29 Apr 2022 00:56:14 +0200

pspmix: Note additional info fields to add
------------------------------------------------------------------------
8416f58a0 | Stephan Krempel | Fri, 29 Apr 2022 00:54:58 +0200

pspmix: Always set PMIX_JOB_NUM_APPS (required by PMIx 4)
------------------------------------------------------------------------
f37a3416d | Stephan Krempel | Fri, 29 Apr 2022 00:53:11 +0200

pspmix: Use PMIx_server_register_resources()
------------------------------------------------------------------------
d0e5e14aa | Stephan Krempel | Thu, 28 Apr 2022 17:46:54 +0200

pspmix: Pass supported info entries to PMIx_server_init()
------------------------------------------------------------------------
d59887002 | Stephan Krempel | Wed, 20 Apr 2022 17:38:30 +0200

pspmix: Replace obsolete PMIx value macros
------------------------------------------------------------------------
d42495451 | Stephan Krempel | Wed, 20 Apr 2022 17:36:01 +0200

pspmix: Include pmix.h with PMIx 4
------------------------------------------------------------------------
e4eba3895 | Stephan Krempel | Wed, 20 Apr 2022 14:40:14 +0200

pspmix: Read required key in server_dmodex_req_cb()
------------------------------------------------------------------------
8e5628e6f | Stephan Krempel | Wed, 20 Apr 2022 14:39:31 +0200

pspmix: Fix debugging output
------------------------------------------------------------------------
ddac6d92f | Stephan Krempel | Wed, 20 Apr 2022 14:38:56 +0200

pspmix: Use new error code
------------------------------------------------------------------------
f14dff738 | Stephan Krempel | Wed, 20 Apr 2022 14:37:27 +0200

pspmix: Update descriptions and add stubs for PMIx 4 server API
------------------------------------------------------------------------
6262cb013 | Stephan Krempel | Wed, 20 Apr 2022 12:25:46 +0200

pspmix: Fix memory leak in fence data handling
------------------------------------------------------------------------
ab5d31860 | Stephan Krempel | Tue, 19 Apr 2022 01:04:50 +0200

pspmix: Call PMIx_server_deregister_client() blocking (PMIx 4 only)
------------------------------------------------------------------------
a7e2fb225 | Norbert Eicker | Mon, 25 Jul 2022 23:36:32 +0200

Improve logging
------------------------------------------------------------------------
4af141445 | Michael Rauh | Mon, 25 Jul 2022 16:56:24 +0200

Ensure an allocation is defined for a spawn request (meluxina:#219).
------------------------------------------------------------------------
c16564314 | Norbert Eicker | Thu, 21 Jul 2022 17:34:44 +0200

Fix misleading syslog message
------------------------------------------------------------------------
d57f299c9 | Michael Rauh | Thu, 21 Jul 2022 14:45:20 +0200

Release delayed spawn requests on all nodes of a step
when in the step callback of mother superior (meluxina:#219)
------------------------------------------------------------------------
625cc228f | Norbert Eicker | Fri, 22 Jul 2022 18:09:04 +0200

Retry sending Slurm message even if nothing is sent yet
------------------------------------------------------------------------
2a156d75a | Michael Rauh | Fri, 22 Jul 2022 16:19:37 +0200

Remove obsolete info parameter from sendSlurmMsg()
------------------------------------------------------------------------
c71ab0079 | Michael Rauh | Fri, 22 Jul 2022 15:24:30 +0200

Ensure openSlurmctldConEx() returns an error if registering the
socket fails
------------------------------------------------------------------------
65e19e43d | Norbert Eicker | Thu, 21 Jul 2022 21:33:08 +0200

Bugfix: reorganize psslurm's con->info handling (#77)
------------------------------------------------------------------------
1b1447fbd | Norbert Eicker | Thu, 21 Jul 2022 21:18:52 +0200

Avoid memory leak upon connection reset in psslurm
------------------------------------------------------------------------
74d2dbf83 | Norbert Eicker | Thu, 21 Jul 2022 21:04:37 +0200

Streamline
------------------------------------------------------------------------
994feba42 | Norbert Eicker | Thu, 21 Jul 2022 20:00:48 +0200

Drop obsolete info element from Slurm_Msg_Buf_t
------------------------------------------------------------------------
6b1bade81 | Michael Rauh | Fri, 22 Jul 2022 10:49:40 +0200

Update documentation
------------------------------------------------------------------------
5ee29a2af | Norbert Eicker | Fri, 8 Jul 2022 18:02:49 +0200

Fix typos and whitespace, add @doctodos
------------------------------------------------------------------------
c55f494f3 | Norbert Eicker | Fri, 8 Jul 2022 16:33:39 +0200

IWYU fixes
------------------------------------------------------------------------
dc230f992 | Michael Rauh | Wed, 6 Jul 2022 14:38:16 +0200

Verify an allocation if no job/step is started
------------------------------------------------------------------------
d4824b1cd | Norbert Eicker | Fri, 15 Jul 2022 18:19:10 +0200

Bugfix: ensure psslurm's help will no crash psid if no key is given
------------------------------------------------------------------------
1a7d06a2a | Stephan Krempel | Thu, 14 Jul 2022 09:42:24 +0000

Highlight NULL termination of argv in job and step
------------------------------------------------------------------------
b12985225 | Norbert Eicker | Tue, 12 Jul 2022 18:14:00 +0200

IWYU fix
------------------------------------------------------------------------
8bcb7ad57 | Norbert Eicker | Tue, 12 Jul 2022 18:13:34 +0200

Fix environment's size
------------------------------------------------------------------------
44eb7910d | Norbert Eicker | Tue, 12 Jul 2022 15:45:40 +0200

Replace add/getEnviron() by addStringArrayToMsg() and getStringArrayM()

 - Fix a memory leak in pspmix forwarder code, too
------------------------------------------------------------------------
16be6ffd3 | Norbert Eicker | Tue, 12 Jul 2022 15:08:04 +0200

Make use of addStringArrayToMsg()

 - Fix one memory leak in psexec and streamline
------------------------------------------------------------------------
707f02f88 | Norbert Eicker | Tue, 12 Jul 2022 12:56:43 +0200

Streamlining
------------------------------------------------------------------------
8fb15fd71 | Norbert Eicker | Tue, 12 Jul 2022 12:52:35 +0200

Add one @todo for analysis
------------------------------------------------------------------------
524db6224 | Norbert Eicker | Tue, 12 Jul 2022 12:50:23 +0200

Make use of addStringArrayToMsg()
------------------------------------------------------------------------
226772063 | Norbert Eicker | Tue, 12 Jul 2022 12:49:26 +0200

Make use of addStringArrayToMsg() and getStringArrayM()
------------------------------------------------------------------------
f24aae78d | Norbert Eicker | Tue, 12 Jul 2022 12:45:00 +0200

Make use of addStringArrayToMsg() and streamline
------------------------------------------------------------------------
08f2bdbb1 | Norbert Eicker | Tue, 12 Jul 2022 12:42:48 +0200

Make use of addStringArrayToMsg()

 - This obsoletes PStask_sendStrV()
 - Rename PStask_sendTask() to PStask_addToMsg() for consistency
------------------------------------------------------------------------
abc9d6ce2 | Norbert Eicker | Tue, 12 Jul 2022 11:00:46 +0200

Introducde addStringArrayToMsg()
------------------------------------------------------------------------
18b495cce | Norbert Eicker | Wed, 13 Jul 2022 09:48:41 +0200

Bugfix: Do not crash psid when SLURM_OVERCOMMIT is not set
------------------------------------------------------------------------
1f5806a78 | Norbert Eicker | Fri, 8 Jul 2022 16:26:22 +0200

More debug output improvements
------------------------------------------------------------------------
0cf4580a0 | Norbert Eicker | Thu, 7 Jul 2022 22:10:25 +0200

Improve debug output
------------------------------------------------------------------------
19c46a11d | Stephan Krempel | Thu, 7 Jul 2022 15:21:42 +0200

psslurm: Continue pinning on full nodes when overcommit is set
------------------------------------------------------------------------
e087e8906 | Norbert Eicker | Tue, 5 Jul 2022 23:31:09 +0200

Simplify pinToSocket() and improve docu
------------------------------------------------------------------------
dc6870d52 | Norbert Eicker | Tue, 5 Jul 2022 23:30:25 +0200

Streamlining
------------------------------------------------------------------------
d24863fd0 | Stephan Krempel | Wed, 29 Jun 2022 15:35:01 +0200

psslurm: Let MASK_LDOM pinning use physical domain numbers

Fixes #72
------------------------------------------------------------------------


Version 5.1.49-5:
=================
------------------------------------------------------------------------
e29a4352 | Michael Rauh | Thu, 23 Jun 2022 14:24:33 +0200

Bugfix: fix user ID of response message for a BCast RPC (pct:#405)

 - needed to enable the bcast binary to decode the munge credential with
   option MUNGE_OPT_UID_RESTRICTION
------------------------------------------------------------------------


Version 5.1.49-4:
=================
------------------------------------------------------------------------
3e82d4a4 | Michael Rauh | Wed, 15 Jun 2022 12:10:14 +0200

Don't delete the allocation before all terminate messages are send
------------------------------------------------------------------------


Version 5.1.49-3:
=================
------------------------------------------------------------------------
a39d44d9 | Norbert Eicker | Tue, 14 Jun 2022 23:40:25 +0200

Simplify code
------------------------------------------------------------------------
1172277d | Norbert Eicker | Tue, 14 Jun 2022 23:39:14 +0200

Prevent NULL-pointer dereference
------------------------------------------------------------------------
282c28a7 | Norbert Eicker | Tue, 14 Jun 2022 23:38:32 +0200

Add/improve docu comments
------------------------------------------------------------------------
58643879 | Norbert Eicker | Tue, 14 Jun 2022 23:36:57 +0200

Fix copy'n'paste error in help message
------------------------------------------------------------------------
db373e5e | Norbert Eicker | Tue, 14 Jun 2022 23:36:21 +0200

IWYU fixes
------------------------------------------------------------------------
70958617 | Michael Rauh | Tue, 14 Jun 2022 17:48:30 +0200

Ensure to delete lingering psslurm allocation if prologue
result cannot be send to pspelogue
------------------------------------------------------------------------
02369e47 | Michael Rauh | Mon, 13 Jun 2022 19:03:41 +0200

Add psslurm kvs set commands DEL_ALLOC, DEL_JOB, DEL_STEP
------------------------------------------------------------------------
6bc6402d | Michael Rauh | Fri, 10 Jun 2022 15:22:51 +0200

Use PSIDHOOK_PELOGUE_DROP in psslurm
------------------------------------------------------------------------
047dab65 | Michael Rauh | Fri, 10 Jun 2022 11:43:13 +0200

Call hook PSIDHOOK_PELOGUE_DROP in pelogue
------------------------------------------------------------------------
872ee11f | Michael Rauh | Fri, 10 Jun 2022 11:37:19 +0200

Add hook PSIDHOOK_PELOGUE_DROP and bump
plugin API version to 136
------------------------------------------------------------------------
5c142447 | Michael Rauh | Fri, 27 May 2022 13:54:17 +0200

Ensure the allocation gets deleted if the slurmctld prologue fails

 - slurmcltd will not send a terminate request if slurmctld prologue
   fails (Slurm 21.08)
------------------------------------------------------------------------


Version 5.1.49-2:
=================
------------------------------------------------------------------------
bd8886b84 | Norbert Eicker | Sat, 21 May 2022 00:00:41 +0200

Bugfix: Prevent segfault when cleaning up clients
------------------------------------------------------------------------
5843f8249 | Michael Rauh | Tue, 24 May 2022 16:06:16 +0200

Fix possible memory leak if slurmctld does not send a reply to a
request send by psslurm
------------------------------------------------------------------------
21e110abe | Norbert Eicker | Mon, 23 May 2022 21:09:23 +0200

Language fixes in comments
------------------------------------------------------------------------
a2a4149ba | Norbert Eicker | Mon, 23 May 2022 21:08:52 +0200

IWYU fixes
------------------------------------------------------------------------
c3f2fbb09 | Michael Rauh | Mon, 23 May 2022 16:45:56 +0200

Fix memory leaks unveiled by valgrind
------------------------------------------------------------------------
cfabca6c1 | Michael Rauh | Mon, 23 May 2022 16:44:12 +0200

Add the ability to query active Slurm connections of psslurm
via psiadmin
------------------------------------------------------------------------
540ead7b5 | Michael Rauh | Fri, 20 May 2022 17:35:41 +0200

Bugfix: fix possible memory corruption if number of requested GRes
is larger as node count of the allocation
------------------------------------------------------------------------
0de4b597e | Norbert Eicker | Fri, 20 May 2022 23:58:43 +0200

Bugfix: Only leave KVS if applicable
------------------------------------------------------------------------
84f31e42d | Norbert Eicker | Fri, 20 May 2022 23:57:41 +0200

Warn when sending KVS message to unknown destination
------------------------------------------------------------------------
8171e60e0 | Michael Rauh | Fri, 20 May 2022 13:07:06 +0200

Fix warnings unveiled by cppcheck
------------------------------------------------------------------------
88ff42f8f | Norbert Eicker | Wed, 18 May 2022 16:01:01 +0200

Add more details to PMI debug output on connect
------------------------------------------------------------------------
b9f57767f | Norbert Eicker | Wed, 18 May 2022 03:58:41 +0200

IWYU fixes
------------------------------------------------------------------------
040cff28c | Norbert Eicker | Wed, 18 May 2022 03:23:21 +0200

Raise preference of CONNECTED above RELEASED
------------------------------------------------------------------------
e53db1931 | Norbert Eicker | Wed, 18 May 2022 03:18:50 +0200

Improve docu of PSIDHOOK_FRWRD_EXIT and PSIDHOOK_FRWRD_CLNT_RLS
------------------------------------------------------------------------
a7a8e4e43 | Norbert Eicker | Wed, 18 May 2022 03:08:42 +0200

psidforwarder no longer expects RELEASERES messages

 - This requires for PSP_CD_RELEASE to be sent in
   finalizeForwarder() if client release is detected there
------------------------------------------------------------------------
a2a1a5bb6 | Norbert Eicker | Wed, 18 May 2022 03:01:35 +0200

Allow PMIx client to connect multiple times
------------------------------------------------------------------------
625033331 | Norbert Eicker | Wed, 18 May 2022 02:57:53 +0200

Improve pspmix_getMsgTypeString() for unknown types

 - This simplifies multiple log messages
------------------------------------------------------------------------
25e83d263 | Norbert Eicker | Wed, 18 May 2022 02:14:35 +0200

Allow PMI client to connect multiple times

 - This will only work for TCP connections
------------------------------------------------------------------------
3324894d5 | Norbert Eicker | Tue, 17 May 2022 23:05:34 +0200

Improve docu comments
------------------------------------------------------------------------
d4e5d349d | Norbert Eicker | Tue, 17 May 2022 21:25:50 +0200

Overwrite default PMI connection method by PMI_ENABLE_TCP environment
------------------------------------------------------------------------


Version 5.1.49-1:
=================
Messed up the tags, thus, need a new version


Version psmgmt-5.1.49:
======================
------------------------------------------------------------------------
f61525c91 | Norbert Eicker | Mon, 16 May 2022 20:33:58 +0200

Ensure SpankIsInitialized() always returns the truth
------------------------------------------------------------------------
c6b5bbfcc | Norbert Eicker | Mon, 16 May 2022 20:31:27 +0200

Avoid unnecessary goto statements
------------------------------------------------------------------------
833790d55 | Michael Rauh | Mon, 16 May 2022 16:04:27 +0200

Unload psslurm if Slurm healthcheck fails
------------------------------------------------------------------------
8cf6f07c0 | Norbert Eicker | Mon, 16 May 2022 10:13:02 +0200

IWYU fixes
------------------------------------------------------------------------
bb7a9aa18 | Norbert Eicker | Mon, 2 May 2022 16:33:09 +0200

Update psiadmin's inline help to upgraded 'plugin help' directive
------------------------------------------------------------------------
7c1a43de7 | Norbert Eicker | Mon, 2 May 2022 12:09:15 +0200

Enable `plugin help` extra parameter in psiadmin
------------------------------------------------------------------------
8942cb3d4 | Norbert Eicker | Mon, 2 May 2022 12:07:00 +0200

Avoid unnecessary goto statements
------------------------------------------------------------------------
f23f2ef8d | Norbert Eicker | Mon, 2 May 2022 11:37:46 +0200

Add key parameter to plugins' help() method
------------------------------------------------------------------------
199193a88 | Norbert Eicker | Mon, 2 May 2022 11:35:42 +0200

Streamlining
------------------------------------------------------------------------
3319062ae | Norbert Eicker | Mon, 2 May 2022 10:50:12 +0200

Improve docu comments
------------------------------------------------------------------------
93590306b | Norbert Eicker | Thu, 12 May 2022 21:05:19 +0200

More safety from RDP timeouts
------------------------------------------------------------------------
b57fc3113 | Norbert Eicker | Wed, 11 May 2022 15:48:46 +0200

Prevent PSsignal_get() from interupt by PSsignal_get(), too
------------------------------------------------------------------------
571765dd1 | Norbert Eicker | Wed, 11 May 2022 14:31:26 +0200

Minor streamlining and improved comments
------------------------------------------------------------------------
647d465e9 | Norbert Eicker | Wed, 11 May 2022 13:01:46 +0200

Add print_array_if macro to gdbinit definitions
------------------------------------------------------------------------
72e38258a | Norbert Eicker | Tue, 10 May 2022 10:07:20 +0200

Centralize fixList() into list_fix() in list.h
------------------------------------------------------------------------
dcffb01de | Norbert Eicker | Fri, 6 May 2022 14:00:34 +0200

Merge branch '5.1.48' again
------------------------------------------------------------------------
7f87a2aae | Norbert Eicker | Thu, 5 May 2022 18:29:13 +0200

Merge branch '5.1.48'
------------------------------------------------------------------------
5da766f26 | Norbert Eicker | Fri, 29 Apr 2022 17:34:36 +0200

IWYU fixes
------------------------------------------------------------------------
3e26404fb | Norbert Eicker | Fri, 29 Apr 2022 17:18:27 +0200

Bugfix: Make providerloops new caching actually work

 - Add and rework debug logs
------------------------------------------------------------------------
e61b88ce9 | Norbert Eicker | Fri, 29 Apr 2022 14:29:32 +0200

Improve debug output and streamlining
------------------------------------------------------------------------
b581a7480 | Norbert Eicker | Fri, 29 Apr 2022 14:28:35 +0200

Bugfix: Avoid reading beyond end of buffer
------------------------------------------------------------------------
9fb2fe1f4 | Norbert Eicker | Fri, 29 Apr 2022 14:27:38 +0200

Streamlining
------------------------------------------------------------------------
b6985d651 | Norbert Eicker | Wed, 27 Apr 2022 02:21:09 +0200

Get rid of now obsolete env.[ch]
------------------------------------------------------------------------
fd851bb63 | Norbert Eicker | Wed, 27 Apr 2022 02:03:36 +0200

Shift kvs.c from env_fields_t (env.c) to env_t (psenv.c)
------------------------------------------------------------------------
fe902c112 | Norbert Eicker | Wed, 27 Apr 2022 01:46:48 +0200

Rename kvs_put[Idx]() to kvs_set[Idx]() for consistency with [ps]env
------------------------------------------------------------------------
fe5cee837 | Norbert Eicker | Wed, 27 Apr 2022 01:22:42 +0200

Rework update caching in providerloop.c
------------------------------------------------------------------------
0ad31f8ce | Norbert Eicker | Wed, 27 Apr 2022 00:58:30 +0200

Improve docu and streamline pmiclient.c
------------------------------------------------------------------------
11bbc83e6 | Norbert Eicker | Mon, 25 Apr 2022 20:15:00 +0200

More booleanization and streamlining of providerloop.c
------------------------------------------------------------------------
0cce1c759 | Norbert Eicker | Fri, 22 Apr 2022 16:45:01 +0200

Streamline pmiclient.c
------------------------------------------------------------------------
1a14d914e | Norbert Eicker | Fri, 22 Apr 2022 15:25:24 +0200

Streamline providerloop.c
------------------------------------------------------------------------
f412cbff2 | Norbert Eicker | Wed, 20 Apr 2022 14:57:38 +0200

Booleanize and streamline hardware.c
------------------------------------------------------------------------
f46a3a1b6 | Norbert Eicker | Wed, 20 Apr 2022 14:49:27 +0200

Shift hardware.c from env_fields_t (env.c) to env_t (psenv.c)
------------------------------------------------------------------------
ee8e9c4dd | Norbert Eicker | Wed, 20 Apr 2022 14:46:20 +0200

Introduce envSize()
------------------------------------------------------------------------
1756afb3d | Norbert Eicker | Wed, 20 Apr 2022 14:42:31 +0200

Rename envGetIndex() to envDumpIndex()
------------------------------------------------------------------------
205bdf389 | Norbert Eicker | Fri, 29 Apr 2022 11:33:43 +0200

Make use of PSC_getVersionStr() at various places
------------------------------------------------------------------------
433119b40 | Norbert Eicker | Fri, 29 Apr 2022 11:01:26 +0200

Introduce PSC_getVersionStr()
------------------------------------------------------------------------
077636fad | Norbert Eicker | Wed, 20 Apr 2022 12:29:21 +0200

IWYU fixes
------------------------------------------------------------------------
392144ca4 | Norbert Eicker | Wed, 20 Apr 2022 10:43:50 +0200

Improve docu comments
------------------------------------------------------------------------
71fac60f0 | Stephan Krempel | Wed, 20 Apr 2022 02:33:27 +0200

pspmix: Free client objects only after namespace deregistration
------------------------------------------------------------------------
101db2a42 | Stephan Krempel | Wed, 20 Apr 2022 02:28:02 +0200

pspmix: Remove unnecessary free of client
------------------------------------------------------------------------
f0088caab | Stephan Krempel | Wed, 20 Apr 2022 01:57:56 +0200

pspmix: Fix memory leak of client fw callback object
------------------------------------------------------------------------
3eb61e610 | Stephan Krempel | Wed, 20 Apr 2022 01:53:06 +0200

pspmix: Enhance documentation
------------------------------------------------------------------------
59e186fbd | Stephan Krempel | Wed, 20 Apr 2022 01:55:31 +0200

pspmix: Fix potential use-after-free in client init/finalize handling
------------------------------------------------------------------------
768acb68f | Stephan Krempel | Wed, 20 Apr 2022 01:50:59 +0200

pspmix: Unify client init and finalize response handling
------------------------------------------------------------------------
b96fbb3dc | Norbert Eicker | Wed, 20 Apr 2022 01:54:34 +0200

Reenable reworked PSIDtask_clearMem() in PMIx server
------------------------------------------------------------------------
af558f01b | Norbert Eicker | Wed, 20 Apr 2022 01:50:37 +0200

Rework PSIDtask_clearMem() to use PStask_destroy()
------------------------------------------------------------------------
a75d6c409 | Norbert Eicker | Wed, 20 Apr 2022 01:49:13 +0200

Introduce PStask_destroy()
------------------------------------------------------------------------
d9927116b | Norbert Eicker | Wed, 20 Apr 2022 01:15:18 +0200

Prevent dereferencing of NULL pointer
------------------------------------------------------------------------
817e61fd8 | Norbert Eicker | Wed, 20 Apr 2022 01:14:10 +0200

Streamlining
------------------------------------------------------------------------
f2548e2e5 | Norbert Eicker | Wed, 20 Apr 2022 01:08:33 +0200

Rename pspmix_service_destroyNamespace to pspmix_service_cleanupNamespace()
------------------------------------------------------------------------
be0966456 | Norbert Eicker | Tue, 19 Apr 2022 23:46:36 +0200

Adjust more debugging output and streamline
------------------------------------------------------------------------
07dfa9bb0 | Stephan Krempel | Tue, 19 Apr 2022 01:12:18 +0200

pspmix: Cleanup client objects with thread-safety in mind
------------------------------------------------------------------------
f10805361 | Stephan Krempel | Wed, 13 Apr 2022 10:44:33 +0200

pspmix: Prevent using of potentially invalid namespace
------------------------------------------------------------------------
7b9f86953 | Stephan Krempel | Wed, 13 Apr 2022 10:43:45 +0200

pspmix: Fix potential memory leak
------------------------------------------------------------------------
38479dd7a | Stephan Krempel | Wed, 13 Apr 2022 10:12:44 +0200

pspmix: Adjust debugging output
------------------------------------------------------------------------
a32d60bc8 | Stephan Krempel | Wed, 13 Apr 2022 09:56:33 +0200

pspmix: Add changes missed in the last commit
------------------------------------------------------------------------
21b0b770e | Stephan Krempel | Wed, 13 Apr 2022 09:44:21 +0200

pspmix: Rework pspmix_service_registerClientAndSendEnv()

- free client outside of the func as it is allocated there, too
- reorganized to work safe with two lock areas
------------------------------------------------------------------------
b15abdba2 | Stephan Krempel | Wed, 13 Apr 2022 09:42:55 +0200

pspmix: Add function to deregister client from server library
------------------------------------------------------------------------
fb6f3b87f | Norbert Eicker | Mon, 11 Apr 2022 10:31:07 +0200

Improve docu comments
------------------------------------------------------------------------
7723859ec | Norbert Eicker | Mon, 11 Apr 2022 10:00:25 +0200

Bugfix: Avoid deadlock
------------------------------------------------------------------------
e55760f4f | Norbert Eicker | Mon, 11 Apr 2022 09:46:34 +0200

Make Modex debug switchable during runtime

 - ulog() (and udbg()) better suits to pspmixlog.h
------------------------------------------------------------------------
c57427880 | Norbert Eicker | Fri, 8 Apr 2022 17:21:35 +0200

For the time being take PSIDtask_clearMem() out of the game
------------------------------------------------------------------------
4e0cfa69e | Norbert Eicker | Fri, 8 Apr 2022 13:55:29 +0200

Try to fix mem-leaks and use-after-frees

 - Also add various @todo to investigate
------------------------------------------------------------------------
cb9cfa75e | Norbert Eicker | Fri, 8 Apr 2022 02:00:44 +0200

Streamlining and log improvements
------------------------------------------------------------------------
1cc164165 | Norbert Eicker | Fri, 8 Apr 2022 01:59:23 +0200

Make PSID_findJobInSession() public
------------------------------------------------------------------------
5f184d955 | Norbert Eicker | Thu, 7 Apr 2022 19:56:37 +0200

Bugfix: prevent use after free when looping over list
------------------------------------------------------------------------
68c5731c5 | Norbert Eicker | Thu, 7 Apr 2022 19:52:37 +0200

Streamlining and improved debug and comments
------------------------------------------------------------------------
dcda0f984 | Norbert Eicker | Thu, 7 Apr 2022 19:49:48 +0200

Bugfix: close memory leak
------------------------------------------------------------------------
46760504c | Norbert Eicker | Thu, 7 Apr 2022 12:12:40 +0200

Fix addJobToServer()'s return value
------------------------------------------------------------------------
51aa12943 | Norbert Eicker | Thu, 7 Apr 2022 12:10:57 +0200

Ensure new PspmixJob_t structs are properly initialized
------------------------------------------------------------------------
1d23d3e65 | Norbert Eicker | Wed, 6 Apr 2022 23:33:05 +0200

Streamlining
------------------------------------------------------------------------
0b9af355f | Norbert Eicker | Wed, 6 Apr 2022 22:53:22 +0200

Log improvements and minor streamlining
------------------------------------------------------------------------
95e07f8cb | Norbert Eicker | Wed, 6 Apr 2022 22:16:33 +0200

Remove unused remove flag from PspmixSession_t and PspmixJob_t
------------------------------------------------------------------------
5c73bcc46 | Norbert Eicker | Wed, 6 Apr 2022 22:12:43 +0200

Rename usePMIx flag of several structures to used
------------------------------------------------------------------------
d4c5a4eeb | Norbert Eicker | Wed, 6 Apr 2022 22:00:22 +0200

Improve docu comments
------------------------------------------------------------------------
a365d4775 | Norbert Eicker | Wed, 6 Apr 2022 01:00:53 +0200

Bugfix: Use correct order of arguments in list_for_each_safe()
------------------------------------------------------------------------
8553e6904 | Norbert Eicker | Wed, 6 Apr 2022 00:52:37 +0200

Add some safety measures against segfaults
------------------------------------------------------------------------
c07e6642d | Norbert Eicker | Wed, 6 Apr 2022 00:45:18 +0200

Bugfix: Use correct size in snprintf()
------------------------------------------------------------------------
33235deb3 | Norbert Eicker | Wed, 6 Apr 2022 00:44:39 +0200

IWYU fixes
------------------------------------------------------------------------
c2dc8905e | Norbert Eicker | Wed, 6 Apr 2022 00:31:24 +0200

Whitespace fixes and minor typos
------------------------------------------------------------------------
9c97267cc | Norbert Eicker | Thu, 31 Mar 2022 23:34:22 +0200

Rename PSI_sendSpawnReq() to sendSpawnReq() and make it private
------------------------------------------------------------------------
e20f88045 | Norbert Eicker | Thu, 31 Mar 2022 23:31:08 +0200

Bugfix: Do not send spawnertid with spawn messages

 - This is unnecessary since it can be set on the fly on receive
 - This will break the protocol compatibility
------------------------------------------------------------------------
a8a0af19d | Norbert Eicker | Thu, 31 Mar 2022 22:03:36 +0200

More docu improvements
------------------------------------------------------------------------
eb2a898f8 | Norbert Eicker | Wed, 30 Mar 2022 21:10:20 +0200

Simplify handling of PSP_DD_RESRELEASED by sending spawner's TID
------------------------------------------------------------------------
85b6209d9 | Norbert Eicker | Wed, 30 Mar 2022 19:42:43 +0200

IWYU fixes
------------------------------------------------------------------------
b973cacf9 | Norbert Eicker | Wed, 30 Mar 2022 19:35:27 +0200

Nicer logging
------------------------------------------------------------------------
91952cafc | Norbert Eicker | Wed, 30 Mar 2022 19:32:48 +0200

Bugfix: Avoid memory leak and/or use after free
------------------------------------------------------------------------
03526297d | Norbert Eicker | Wed, 30 Mar 2022 19:26:57 +0200

Get rid of superfluous helper variables
------------------------------------------------------------------------
d9b8d1c81 | Norbert Eicker | Wed, 30 Mar 2022 19:20:18 +0200

Improve docu comments
------------------------------------------------------------------------
b5cde684a | Norbert Eicker | Wed, 9 Mar 2022 22:22:16 +0100

Add missing Makefile.am changes
------------------------------------------------------------------------
6a9ed6e2b | Stephan Krempel | Wed, 9 Mar 2022 12:38:07 +0100

pspmix: Major rework to user server concept
------------------------------------------------------------------------
28106b603 | Stephan Krempel | Wed, 9 Mar 2022 12:34:47 +0100

pspmix: Fix comments and copyright notes
------------------------------------------------------------------------
c096eee8b | Stephan Krempel | Wed, 9 Mar 2022 12:05:51 +0100

pspmix: Fix description of DEBUG_MASK in pspmix.conf
------------------------------------------------------------------------
4449f7c3d | Stephan Krempel | Wed, 9 Mar 2022 12:04:49 +0100

pspmix: Introduce pspmixutil.[ch]
------------------------------------------------------------------------
bc71bcd32 | Stephan Krempel | Wed, 9 Mar 2022 11:59:42 +0100

pspmix: Adjust types to user server concept
------------------------------------------------------------------------
07a7041f6 | Stephan Krempel | Wed, 2 Mar 2022 13:25:53 +0100

pspmix: Rename pspmixjobserver.[ch] to pspmixuserserver.[ch]
------------------------------------------------------------------------
c6beee3ef | Stephan Krempel | Wed, 2 Mar 2022 07:06:21 +0100

Extend serial messages interface by functions for PSrsrvtn_ID_t
------------------------------------------------------------------------
701ff7c1f | Stephan Krempel | Wed, 9 Mar 2022 01:46:02 +0100

Include spawner TID into task
------------------------------------------------------------------------
7ab4a91e2 | Stephan Krempel | Wed, 9 Mar 2022 03:44:28 +0100

Split psidsession.[ch] from psidspawn.[ch]
------------------------------------------------------------------------
5a8d2d90e | Stephan Krempel | Wed, 9 Mar 2022 01:44:28 +0100

Consolidate renaming and hooks
------------------------------------------------------------------------
f7ed283b1 | Stephan Krempel | Thu, 3 Mar 2022 10:28:00 +0100

Rename PSresset_t to PSjob_t
------------------------------------------------------------------------
26229ecae | Stephan Krempel | Thu, 3 Mar 2022 10:23:40 +0100

Rename PSjob_t to PSsession_t
------------------------------------------------------------------------
b742bf75b | Stephan Krempel | Wed, 2 Mar 2022 07:02:50 +0100

Store reservations in jobs as sets grouped by spawner
------------------------------------------------------------------------
26c3d968b | Norbert Eicker | Sat, 23 Apr 2022 00:51:32 +0200

Ensure SIGPIPE is not ignored if started via systemd
------------------------------------------------------------------------
faf914309 | Norbert Eicker | Tue, 19 Apr 2022 00:12:19 +0200

Work around gcc-12 (false-positive) warnings
------------------------------------------------------------------------
a3f2d254e | Norbert Eicker | Mon, 18 Apr 2022 23:27:17 +0200

Fix (unlikely) insufficient string size unveiled by gcc-12
------------------------------------------------------------------------
616c4b681 | Norbert Eicker | Mon, 18 Apr 2022 23:19:01 +0200

Fix UAFs unveiled by gcc-12
------------------------------------------------------------------------
20e8c822b | Norbert Eicker | Mon, 18 Apr 2022 23:10:18 +0200

Work around a gcc-12 (false-positive) warning
------------------------------------------------------------------------
123e427da | Norbert Eicker | Mon, 18 Apr 2022 23:06:18 +0200

Refactor handleGenStr() and fix a UAF unveiled by gcc-12
------------------------------------------------------------------------
3418d96ec | Norbert Eicker | Mon, 18 Apr 2022 22:36:19 +0200

Work around (false positive) gcc-12 warning
------------------------------------------------------------------------


Version psmgmt-5.1.48-6:
========================
------------------------------------------------------------------------
4b5147332 | Norbert Eicker | Fri, 6 May 2022 13:49:14 +0200

Improve debug log (unify resID print, minor fixes)
------------------------------------------------------------------------
a760985f4 | Michael Rauh | Fri, 6 May 2022 11:24:47 +0200

Attach Slurm message hash to munge credential
------------------------------------------------------------------------
bf9a05a57 | Michael Rauh | Fri, 6 May 2022 11:23:49 +0200

Allow to encode payload in psMungeEncodeRes()
------------------------------------------------------------------------


Version psmgmt-5.1.48-5:
========================
------------------------------------------------------------------------
b36f0d7cd | Norbert Eicker | Thu, 5 May 2022 18:14:16 +0200

IWYU fixes
------------------------------------------------------------------------
b74e3862c | Michael Rauh | Thu, 5 May 2022 11:05:28 +0200

Verify Slurm message type via munge credential
------------------------------------------------------------------------
f087470a1 | Michael Rauh | Wed, 4 May 2022 20:06:00 +0200

booleanize psmunge functions
------------------------------------------------------------------------
708585235 | Michael Rauh | Wed, 4 May 2022 13:59:50 +0200

Improve cleanup of writeJobscript()
------------------------------------------------------------------------
a042df2c4 | Michael Rauh | Wed, 4 May 2022 13:22:35 +0200

Shred sensitive user data in psslurm
------------------------------------------------------------------------
07dd9a176 | Michael Rauh | Wed, 4 May 2022 13:22:01 +0200

Introduce envShred() to zero and free an environment
------------------------------------------------------------------------
2bbbbba67 | Michael Rauh | Wed, 4 May 2022 13:16:37 +0200

Introduce strShred() to zero and free a string in memory
------------------------------------------------------------------------
f9d25814c | Michael Rauh | Tue, 3 May 2022 17:27:37 +0200

Allow REQUEST_CONFIG to be decoded by any user

 - this is needed for configless setup if the Slurm user has a
   non standard UID
------------------------------------------------------------------------
2a141aa3e | Michael Rauh | Mon, 2 May 2022 18:14:52 +0200

Allow only specific users to decode munge messages send by psslurm
------------------------------------------------------------------------
e1f246f68 | Michael Rauh | Mon, 2 May 2022 14:52:55 +0200

Add function psMungeEncodeRes() to restrict user access
for munge credentials

 - also bump psmunge API to version 5
------------------------------------------------------------------------


Version psmgmt-5.1.48-4:
========================
------------------------------------------------------------------------
bbbb2fc68 | Norbert Eicker | Fri, 22 Apr 2022 13:09:27 +0200

Booleanize
------------------------------------------------------------------------
c756bca1a | Norbert Eicker | Fri, 22 Apr 2022 13:06:45 +0200

Bugfix: Ensure symbol is found after after second %, too
------------------------------------------------------------------------
b75b67526 | Norbert Eicker | Fri, 22 Apr 2022 12:59:30 +0200

Streamline
------------------------------------------------------------------------
85140226e | Norbert Eicker | Fri, 22 Apr 2022 12:51:35 +0200

Improve code readability
------------------------------------------------------------------------
83c2fa782 | Michael Rauh | Thu, 21 Apr 2022 18:48:03 +0200

Fix commit 991898 and set correct exit status for steps hitting
the walltime limit
------------------------------------------------------------------------
a7c9edb4a | Stephan Krempel | Thu, 21 Apr 2022 17:37:51 +0200

psslurm: Add `--exact` option to spawn srun
------------------------------------------------------------------------


Version psmgmt-5.1.48-3:
========================
------------------------------------------------------------------------
99189818 | Michael Rauh | Thu, 14 Apr 2022 17:44:29 +0200

Bugfix: prevent double sending of signals in psslurm
------------------------------------------------------------------------


Version psmgmt-5.1.48-2:
========================
------------------------------------------------------------------------
1827661b9 | Michael Rauh | Thu, 14 Apr 2022 16:37:51 +0200

Fix minor issue in Slurm node registration RPC
------------------------------------------------------------------------
ee66209f3 | Michael Rauh | Thu, 14 Apr 2022 16:33:59 +0200

Add support for links parameter of gres.conf
------------------------------------------------------------------------
dfc6f397c | Michael Rauh | Thu, 14 Apr 2022 14:48:08 +0200

Bugfix: fix slurmcltd warning about empty gres links statement
 * only relevant for Slurm protocol 21.08
------------------------------------------------------------------------
b582cee37 | Stephan Krempel | Wed, 13 Apr 2022 14:41:14 +0000

Update plugins/pspmix/pspmixservicespawn.c
------------------------------------------------------------------------
1bd585649 | Stephan Krempel | Mon, 11 Apr 2022 14:47:26 +0200

Bugfix: use all spawn requests during MPI_Comm_spawn_multiple

Applies to pure mpiexec usage.
------------------------------------------------------------------------


Version psmgmt-5.1.48-1:
========================
------------------------------------------------------------------------
8b5e9a66 | Norbert Eicker | Mon, 11 Apr 2022 20:43:47 +0200

IWYU fixes
------------------------------------------------------------------------
1028a802 | Norbert Eicker | Mon, 11 Apr 2022 20:38:54 +0200

Streamlining
------------------------------------------------------------------------
9a0e8b99 | Norbert Eicker | Mon, 11 Apr 2022 20:37:23 +0200

psenv ensures NULL terminated environment array
------------------------------------------------------------------------
559b5e1a | Michael Rauh | Mon, 11 Apr 2022 16:15:34 +0200

Enhancement: let spawn fail if not enough ressources are available
 * prevent srun from waiting until step timelimit is reached
------------------------------------------------------------------------
92d14128 | Michael Rauh | Mon, 11 Apr 2022 16:12:25 +0200

Use string vector to build up spawn arguments for srun
 * additional minor cleanup
------------------------------------------------------------------------
3c5b2422 | Michael Rauh | Mon, 11 Apr 2022 14:10:36 +0200

Add psslurm configuration option SRUN_BINARY used for
spawning processes
------------------------------------------------------------------------
62425b55 | Michael Rauh | Mon, 11 Apr 2022 14:02:44 +0200

Bugfix: force spawning srun to use configuration cache in
Slurm configless-mode
------------------------------------------------------------------------
8387c34c | Norbert Eicker | Sun, 10 Apr 2022 23:50:40 +0200

Reorganize debug log and improve docu comments
------------------------------------------------------------------------
1989ccda | Norbert Eicker | Sun, 10 Apr 2022 23:46:21 +0200

Streamlining
------------------------------------------------------------------------
b3c4d983 | Michael Rauh | Fri, 8 Apr 2022 16:27:17 +0200

Bugfix: ensure to receive all unanswered request from srun
before psslurmforwader shutdown

 * add additional timing and debug output for Slurm connections
------------------------------------------------------------------------
502da6a0 | Michael Rauh | Fri, 8 Apr 2022 12:00:57 +0200

Improve psslurm debug log message
------------------------------------------------------------------------
c1d89436 | Michael Rauh | Fri, 8 Apr 2022 11:58:21 +0200

Use Step_destroy() to ensure all step connections get closed
when the step is terminated
------------------------------------------------------------------------
988485b6 | Michael Rauh | Fri, 8 Apr 2022 11:57:20 +0200

Improve psslurm log message
------------------------------------------------------------------------
1700cc97 | Michael Rauh | Thu, 7 Apr 2022 17:38:23 +0200

Use Step_destroy() in Step_clearByJobid() to ensure all step
connections get closed
------------------------------------------------------------------------
41ddd270 | Michael Rauh | Thu, 7 Apr 2022 14:11:58 +0200

Minor improvement to skip unused sattach sockets on cleanup
------------------------------------------------------------------------
909fc8a4 | Norbert Eicker | Tue, 5 Apr 2022 23:32:29 +0200

Hide parseSlurmPlugLine()
------------------------------------------------------------------------
f9f0b21c | Norbert Eicker | Tue, 5 Apr 2022 23:28:33 +0200

Protect first call of strtok_r() from NULL argument
------------------------------------------------------------------------
58af5461 | Michael Rauh | Thu, 31 Mar 2022 10:52:23 +0200

Bugfix: allow NodeName entry of slurm.conf without additional
options

 * all options of the node can be set via the default parameter
------------------------------------------------------------------------


Version psmgmt-5.1.48:
======================
------------------------------------------------------------------------
e876fb6a8 | Norbert Eicker | Fri, 1 Apr 2022 17:10:55 +0200

IWYU fixes
------------------------------------------------------------------------
f00a500ba | Stephan Krempel | Fri, 1 Apr 2022 01:44:56 +0200

psslurm: Add comment that boards pinning is removed in Slurm 22.05
------------------------------------------------------------------------
e2a1c7e39 | Stephan Krempel | Fri, 1 Apr 2022 01:42:06 +0200

psslurm: Fix ldom mask|map pinning with uncommon CPU maps

This was broken with CPU maps like 0,2,4,6,1,3,5,7
------------------------------------------------------------------------
b637763c7 | Stephan Krempel | Fri, 1 Apr 2022 01:40:11 +0200

psslurmgetbind: Cleaner handling of CPU map
------------------------------------------------------------------------
b9ea60fb5 | Stephan Krempel | Fri, 1 Apr 2022 01:36:37 +0200

psslurmgetbind: Include --cpumap|-M in --help output
------------------------------------------------------------------------
d17d27755 | Norbert Eicker | Thu, 24 Mar 2022 11:35:13 +0100

Bugfixes and improved logging

 - Send pending CRR message only once
 - Ignore TG_FORWARDER tasks when determining pending CRR calls
------------------------------------------------------------------------
63f1bea28 | Norbert Eicker | Tue, 22 Mar 2022 01:42:23 +0100

Push daemon-protocol version to activate slot combining
------------------------------------------------------------------------
17c1080fa | Norbert Eicker | Tue, 22 Mar 2022 01:42:06 +0100

Also combine slots when cleaning up
------------------------------------------------------------------------
fdcc77989 | Norbert Eicker | Tue, 22 Mar 2022 01:40:06 +0100

Expect combined CHILDRESREL
------------------------------------------------------------------------
01dc4a63b | Norbert Eicker | Tue, 22 Mar 2022 01:33:26 +0100

Combine consecutive calls to sendCHILDRESREL() into one message

 - Combines slots release to the same logger and reservation
 - Send combined message from time to time in the main loop
 - Send immediately if all slots to be expected are combined
------------------------------------------------------------------------
fe5ca41e7 | Norbert Eicker | Tue, 22 Mar 2022 01:19:30 +0100

Pass resID to sendCHILDRESREL()
------------------------------------------------------------------------
a4ef0169b | Norbert Eicker | Tue, 22 Mar 2022 01:11:49 +0100

Introduce helper to handle pending CHILDRESREL messages
------------------------------------------------------------------------
d5eccf97d | Norbert Eicker | Mon, 14 Mar 2022 17:31:41 +0100

Streamlining
------------------------------------------------------------------------
7b6a6ae0a | Norbert Eicker | Thu, 3 Mar 2022 01:16:42 +0100

Streamlining
------------------------------------------------------------------------
408366895 | Norbert Eicker | Wed, 2 Mar 2022 23:43:45 +0100

Clear one obsolete @todo accompanied by streamlining
------------------------------------------------------------------------
ba70df77c | Norbert Eicker | Wed, 2 Mar 2022 23:40:32 +0100

Streamlining, booleaziation, docu fixes
------------------------------------------------------------------------
9ddc53c01 | Norbert Eicker | Wed, 2 Mar 2022 18:45:16 +0100

Fix typos in docu comments
------------------------------------------------------------------------
f90091c28 | Norbert Eicker | Tue, 22 Feb 2022 21:31:32 +0100

Improve docu comment
------------------------------------------------------------------------
a37720a1d | Norbert Eicker | Tue, 22 Feb 2022 21:28:04 +0100

Hide sendCHILDRESREL()
------------------------------------------------------------------------
5658886c7 | Norbert Eicker | Tue, 22 Feb 2022 21:20:42 +0100

Only release forwarder when all children are gone
------------------------------------------------------------------------
4d2e82539 | Norbert Eicker | Tue, 22 Feb 2022 21:15:03 +0100

Simplify releaseSignal()
------------------------------------------------------------------------
797a1cd52 | Norbert Eicker | Tue, 22 Feb 2022 20:59:12 +0100

Avoid double bookkeeping of parent/child signals
------------------------------------------------------------------------
db03aad4b | Norbert Eicker | Tue, 22 Feb 2022 20:30:30 +0100

Reorganize releaseTask()
------------------------------------------------------------------------
a8e44c0a1 | Norbert Eicker | Tue, 22 Feb 2022 19:56:04 +0100

Streamlining
------------------------------------------------------------------------
4f91e3f9f | Norbert Eicker | Tue, 22 Feb 2022 19:46:26 +0100

Utilize releaseChild() from releaseSignal()
------------------------------------------------------------------------
a3090026a | Norbert Eicker | Tue, 22 Feb 2022 19:23:59 +0100

Introduce releaseChild()
------------------------------------------------------------------------
a55e3459c | Norbert Eicker | Tue, 22 Feb 2022 18:57:27 +0100

Streamlining
------------------------------------------------------------------------
6182747d4 | Norbert Eicker | Tue, 22 Feb 2022 15:57:27 +0100

Improve detection of obsolete tasks sending signals
------------------------------------------------------------------------
050b944fa | Norbert Eicker | Tue, 22 Feb 2022 15:43:24 +0100

Fix outdated docu comments
------------------------------------------------------------------------
639e8c888 | Norbert Eicker | Fri, 18 Feb 2022 22:36:19 +0100

Add comment
------------------------------------------------------------------------
5542cbf3a | Norbert Eicker | Thu, 17 Feb 2022 23:32:20 +0100

Prevent sending superfluous CHILDDEAD messages
------------------------------------------------------------------------
e4305d8ed | Norbert Eicker | Wed, 16 Feb 2022 01:01:54 +0100

Booleanize PSID_sendSignal()
------------------------------------------------------------------------
b3d736080 | Norbert Eicker | Wed, 16 Feb 2022 00:38:14 +0100

PSID_deleteSignal() became a synomym of PSID_removeSignal()
------------------------------------------------------------------------
69934333a | Norbert Eicker | Wed, 16 Feb 2022 00:30:48 +0100

Simplify handling of signal-lists
------------------------------------------------------------------------
d394db3e6 | Norbert Eicker | Tue, 15 Feb 2022 23:39:27 +0100

Move handling of signal-lists to PSsignal and make it public
------------------------------------------------------------------------
acc310db9 | Norbert Eicker | Tue, 15 Feb 2022 22:29:52 +0100

Remove signals from siglist immediately in PSID_getSignalByID()
------------------------------------------------------------------------
6f1bcd3a1 | Norbert Eicker | Tue, 15 Feb 2022 21:56:33 +0100

Booleanize declareNodeDead()
------------------------------------------------------------------------
685b22216 | Norbert Eicker | Tue, 15 Feb 2022 21:33:15 +0100

Enhance documentation
------------------------------------------------------------------------
7339b07bc | Norbert Eicker | Mon, 14 Feb 2022 22:52:23 +0100

Booleanize RDP_blockTimer()
------------------------------------------------------------------------
82047cd12 | Michael Rauh | Tue, 29 Mar 2022 15:13:22 +0200

Improve psslurm error message
------------------------------------------------------------------------
d08f167a4 | Michael Rauh | Fri, 25 Mar 2022 11:13:39 +0100

psslurm: register to slurmctld after health-check at startup phase
is finished
------------------------------------------------------------------------
9a5d1a82b | Stephan Krempel | Mon, 28 Mar 2022 16:21:44 +0200

psslurmgetbind: Don't use cpu map with map_cpu and mask_cpu
------------------------------------------------------------------------
455767264 | Norbert Eicker | Thu, 24 Mar 2022 14:53:41 +0100

Get rid of now obsolete psidtimer.h
------------------------------------------------------------------------
c5e24f582 | Norbert Eicker | Thu, 24 Mar 2022 14:51:29 +0100

Get rid of mytimersub()
------------------------------------------------------------------------
ac768ce8d | Norbert Eicker | Thu, 24 Mar 2022 14:48:23 +0100

Rename StatusTimeout -> statusTimeout
------------------------------------------------------------------------
3a812eaa9 | Norbert Eicker | Thu, 24 Mar 2022 14:16:52 +0100

Send message to pluginforwarder only if still connected
------------------------------------------------------------------------
2f8178557 | Norbert Eicker | Thu, 24 Mar 2022 14:15:24 +0100

Give more hints on dropped message
------------------------------------------------------------------------
f16adc4fc | Michael Rauh | Sun, 20 Mar 2022 16:07:46 +0100

Fix rank label output for pack jobs (jrt:13143)
------------------------------------------------------------------------
c526457be | Norbert Eicker | Mon, 21 Mar 2022 19:03:01 +0100

Limit rpath's visibility (and adapt to pattern in psslurmenv.c)
------------------------------------------------------------------------
75fe45ee4 | Michael Rauh | Sun, 20 Mar 2022 12:39:34 +0100

Use $PWD over current working directory provided in step if
resovled both use to same directory
------------------------------------------------------------------------
95a7d15e6 | Norbert Eicker | Wed, 9 Mar 2022 23:46:11 +0100

Describe communication between psid and pluginforwarder
------------------------------------------------------------------------
88c8d398f | Norbert Eicker | Wed, 9 Mar 2022 00:28:45 +0100

IWYU fix
------------------------------------------------------------------------
2cb656dcb | Norbert Eicker | Wed, 9 Mar 2022 00:19:38 +0100

Booleanize pluginforwarder's message handlers
------------------------------------------------------------------------
e07dfebd4 | Norbert Eicker | Tue, 8 Mar 2022 23:33:23 +0100

Actually pass type beyond PLGN_TYPE_LAST to handlers
------------------------------------------------------------------------
c93306779 | Norbert Eicker | Tue, 8 Mar 2022 23:18:46 +0100

You must not use PSP_PLUG_PSSLURM to send to pluginforwarder
------------------------------------------------------------------------
c618b0c69 | Norbert Eicker | Tue, 8 Mar 2022 01:00:45 +0100

Use own message type in between psid and pluginforwarder
------------------------------------------------------------------------
37a74e790 | Norbert Eicker | Tue, 8 Mar 2022 00:31:33 +0100

Make pelogue's type interface more stringent
------------------------------------------------------------------------
d5cd56b92 | Norbert Eicker | Mon, 7 Mar 2022 23:19:17 +0100

IWYU fixes
------------------------------------------------------------------------
26aaba673 | Norbert Eicker | Wed, 2 Mar 2022 12:19:41 +0100

Avoid use of PSLog in between psid and pluginforwarders
------------------------------------------------------------------------
5fcd6ebe0 | Stephan Krempel | Mon, 7 Mar 2022 14:46:42 +0100

psslurmgetbind: Cosmetic fix of memory mask length in output
------------------------------------------------------------------------
fb0fdb168 | Norbert Eicker | Wed, 2 Mar 2022 12:16:45 +0100

More useless checks around free() removed
------------------------------------------------------------------------


Version psmgmt-5.1.47-2:
========================
------------------------------------------------------------------------
54ed226b | Michael Rauh | Tue, 1 Mar 2022 15:41:06 +0100

Use Step_strID() to log error message
------------------------------------------------------------------------
6aa571f9 | Michael Rauh | Tue, 1 Mar 2022 15:40:01 +0100

Add const qualifier to step argument of Step_strID()
------------------------------------------------------------------------
721c9d5e | Norbert Eicker | Thu, 24 Feb 2022 22:30:12 +0100

Minor fixes
------------------------------------------------------------------------
6753f190 | Michael Rauh | Thu, 24 Feb 2022 15:24:19 +0100

Free unpacked job nodelist in credentials struct
------------------------------------------------------------------------
70b83002 | Stephan Krempel | Thu, 24 Feb 2022 14:02:33 +0100

psslurm: Fix core credential mapping to nodes

Fix the extraction of the right part of the core map in case the
beginning step node list does not match the start of the job node list.
This always happened if a step is not assigned to the beginning of the
allocation.

Closes #61
------------------------------------------------------------------------
4d6d86d2 | Stephan Krempel | Thu, 24 Feb 2022 14:00:40 +0100

psslurm: Store unpacked job nodelist in credentials struct
------------------------------------------------------------------------
3fa7abdf | Stephan Krempel | Tue, 22 Feb 2022 17:45:11 +0100

pspmix: Fix forwarding of server TID to psid forwarders
------------------------------------------------------------------------


Version psmgmt-5.1.47-1:
========================
------------------------------------------------------------------------
c74bd2dc | Norbert Eicker | Thu, 17 Feb 2022 23:08:35 +0100

Minor cleanup
------------------------------------------------------------------------
5d3b5bae | Michael Rauh | Thu, 17 Feb 2022 15:48:21 +0100

Bugfix: use forwarders PID for hook PSIDHOOK_JAIL_CHILD
instead of UID
------------------------------------------------------------------------
cdf0cf02 | Michael Rauh | Thu, 17 Feb 2022 15:02:10 +0100

Use hookFWInitUser() to initialize the PMIx server
------------------------------------------------------------------------
ba742f4a | Michael Rauh | Thu, 17 Feb 2022 14:59:33 +0100

Introduce hookFWInitUser() in pluginforwarder
------------------------------------------------------------------------
97ad8843 | Michael Rauh | Thu, 17 Feb 2022 12:41:05 +0100

Test for valid child PID in jail scripts
------------------------------------------------------------------------
b0ee7680 | Michael Rauh | Thu, 17 Feb 2022 12:21:09 +0100

Switch off debug output of jail scripts
------------------------------------------------------------------------
604d3c4e | Michael Rauh | Fri, 11 Feb 2022 13:05:41 +0100

Don't expect a terminate script for every jail module
------------------------------------------------------------------------
0fc313b5 | Michael Rauh | Fri, 11 Feb 2022 12:51:53 +0100

Fix docu
------------------------------------------------------------------------
2e7a35a3 | Michael Rauh | Fri, 11 Feb 2022 12:50:19 +0100

Bugfix: call PSIDHOOK_JAIL_CHILD after hookFWInit()
------------------------------------------------------------------------
a39f2c1a | Norbert Eicker | Fri, 11 Feb 2022 16:14:30 +0100

Improve docu
------------------------------------------------------------------------
94f923e3 | Michael Rauh | Fri, 11 Feb 2022 14:57:33 +0100

Call sinfo with config server environment variable
for Slurm protocol version detection
------------------------------------------------------------------------


Version psmgmt-5.1.47:
======================
------------------------------------------------------------------------
e5dc6c6a | Michael Rauh | Thu, 10 Feb 2022 16:31:19 +0100

Add SLURM_CONF_SERVER and SLURM_CONF_BACKUP_SERVER to
example psslurm.conf
------------------------------------------------------------------------
df805a85 | Norbert Eicker | Mon, 7 Feb 2022 19:57:42 +0100

Fix IWYU warnings
------------------------------------------------------------------------
aee0245a | Norbert Eicker | Mon, 7 Feb 2022 19:36:21 +0100

Ensure there is a reservation for the PMIx server
------------------------------------------------------------------------
413ea968 | Stephan Krempel | Mon, 7 Feb 2022 13:27:22 +0100

Streamlining
------------------------------------------------------------------------
bd64e2b7 | Norbert Eicker | Mon, 7 Feb 2022 11:33:21 +0100

Ensure remove job is not referenced by server
------------------------------------------------------------------------
3e7b9460 | Norbert Eicker | Mon, 7 Feb 2022 11:23:21 +0100

Hide localJobs list
------------------------------------------------------------------------
197f1c33 | Norbert Eicker | Mon, 7 Feb 2022 11:21:25 +0100

Refer to job instead of moving/copying resource list
------------------------------------------------------------------------
9ee7af73 | Stephan Krempel | Fri, 4 Feb 2022 17:07:35 +0100

pspmix: Add option to terminate job on server fail
------------------------------------------------------------------------
52ef00b5 | Stephan Krempel | Fri, 4 Feb 2022 16:36:05 +0100

pspmix: Fix set/unset config functions
------------------------------------------------------------------------
e023e9e8 | Stephan Krempel | Fri, 4 Feb 2022 10:40:20 +0100

Only use errno value if kill() failed
------------------------------------------------------------------------
bad8584c | Norbert Eicker | Thu, 3 Feb 2022 13:49:53 +0100

Bugfix: only take healthy jobservers into account
------------------------------------------------------------------------
32f61ffa | Norbert Eicker | Thu, 3 Feb 2022 13:43:54 +0100

Adapt to other logging
------------------------------------------------------------------------
3c022b6f | Stephan Krempel | Thu, 3 Feb 2022 11:09:17 +0100

pspmix: Pre analyse exit status of dying servers
------------------------------------------------------------------------
05c92495 | Stephan Krempel | Thu, 3 Feb 2022 10:16:09 +0100

pspmix: Makes findJobserver() return only valid servers
------------------------------------------------------------------------
3f160c0a | Stephan Krempel | Thu, 3 Feb 2022 10:02:15 +0100

pspmix: Prevent to create kill timer twice.
------------------------------------------------------------------------
6603e6a3 | Norbert Eicker | Thu, 3 Feb 2022 00:40:48 +0100

Fix IWYU warnings
------------------------------------------------------------------------
570e2d94 | Norbert Eicker | Thu, 3 Feb 2022 00:38:55 +0100

Streamlining
------------------------------------------------------------------------
51256425 | Norbert Eicker | Thu, 3 Feb 2022 00:36:11 +0100

Bugfix: Avoid Use After Free
------------------------------------------------------------------------
9a792def | Norbert Eicker | Thu, 3 Feb 2022 00:32:57 +0100

Bugfix: Actually kill the pid, not the tid
------------------------------------------------------------------------
a737a059 | Stephan Krempel | Wed, 2 Feb 2022 18:40:23 +0100

pspmix: Detect inside psid if a PMIx server is used

This uses the messages forwarded by the psid to each client's
forwarder indicating that the client connected to the server.
------------------------------------------------------------------------
d1247a7a | Stephan Krempel | Wed, 2 Feb 2022 18:32:54 +0100

pspmix: Fix typos
------------------------------------------------------------------------
0613699b | Stephan Krempel | Wed, 2 Feb 2022 11:50:32 +0100

Fix server shutdown and add kill timer

This introduces the new pspmix.conf parameter SERVER_KILL_WAIT to
control the time a server has for regular shutdown before
getting killed
------------------------------------------------------------------------
3ae18e64 | Norbert Eicker | Thu, 3 Feb 2022 22:47:45 +0100

Bugfix: Check for uid_t consistency in msg_SIGNAL
------------------------------------------------------------------------
74fb73a6 | Norbert Eicker | Wed, 2 Feb 2022 22:14:31 +0100

Fix docu
------------------------------------------------------------------------
d70cce23 | Stephan Krempel | Wed, 2 Feb 2022 11:32:19 +0100

Rework plugin forwarder callback function
------------------------------------------------------------------------
74a7b580 | Norbert Eicker | Tue, 1 Feb 2022 21:36:06 +0100

Change nodeinfo's NICSort default from BIOS to PCI
------------------------------------------------------------------------
ff60c1f6 | Norbert Eicker | Tue, 1 Feb 2022 21:35:04 +0100

Reflex psconfig's class conventions by introducing class:defaults
------------------------------------------------------------------------
9c6dcc83 | Stephan Krempel | Mon, 31 Jan 2022 15:09:10 +0100

psslurm: Let BCast forwarder run as user
------------------------------------------------------------------------
fd141409 | Stephan Krempel | Mon, 31 Jan 2022 12:48:44 +0100

psslurm: Run all plugin forwarders as root again
------------------------------------------------------------------------
3e86c2a8 | Norbert Eicker | Mon, 24 Jan 2022 10:55:00 +0100

Allow to run plugin forwarder as user in a more natural way
------------------------------------------------------------------------
e34765b3 | Stephan Krempel | Fri, 21 Jan 2022 17:22:25 +0100

Update copyright notice
------------------------------------------------------------------------
5e842e26 | Stephan Krempel | Fri, 21 Jan 2022 17:11:52 +0100

Move resolving of unknown username to switchUser()
------------------------------------------------------------------------
ab160364 | Stephan Krempel | Wed, 12 Jan 2022 19:00:41 +0100

pspmix: Drop root priviliges in pspmix server

Each pspmix server does only manage the jobs of one user so
it can run as that user, too.
On the one hand, this prevents potential security issues and on the
other hand enables the HC to kill server processes left over for any
reason as seen in #43.
------------------------------------------------------------------------
3223522f | Norbert Eicker | Mon, 31 Jan 2022 23:52:59 +0100

Implement NIC device name fetching for hwloc 1.11
------------------------------------------------------------------------
430bb189 | Stephan Krempel | Fri, 28 Jan 2022 00:13:25 +0100

Not setting NIC pinning on mapping problems

If not able to set a correct NIC pinning it is better
to set no pinning at all to not disturb the driver.
------------------------------------------------------------------------
ed008341 | Stephan Krempel | Wed, 26 Jan 2022 15:53:47 +0100

Add mapping to device names in NIC pinning
------------------------------------------------------------------------
c1859c7f | Norbert Eicker | Wed, 26 Jan 2022 22:55:33 +0100

Prevent segfault when try to print ports in nodeinfo
------------------------------------------------------------------------
ba5e33af | Norbert Eicker | Tue, 25 Jan 2022 22:08:20 +0100

Fetch NIC device names and port and push to PSIDnodes
------------------------------------------------------------------------
eeb4ba67 | Norbert Eicker | Fri, 21 Jan 2022 16:50:49 +0100

Fix copyright
------------------------------------------------------------------------
2c4b221c | Stephan Krempel | Thu, 20 Jan 2022 17:34:40 +0100

New config parameter for control automatic NIC binding
------------------------------------------------------------------------
737f3740 | Norbert Eicker | Wed, 19 Jan 2022 23:33:55 +0100

Stylistic improvements
------------------------------------------------------------------------
d77ec506 | Norbert Eicker | Wed, 19 Jan 2022 23:32:24 +0100

Fix debug output
------------------------------------------------------------------------
c997aaf8 | Norbert Eicker | Wed, 19 Jan 2022 21:58:37 +0100

Actually implement getting/setting BINDNICS
------------------------------------------------------------------------
b5b667ed | Norbert Eicker | Wed, 19 Jan 2022 21:57:45 +0100

Fix typo
------------------------------------------------------------------------
1bf4d03f | Norbert Eicker | Wed, 19 Jan 2022 21:38:11 +0100

Fix copyright date
------------------------------------------------------------------------
71d54004 | Stephan Krempel | Tue, 18 Jan 2022 13:27:11 +0100

Include prototype of default NIC pinning into psid
------------------------------------------------------------------------
1de27da8 | Stephan Krempel | Tue, 18 Jan 2022 13:22:00 +0100

Generalize pinning function for setting environment

    Change bindToGPUs() to bindToDevs() to include NIC handling.
------------------------------------------------------------------------
32ab23f4 | Stephan Krempel | Tue, 18 Jan 2022 11:54:01 +0100

Generalize pinning function for getting NUMA close devices

Change PSIDpin_getCloseGPUs() to PSIDpin_getCloseDevs() to include
NIC handling.
------------------------------------------------------------------------
984c0553 | Stephan Krempel | Tue, 18 Jan 2022 11:47:32 +0100

Add node configuration option bindNICs
------------------------------------------------------------------------
20601670 | Norbert Eicker | Thu, 27 Jan 2022 01:17:58 +0100

Add JUWELS-Booster node topology recorded with v2.2
------------------------------------------------------------------------
cea266f9 | Norbert Eicker | Thu, 27 Jan 2022 00:44:41 +0100

Improve return value and fix docu
------------------------------------------------------------------------
ddfd220c | Stephan Krempel | Wed, 8 Dec 2021 16:49:40 +0100

pspmix: Report if message target could not be set
------------------------------------------------------------------------
52a6b84d | Michael Rauh | Wed, 26 Jan 2022 16:14:13 +0100

Bugfix: fix possbile segfault when a step is deleted (jwt:#12795)
------------------------------------------------------------------------
108f1a24 | Norbert Eicker | Wed, 26 Jan 2022 11:54:02 +0100

Merge branch '5.1.46' once again
------------------------------------------------------------------------
24db4c46 | Stephan Krempel | Tue, 25 Jan 2022 14:32:30 +0100

Add hwloc topo files of Meluxina compute nodes
------------------------------------------------------------------------
98cb9628 | Norbert Eicker | Fri, 21 Jan 2022 16:46:39 +0100

Merge branch '5.1.46' yet another time
------------------------------------------------------------------------
2f668464 | Norbert Eicker | Wed, 19 Jan 2022 21:25:42 +0100

Merge branch '5.1.46' again
------------------------------------------------------------------------
d78a8bee | Norbert Eicker | Wed, 19 Jan 2022 09:24:13 +0100

Adapt sysctl's config dir to RedHat's less flexible pkg-config
------------------------------------------------------------------------
941a0375 | Norbert Eicker | Wed, 19 Jan 2022 02:58:35 +0100

Ensure 'make dist' creates a self-consistent and complete tar
------------------------------------------------------------------------
1588ab45 | Norbert Eicker | Wed, 19 Jan 2022 01:58:48 +0100

Determine sysctl's config directory via pkg-config, too
------------------------------------------------------------------------
177024c0 | Norbert Eicker | Wed, 19 Jan 2022 00:24:32 +0100

Determine systemd's config directory via pkg-config
------------------------------------------------------------------------
87b2866a | Norbert Eicker | Mon, 17 Jan 2022 23:57:27 +0100

Make psid depending on munge when using systemd
------------------------------------------------------------------------
57aa164d | Norbert Eicker | Mon, 17 Jan 2022 23:49:13 +0100

Move psmunge plugin into psslurm sub-RPM
------------------------------------------------------------------------
04907702 | Norbert Eicker | Tue, 18 Jan 2022 20:17:53 +0100

Merge branch '5.1.46'
------------------------------------------------------------------------
0803d382 | Norbert Eicker | Tue, 18 Jan 2022 19:20:41 +0100

Add JURECA-DC GPU node topology recorded with v2.2
------------------------------------------------------------------------
cc2d6d5d | Norbert Eicker | Thu, 13 Jan 2022 04:41:41 +0100

Cleanup includes
------------------------------------------------------------------------
a8eb3467 | Norbert Eicker | Thu, 13 Jan 2022 04:35:43 +0100

Converge PSID_reset()'s implementation and docu
------------------------------------------------------------------------
221df280 | Norbert Eicker | Thu, 13 Jan 2022 04:03:31 +0100

Speedup psid's reset process, too
------------------------------------------------------------------------
3421a418 | Norbert Eicker | Thu, 13 Jan 2022 03:52:53 +0100

Get rid of PSID_reset()'s timer, too
------------------------------------------------------------------------
0b3fe513 | Norbert Eicker | Thu, 13 Jan 2022 03:39:22 +0100

Fix docu
------------------------------------------------------------------------
4752196d | Norbert Eicker | Thu, 13 Jan 2022 03:25:57 +0100

Speedup psid's shutdown process
------------------------------------------------------------------------
e089c32d | Norbert Eicker | Thu, 13 Jan 2022 02:39:25 +0100

Introduce PSIDclient_getNum()
------------------------------------------------------------------------
f7f7dcdc | Norbert Eicker | Thu, 13 Jan 2022 02:03:34 +0100

Get rid of PSID_shutdown()'s timer

 - PSID_shutdown() is called from the mainloop only any other
   second anyhow
------------------------------------------------------------------------
cfb0c039 | Norbert Eicker | Thu, 13 Jan 2022 01:57:44 +0100

Update PSID_shutdown()'s outdated documentation
------------------------------------------------------------------------
9ca534f1 | Norbert Eicker | Thu, 13 Jan 2022 01:16:08 +0100

Fix cppcheck warnings
------------------------------------------------------------------------
bdc3ea7e | Norbert Eicker | Thu, 13 Jan 2022 00:45:07 +0100

Fix RPM build by adding new files to Makefile.sources
------------------------------------------------------------------------
575a5b39 | Norbert Eicker | Thu, 13 Jan 2022 00:13:35 +0100

Add warning when hostname is cut and verbosity matches
------------------------------------------------------------------------
f1525c12 | Norbert Eicker | Wed, 12 Jan 2022 23:23:48 +0100

Rework parser's logging the make it's logger_t visible
------------------------------------------------------------------------
fddbe354 | Norbert Eicker | Wed, 12 Jan 2022 22:38:31 +0100

Improve logging
------------------------------------------------------------------------
3a9455d3 | Norbert Eicker | Tue, 4 Jan 2022 14:12:38 +0100

Utilize PSCfgHelp_getObject() when interacting with psconfig
------------------------------------------------------------------------
c62f9a57 | Norbert Eicker | Tue, 4 Jan 2022 13:59:02 +0100

Introduce PSCfgHelp_getObject() into libputil
------------------------------------------------------------------------
6878e87d | Norbert Eicker | Thu, 6 Jan 2022 20:15:06 +0100

IWYU cleanup for test plugins
------------------------------------------------------------------------
bcc5a2d2 | Norbert Eicker | Thu, 6 Jan 2022 19:55:09 +0100

Fix build of test plugins broken by IWYU changes
------------------------------------------------------------------------
a8c6c240 | Norbert Eicker | Thu, 6 Jan 2022 19:50:10 +0100

IWYU cleanup for psslurm plugin
------------------------------------------------------------------------
e849512d | Norbert Eicker | Thu, 6 Jan 2022 15:38:16 +0100

IWYU cleanup for pspmix plugin
------------------------------------------------------------------------
b6ea4bb6 | Norbert Eicker | Thu, 6 Jan 2022 14:53:11 +0100

IWYU cleanup for pspam plugin and module
------------------------------------------------------------------------
c6ab7511 | Norbert Eicker | Thu, 6 Jan 2022 14:24:42 +0100

IWYU cleanup for psmunge plugin
------------------------------------------------------------------------
d3d91cb2 | Norbert Eicker | Thu, 6 Jan 2022 14:20:24 +0100

IWYU cleanup for pspmi plugin
------------------------------------------------------------------------
647fdd88 | Norbert Eicker | Wed, 5 Jan 2022 21:29:00 +0100

IWYU cleanup for psgw plugin
------------------------------------------------------------------------
9002d63d | Norbert Eicker | Wed, 5 Jan 2022 21:06:33 +0100

IWYU cleanup for psaccount plugin
------------------------------------------------------------------------
394060bc | Norbert Eicker | Wed, 5 Jan 2022 20:28:06 +0100

IWYU cleanup for pelogue plugin
------------------------------------------------------------------------
5623bbaf | Norbert Eicker | Wed, 5 Jan 2022 20:03:38 +0100

Minor IWYU refinements
------------------------------------------------------------------------
fdcf4e63 | Norbert Eicker | Tue, 4 Jan 2022 22:35:24 +0100

IWYU cleanup for psmom plugin
------------------------------------------------------------------------
5779b83d | Norbert Eicker | Tue, 4 Jan 2022 22:17:02 +0100

IWYU cleanup for psresport plugin
------------------------------------------------------------------------
81595c14 | Norbert Eicker | Tue, 4 Jan 2022 22:14:10 +0100

IWYU cleanup for psexec plugin
------------------------------------------------------------------------
7a98bbb5 | Norbert Eicker | Tue, 4 Jan 2022 22:08:27 +0100

IWYU cleanup for nodeinfo plugin
------------------------------------------------------------------------
1ec472c2 | Norbert Eicker | Tue, 4 Jan 2022 22:05:05 +0100

IWYU cleanup for jail plugin
------------------------------------------------------------------------
b8cd1931 | Norbert Eicker | Tue, 4 Jan 2022 22:01:18 +0100

IWYU cleanup for cgroup plugin
------------------------------------------------------------------------
6ec83702 | Norbert Eicker | Tue, 4 Jan 2022 14:28:14 +0100

Further IWYU fixes and cleanups
------------------------------------------------------------------------
37419d50 | Michael Rauh | Wed, 29 Dec 2021 17:57:38 +0100

Fix warnings unveiled by cppcheck
------------------------------------------------------------------------
98828ec7 | Michael Rauh | Thu, 23 Dec 2021 16:21:50 +0100

Introduce PSCio_recvBufS() to suppress warning when psslurm
PTY connections are closed
------------------------------------------------------------------------
5a5bf994 | Norbert Eicker | Mon, 3 Jan 2022 10:26:53 +0100

Rework assumption functionality
------------------------------------------------------------------------
dce2b358 | Norbert Eicker | Tue, 21 Dec 2021 22:00:58 +0100

Provide scan-build hints to get on with lists
------------------------------------------------------------------------
2cf4471a | Norbert Eicker | Tue, 21 Dec 2021 20:38:15 +0100

Remove useless checks around free()
------------------------------------------------------------------------
4a6942c2 | Norbert Eicker | Mon, 20 Dec 2021 21:15:48 +0100

Fix cppcheck warnings
------------------------------------------------------------------------
08de1182 | Norbert Eicker | Mon, 20 Dec 2021 21:15:08 +0100

Choose the right type as suggested by cppcheck
------------------------------------------------------------------------
40ecba36 | Norbert Eicker | Mon, 20 Dec 2021 21:13:19 +0100

Fix format string bugs shown by cppcheck
------------------------------------------------------------------------
ae31824c | Norbert Eicker | Mon, 20 Dec 2021 21:10:17 +0100

Fix return value as unveiled by cppcheck
------------------------------------------------------------------------
371ac6c4 | Norbert Eicker | Mon, 20 Dec 2021 21:06:57 +0100

Fix warnings emitted by cppcheck and streamlining
------------------------------------------------------------------------
5fb73f75 | Norbert Eicker | Wed, 22 Dec 2021 18:40:49 +0100

Minor IWYU fix
------------------------------------------------------------------------
f717c0e8 | Norbert Eicker | Wed, 22 Dec 2021 18:37:16 +0100

IWYU cleanup for libpslog
------------------------------------------------------------------------
7ca9c7d8 | Norbert Eicker | Wed, 22 Dec 2021 18:32:05 +0100

IWYU cleanup for libpsi and libpse
------------------------------------------------------------------------
3b49250d | Norbert Eicker | Wed, 22 Dec 2021 17:45:34 +0100

IWYU cleanup for libpscommon
------------------------------------------------------------------------
9bbf2b4d | Norbert Eicker | Wed, 22 Dec 2021 17:15:05 +0100

IWYU cleanup for libplugincommon
------------------------------------------------------------------------
272e3834 | Norbert Eicker | Wed, 22 Dec 2021 16:37:54 +0100

IWYU cleanup for libpskvs
------------------------------------------------------------------------
5beba8f4 | Norbert Eicker | Wed, 22 Dec 2021 16:22:34 +0100

IWYU cleanup for libputil
------------------------------------------------------------------------
81496f83 | Norbert Eicker | Wed, 22 Dec 2021 16:21:09 +0100

IWYU hints for rdp.c
------------------------------------------------------------------------
6c3b8957 | Norbert Eicker | Wed, 22 Dec 2021 16:14:55 +0100

Add hints on iwyu_tool.py usage
------------------------------------------------------------------------
3776e4d7 | Norbert Eicker | Wed, 22 Dec 2021 14:58:48 +0100

Push to automake 1.16.5
------------------------------------------------------------------------


Version psmgmt-5.1.46-4:
========================
------------------------------------------------------------------------
9935d18c | Michael Rauh | Tue, 25 Jan 2022 17:33:54 +0100

Execute Slurm health-check when psslurm is loaded
 - slurm.conf option "HealthCheckInterval" does *not* influence
   the health-check execution on startup
 - introduce psslurm.conf option SLURM_HC_STARTUP
 - SLURM_HC_STARTUP may be used to prevent the execution on startup
------------------------------------------------------------------------


Version psmgmt-5.1.46-3:
========================
------------------------------------------------------------------------
66646b10 | Norbert Eicker | Thu, 20 Jan 2022 20:34:51 +0100

Bugfix: Ensure initSerial() and finalizeSerial() are balanced
------------------------------------------------------------------------
7b0b3cea | Norbert Eicker | Thu, 20 Jan 2022 20:32:43 +0100

Improve hints when detecting Slurm Protocol Version fails
------------------------------------------------------------------------
e45b6397 | Norbert Eicker | Thu, 20 Jan 2022 15:01:55 +0100

Bugfix: Extract Slurm Protocol Version by calling sinfo
------------------------------------------------------------------------


Version psmgmt-5.1.46-2:
========================
------------------------------------------------------------------------
fa24b839 | Norbert Eicker | Wed, 19 Jan 2022 21:16:02 +0100

Bugfix: do not exec client process with blocked SIGCHLD
------------------------------------------------------------------------


Version psmgmt-5.1.46-1:
========================
------------------------------------------------------------------------
428f0a66 | Norbert Eicker | Thu, 13 Jan 2022 12:49:51 +0100

Bugfix: Avoid NULL pointer de-reference (jwc:#12570)
------------------------------------------------------------------------


Version psmgmt-5.1.46:
======================
------------------------------------------------------------------------
85632e4f | Norbert Eicker | Fri, 17 Dec 2021 17:31:31 +0100

Streamline logging
------------------------------------------------------------------------
8655df4e | Norbert Eicker | Fri, 17 Dec 2021 16:59:42 +0100

JobComps only loosely related to Job but belong to Step
------------------------------------------------------------------------
a45d9e8f | Norbert Eicker | Fri, 17 Dec 2021 16:45:36 +0100

Minor streamlining
------------------------------------------------------------------------
4c7ae6c4 | Norbert Eicker | Fri, 17 Dec 2021 15:57:41 +0100

More consolidation of step functions' naming
------------------------------------------------------------------------
355caefa | Michael Rauh | Thu, 16 Dec 2021 21:17:54 +0100

Introduce destroyBCastByJobid() which kills a running
BCast forwarder. In contrast to deleteBCastByJobid() which
only frees used memory.
------------------------------------------------------------------------
ff3094d3 | Michael Rauh | Thu, 16 Dec 2021 21:00:15 +0100

Introduce Job_destroy() to kill all remaing processes of
a job. Job_delete() only frees allocated memory.

 - Additionally fix some prototypes missing void qualifier
------------------------------------------------------------------------
1d8afa1c | Michael Rauh | Thu, 16 Dec 2021 10:37:38 +0100

Consolidate naming of allocation functions
------------------------------------------------------------------------
45593cf4 | Michael Rauh | Thu, 16 Dec 2021 10:27:37 +0100

Consolidate naming of job functions
------------------------------------------------------------------------
bfa07923 | Michael Rauh | Wed, 15 Dec 2021 17:02:45 +0100

Introduce Step_destroy() to kill all remaing processes of
a step. Step_delete() only frees allocated memory
------------------------------------------------------------------------
892e94ab | Michael Rauh | Wed, 15 Dec 2021 16:25:53 +0100

Consolidate naming of step functions
------------------------------------------------------------------------
d8c3f7ba | Norbert Eicker | Tue, 14 Dec 2021 21:52:54 +0100

Ensure psidclient will not crash after PSIDclient_clearMem()
------------------------------------------------------------------------
841713a9 | Norbert Eicker | Tue, 14 Dec 2021 21:46:31 +0100

Improve docu comments
------------------------------------------------------------------------
69fb6ac9 | Michael Rauh | Tue, 14 Dec 2021 16:12:42 +0100

Replace getpwuid() with PSC_getpwuidBuf() in psidspawn
------------------------------------------------------------------------
21d71fcf | Michael Rauh | Tue, 14 Dec 2021 15:56:45 +0100

Expose PSC_getpwuidBuf() from pscommon
------------------------------------------------------------------------
23bf6571 | Norbert Eicker | Tue, 14 Dec 2021 17:59:55 +0100

Merge branch '5.1.45'
------------------------------------------------------------------------
a3a548d3 | Norbert Eicker | Tue, 14 Dec 2021 02:25:27 +0100

Fix several scanbuild warnings
------------------------------------------------------------------------
aea81e86 | Norbert Eicker | Tue, 14 Dec 2021 01:29:10 +0100

Bugfix: Ensure new size is actually taken into account
------------------------------------------------------------------------
e1c40c3d | Norbert Eicker | Mon, 13 Dec 2021 20:04:21 +0100

Adapt copyright
------------------------------------------------------------------------
1e287b49 | Norbert Eicker | Mon, 13 Dec 2021 20:01:38 +0100

Warning from PSC_[gu]idFromString() shall be enough
------------------------------------------------------------------------
8be351df | Norbert Eicker | Mon, 13 Dec 2021 20:01:03 +0100

Streamline syslog usage
------------------------------------------------------------------------
0ab32fe7 | Norbert Eicker | Mon, 13 Dec 2021 20:00:27 +0100

Ensure memory is free() using the correct pointer
------------------------------------------------------------------------
baef438a | Norbert Eicker | Mon, 13 Dec 2021 19:59:29 +0100

Bugfix: Ensure new size is actually taken into account
------------------------------------------------------------------------
149d77a3 | Norbert Eicker | Mon, 13 Dec 2021 19:59:01 +0100

Fix typos in docu
------------------------------------------------------------------------
3a827619 | Norbert Eicker | Tue, 7 Dec 2021 01:33:28 +0100

Fit getpwnamBuf() in pscommon's naming scheme
------------------------------------------------------------------------
0f933aba | Michael Rauh | Mon, 6 Dec 2021 14:51:47 +0100

Use pscommon functions to query the user database in plugins
------------------------------------------------------------------------
6d7656cd | Michael Rauh | Mon, 6 Dec 2021 14:35:40 +0100

Use const qualifier in pscommon function to query
the user database
------------------------------------------------------------------------
29727438 | Michael Rauh | Mon, 6 Dec 2021 13:59:25 +0100

Use local storage to query the user database in pscommon. This prevents
the psid from bloating.
------------------------------------------------------------------------
617a2e5e | Michael Rauh | Mon, 13 Dec 2021 16:42:26 +0100

Fix size calculation of commit a313bcd7
------------------------------------------------------------------------
a313bcd7 | Michael Rauh | Mon, 13 Dec 2021 14:41:56 +0100

Bugfix: fix mimicking addStringToMsg() in pluginforwarder (#50)
------------------------------------------------------------------------
d442a991 | Michael Rauh | Mon, 6 Dec 2021 12:42:17 +0100

Let gidFromString() actually return the group ID
------------------------------------------------------------------------
86f5630e | Norbert Eicker | Fri, 3 Dec 2021 16:44:07 +0100

Move userFromUID() and groupFromGID() to pscommon
------------------------------------------------------------------------
31725b64 | Norbert Eicker | Fri, 3 Dec 2021 16:28:36 +0100

Move uidFromString() and gidFromString() to pscommon
------------------------------------------------------------------------
5370c354 | Michael Rauh | Mon, 6 Dec 2021 13:34:10 +0100

Include SPANK error codes for Slurm protocol 21.08
------------------------------------------------------------------------
c908c1b7 | Norbert Eicker | Fri, 3 Dec 2021 22:00:22 +0100

Improve PSID_exec[script|func]):

 - Clear memory before executing script via system(), too
 - Jail forked process(es) into their process group
 - Kill the whole process group upon timeout or cancelation
------------------------------------------------------------------------
d6e52c18 | Norbert Eicker | Fri, 3 Dec 2021 21:59:34 +0100

Refine docu of PSID_execScript()
------------------------------------------------------------------------
688d10d2 | Norbert Eicker | Fri, 3 Dec 2021 20:25:23 +0100

IWYU fixes
------------------------------------------------------------------------
4f9bc95e | Norbert Eicker | Fri, 3 Dec 2021 19:30:31 +0100

Avoid detour when deleting a job
------------------------------------------------------------------------
27ba0e60 | Norbert Eicker | Fri, 3 Dec 2021 19:04:36 +0100

Avoid detour when deleting a step
------------------------------------------------------------------------
8c1f54d6 | Norbert Eicker | Fri, 3 Dec 2021 18:52:44 +0100

Minor improvement
------------------------------------------------------------------------
6248c805 | Norbert Eicker | Fri, 3 Dec 2021 18:52:23 +0100

Improve docu comment
------------------------------------------------------------------------
483f75e3 | Michael Rauh | Fri, 3 Dec 2021 14:53:10 +0100

Add timeout monitoring to Slurm health-check script
 - default health-check timeout is 60 seconds
 - timeout can be adjusted via SLURM_HC_TIMEOUT in psslurm.conf
 - Warning: slurmctld might not take timeouts larger than 60
   seconds into account
------------------------------------------------------------------------
b7d1bdaf | Michael Rauh | Fri, 3 Dec 2021 12:24:03 +0100

Enhancement: Remove the need for [prologue|epilogue].parallel
 - the same scripts wil be called on all nodes in the allocation
------------------------------------------------------------------------
b5d7befd | Michael Rauh | Thu, 2 Dec 2021 15:59:31 +0100

Cleanup memory in psslurm job/step forwarder
------------------------------------------------------------------------
b7e1d32f | Norbert Eicker | Thu, 2 Dec 2021 03:12:36 +0100

Adapt to PSIDscripts' new API
------------------------------------------------------------------------
50b199c7 | Michael Rauh | Wed, 1 Dec 2021 17:40:48 +0100

Add support for Slurm health-check (#31)

 - Limitation: currently there is no timeout of the health-check enforced
------------------------------------------------------------------------
a0ae8c69 | Norbert Eicker | Thu, 2 Dec 2021 03:33:00 +0100

Move Alloc_t definition to psslurmalloc.h and IWYU fixes
------------------------------------------------------------------------
7faa2a9e | Norbert Eicker | Thu, 2 Dec 2021 02:31:15 +0100

Major rewrite of PSIDscripts

 - Add timeout argument to PSID_execFunc() and PSID_execScript()
 - Handling of control file descriptor now inside PSIDscripts
 - Avoid small malloc() and use PSitems instead
------------------------------------------------------------------------
883c003d | Norbert Eicker | Thu, 2 Dec 2021 02:23:10 +0100

More IWYU fixes
------------------------------------------------------------------------
e7316a28 | Norbert Eicker | Thu, 2 Dec 2021 01:55:57 +0100

Change PSID_scriptPrep_t prototype
------------------------------------------------------------------------
604083a9 | Norbert Eicker | Thu, 2 Dec 2021 01:55:15 +0100

Fix docu typos
------------------------------------------------------------------------
408b565a | Norbert Eicker | Wed, 1 Dec 2021 02:37:01 +0100

More IWYU fixes
------------------------------------------------------------------------
7a600189 | Norbert Eicker | Tue, 30 Nov 2021 23:22:11 +0100

Fix memory leaks
------------------------------------------------------------------------
bcd438d4 | Norbert Eicker | Tue, 30 Nov 2021 21:27:33 +0100

Booleanize PSID_blockSig()
------------------------------------------------------------------------
53d934ee | Michael Rauh | Mon, 29 Nov 2021 14:40:37 +0100

Set SLURM_CONF to configuration cache in configless mode
(needed for external programs using the SLURM API)
------------------------------------------------------------------------
dfd18ac7 | Norbert Eicker | Fri, 26 Nov 2021 23:20:15 +0100

Fix more memleak corner-cases and simplify code
------------------------------------------------------------------------
0a01bfb1 | Norbert Eicker | Fri, 26 Nov 2021 23:02:06 +0100

IWYU fixes for psslurmproto
------------------------------------------------------------------------
3f0841bb | Norbert Eicker | Fri, 26 Nov 2021 22:21:03 +0100

Fix more memleak corner-cases
------------------------------------------------------------------------
f40156d7 | Michael Rauh | Fri, 26 Nov 2021 12:03:00 +0100

Fix memory leaks from unpacked messages
------------------------------------------------------------------------
dd0da009 | Norbert Eicker | Wed, 24 Nov 2021 23:06:57 +0100

Do not update *val if getFromBuf() failed
------------------------------------------------------------------------
ca992a3e | Norbert Eicker | Wed, 24 Nov 2021 23:06:14 +0100

Remove doubled prototype (and docu)
------------------------------------------------------------------------
b2f304d5 | Norbert Eicker | Wed, 24 Nov 2021 13:31:35 +0100

Fix more includes
------------------------------------------------------------------------
71bcf765 | Norbert Eicker | Wed, 24 Nov 2021 11:55:01 +0100

Move definition of Slurm_Auth_t into psslurmauth.h
------------------------------------------------------------------------
5ba77610 | Norbert Eicker | Wed, 24 Nov 2021 11:33:01 +0100

Refactor more functions away from psslurmauth
------------------------------------------------------------------------
14b1d0e0 | Norbert Eicker | Wed, 24 Nov 2021 10:57:35 +0100

Refactor BCast_t handlers into psslurmbcast.c
------------------------------------------------------------------------
5cd204c6 | Norbert Eicker | Wed, 24 Nov 2021 10:50:14 +0100

Fix potential memory leak
------------------------------------------------------------------------
57370123 | Norbert Eicker | Wed, 24 Nov 2021 10:24:08 +0100

Refactor JobCred_t handlers into psslurmjobcred.c
------------------------------------------------------------------------
af80586c | Michael Rauh | Tue, 23 Nov 2021 10:34:40 +0100

Unload psslurm when a node is requested to reboot if
slurmd option shutdown_on_reboot is set
------------------------------------------------------------------------
4fc19219 | Michael Rauh | Tue, 23 Nov 2021 10:21:20 +0100

Let psslurm parse SlurmdParameters of slurm.conf
------------------------------------------------------------------------
1542c0be | Michael Rauh | Fri, 19 Nov 2021 16:53:32 +0100

Add support for REQUEST_REBOOT_NODES (#36)
------------------------------------------------------------------------
f372d246 | Michael Rauh | Fri, 12 Nov 2021 15:22:55 +0100

Bugfix: don't try to request configuration if config-server
was not set
------------------------------------------------------------------------
d79b78fc | Michael Rauh | Wed, 10 Nov 2021 12:29:50 +0100

Unset SLURM_CONF for jobs and steps in configless mode
------------------------------------------------------------------------
a8d30862 | Michael Rauh | Mon, 8 Nov 2021 15:56:59 +0100

Make RPC RESPONSE_CONFIG compatible with Slurm 21.08
------------------------------------------------------------------------
1093bdc0 | Michael Rauh | Mon, 8 Nov 2021 12:35:33 +0100

Add psslurm unpack function getBool()
------------------------------------------------------------------------
2470a2ac | Michael Rauh | Mon, 8 Nov 2021 12:27:43 +0100

Move getBitString() to psslurmpack
------------------------------------------------------------------------
d4fd469c | Michael Rauh | Tue, 12 Oct 2021 14:37:28 +0200

Read srun response before closing the communication socket.
Otherwise srun will show error messages
starting with protocol 21.08
------------------------------------------------------------------------
9539046f | Michael Rauh | Thu, 7 Oct 2021 22:10:22 +0200

Adopt Slurm 21.08 I/O init header
------------------------------------------------------------------------
57065509 | Michael Rauh | Tue, 5 Oct 2021 12:42:19 +0200

First step to add support for Slurm protocol 21.08
------------------------------------------------------------------------
61b28a2f | Norbert Eicker | Fri, 5 Nov 2021 23:40:15 +0100

Streamlining
------------------------------------------------------------------------
68962f70 | Michael Rauh | Thu, 5 Aug 2021 15:09:42 +0200

Introduce confHasOpt()
------------------------------------------------------------------------
53a3f0e7 | Norbert Eicker | Fri, 26 Nov 2021 12:57:15 +0100

Fix IWYU false complain on openSUSE
------------------------------------------------------------------------
85da81eb | Norbert Eicker | Fri, 26 Nov 2021 04:03:50 +0100

Make IWYU even happier and fix build on CentOS7
------------------------------------------------------------------------
764eda59 | Norbert Eicker | Fri, 26 Nov 2021 04:02:49 +0100

Improve IWYU usage desciption and add mappings
------------------------------------------------------------------------
f79beb94 | Norbert Eicker | Thu, 25 Nov 2021 22:46:40 +0100

IWYU cleanup of *.c in bin/daemon
------------------------------------------------------------------------
942451b2 | Norbert Eicker | Thu, 25 Nov 2021 21:13:47 +0100

IWYU cleanup of *.h in bin/daemon
------------------------------------------------------------------------
d5f3096e | Norbert Eicker | Thu, 25 Nov 2021 20:37:03 +0100

First round of IWYU cleanup in include
------------------------------------------------------------------------
000329c0 | Norbert Eicker | Thu, 25 Nov 2021 19:51:40 +0100

Add some notes on how to use IWYU
------------------------------------------------------------------------
59d3c70e | Stephan Krempel | Mon, 22 Nov 2021 13:10:57 +0100

psslumgetbind: fix up
------------------------------------------------------------------------
e43398f3 | Stephan Krempel | Thu, 18 Nov 2021 13:38:02 +0100

psslurmgetbind: Support CPU mapping
------------------------------------------------------------------------
609dc1df | Stephan Krempel | Wed, 17 Nov 2021 16:13:43 +0100

psslurmgetbind: Streamlining
------------------------------------------------------------------------
da3e386c | Norbert Eicker | Wed, 17 Nov 2021 17:12:16 +0100

Make code more readable
------------------------------------------------------------------------
269332d3 | Norbert Eicker | Wed, 17 Nov 2021 17:09:12 +0100

Fix typo
------------------------------------------------------------------------
54862fbd | Michael Rauh | Wed, 17 Nov 2021 16:44:39 +0100

Disable slurmd prolog for now
------------------------------------------------------------------------
25ace33d | Michael Rauh | Wed, 17 Nov 2021 16:24:34 +0100

Valid unpacking data is was successful
------------------------------------------------------------------------
1c2c0ac1 | Michael Rauh | Wed, 17 Nov 2021 16:10:50 +0100

Let pack layer handle RESPONSE_JOB_INFO
------------------------------------------------------------------------
cfcfed8b | Norbert Eicker | Fri, 5 Nov 2021 23:40:15 +0100

Streamlining
------------------------------------------------------------------------
39a64d1d | Michael Rauh | Fri, 5 Nov 2021 14:43:06 +0100

Rework the Slurm message unpack code

 - introduce unpackSlurmMsg() to unpack the majority of Slurm
   messages
 - provides a cleaner, more enclosed interface
 - additionally the unpacked data is stored in the Slurm message structure
------------------------------------------------------------------------
e763412d | Michael Rauh | Tue, 2 Nov 2021 16:05:53 +0100

Bugfix: fix packing of flags for job info request
------------------------------------------------------------------------
14b084eb | Michael Rauh | Tue, 2 Nov 2021 15:40:38 +0100

Set SHOW_LOCAL flag for Req_Job_Info_Single
------------------------------------------------------------------------
e6bc5118 | Michael Rauh | Tue, 2 Nov 2021 14:49:39 +0100

Use strJobID() instead of a static array
------------------------------------------------------------------------
80a664fe | Michael Rauh | Tue, 2 Nov 2021 11:53:55 +0100

Forward info argument of __sendSlurmMsg()
------------------------------------------------------------------------
8a258c81 | Michael Rauh | Fri, 15 Oct 2021 16:30:54 +0200

Improve documentation
------------------------------------------------------------------------
ec072f61 | Michael Rauh | Fri, 27 Aug 2021 17:56:58 +0200

Synchronize slurmd prolog and batch job startup
------------------------------------------------------------------------
c615bdfc | Michael Rauh | Fri, 27 Aug 2021 14:28:56 +0200

Remove defunct psslurm messages
------------------------------------------------------------------------
9abeae1d | Michael Rauh | Thu, 26 Aug 2021 17:04:54 +0200

Add sanity checks to execBatchJob()
------------------------------------------------------------------------
80f01781 | Michael Rauh | Mon, 23 Aug 2021 17:01:49 +0200

Make REQUEST_STEP_COMPLETE compatible with
with sendSlurmctldReq()
------------------------------------------------------------------------
edbf3323 | Michael Rauh | Mon, 23 Aug 2021 16:32:09 +0200

Make REQUEST_COMPLETE_BATCH_SCRIPT compatible
with sendSlurmctldReq()
------------------------------------------------------------------------
85e0e90f | Michael Rauh | Wed, 18 Aug 2021 15:20:15 +0200

Remove obsolete arguments from pack functions
------------------------------------------------------------------------
44b84303 | Michael Rauh | Wed, 18 Aug 2021 14:24:24 +0200

Improve naming of sendSlurmReq() to sendSlurmctldReq() to better
reflect the functionality
------------------------------------------------------------------------
573fc1f8 | Michael Rauh | Wed, 18 Aug 2021 14:10:57 +0200

Use sendSlurmReq() for RPC REQUEST_UPDATE_NODE
------------------------------------------------------------------------
b4c9624e | Michael Rauh | Wed, 18 Aug 2021 14:03:19 +0200

Update documentation
------------------------------------------------------------------------
dcb1e26b | Michael Rauh | Wed, 18 Aug 2021 13:56:21 +0200

Use sendSlurmReq() for RPC MESSAGE_EPILOG_COMPLETE
------------------------------------------------------------------------
ff2164bf | Michael Rauh | Wed, 18 Aug 2021 13:09:14 +0200

Let psslurm requeue and optional cancel a job if the
slurmd prolog failed

 * Add RPCs REQUEST_JOB_REQUEUE and REQUEST_KILL_JOB
------------------------------------------------------------------------
0cf23249 | Michael Rauh | Mon, 16 Aug 2021 18:10:55 +0200

Let sendSlurmReq() pack the data necessary for the request by
calling packSlurmReq()
------------------------------------------------------------------------
ccd9024f | Michael Rauh | Fri, 13 Aug 2021 17:10:30 +0200

Rework slurmctld request/response message handling

Additional request information can be passed to the sending
function. The information is passed to the function handling
the response. Therefore general RC (return code) answers can now be
correlated to a specific request.
------------------------------------------------------------------------
b8fccc40 | Michael Rauh | Thu, 5 Aug 2021 17:51:30 +0200

Add Slurm job states for prologue handling
------------------------------------------------------------------------
e0e21c81 | Michael Rauh | Thu, 5 Aug 2021 15:09:42 +0200

Introduce confHasOpt()
------------------------------------------------------------------------
510b7837 | Michael Rauh | Mon, 12 Jul 2021 14:14:15 +0200

Log spank environment when peloge debug mask is set
------------------------------------------------------------------------
156cc7a3 | Michael Rauh | Fri, 9 Jul 2021 15:20:59 +0200

Actually start a local prologue if it has not been run by the
slurmctld prologue before
------------------------------------------------------------------------
ddd4a5d5 | Michael Rauh | Fri, 2 Jul 2021 17:13:38 +0200

Allow to use Prolog additional to PrologSlurmctld in slurm.conf
------------------------------------------------------------------------
53484aa8 | Michael Rauh | Tue, 29 Jun 2021 17:28:56 +0200

Add code to process RPC REQUEST_LAUNCH_PROLOG
------------------------------------------------------------------------
4bf247b2 | Michael Rauh | Tue, 29 Jun 2021 17:26:04 +0200

Add un-/pack code for RPC REQUEST_LAUNCH_PROLOG
and REQUEST_COMPLETE_PROLOG
------------------------------------------------------------------------


Version psmgmt-5.1.45-4:
========================
------------------------------------------------------------------------
bf9c5d56 | Michael Rauh | Tue, 14 Dec 2021 16:05:17 +0100

Bugfix: set users supplementary groups in psidforwarder (j3:#1382)
------------------------------------------------------------------------


Version psmgmt-5.1.45-3:
========================
------------------------------------------------------------------------
e0deab31 | Norbert Eicker | Thu, 18 Nov 2021 12:47:40 +0100

Ensure step is not NULL in stopStepFollower()
------------------------------------------------------------------------
d742e089 | Norbert Eicker | Thu, 18 Nov 2021 12:46:16 +0100

Streamlining and improved comments
------------------------------------------------------------------------
99c9bb1a | Michael Rauh | Wed, 17 Nov 2021 16:26:13 +0100

Bugfix: ensure to use the correct nodelist for shutting down step
forwarders
------------------------------------------------------------------------


Version psmgmt-5.1.45-2:
========================
------------------------------------------------------------------------
12755bd7 | Norbert Eicker | Wed, 17 Nov 2021 10:37:41 +0100

Prevent use of uninitialized buffer data
------------------------------------------------------------------------
f299b11d | Norbert Eicker | Wed, 17 Nov 2021 09:38:39 +0100

Bugfix: ensure correct termination of error message
------------------------------------------------------------------------
96e08f50 | Norbert Eicker | Wed, 17 Nov 2021 09:38:22 +0100

Fix includes
------------------------------------------------------------------------
25069d99 | Michael Rauh | Tue, 16 Nov 2021 18:01:12 +0100

Bugfix: ensure heterogeneous steps will shutdown correctly in
case of a missing executable error
------------------------------------------------------------------------
c5e98578 | Michael Rauh | Tue, 16 Nov 2021 16:51:26 +0100

Bugfix: don't expect a finalize message for tasks that could
not be spawned (#45)
------------------------------------------------------------------------
4e1e7f33 | Michael Rauh | Tue, 16 Nov 2021 15:55:56 +0100

Bugfix: fix possbile segmentation fault if psslurm
connections get re-used
------------------------------------------------------------------------
2edd5c51 | Norbert Eicker | Sun, 14 Nov 2021 23:04:16 +0100

Fix warnings emitted by clang13
------------------------------------------------------------------------
7707c8f7 | Norbert Eicker | Sun, 7 Nov 2021 21:43:11 +0100

Adapt visible copyright messages to ParTec AG
------------------------------------------------------------------------


Version psmgmt-5.1.45-1:
========================
------------------------------------------------------------------------
7f3d67f2 | Norbert Eicker | Tue, 2 Nov 2021 16:41:56 +0100

Bugfix: ensure psidforwarder isn't caught in releaseLogger
------------------------------------------------------------------------
234cb48c | Norbert Eicker | Wed, 27 Oct 2021 01:19:56 +0200

Make slurm.conf hash and update time accessible via psiadmin
------------------------------------------------------------------------
b614c05d | Norbert Eicker | Tue, 26 Oct 2021 21:12:30 +0200

Bugfix: Ensure slurm.conf's hash is defined and correct
------------------------------------------------------------------------
3c8f44e9 | Norbert Eicker | Tue, 26 Oct 2021 16:40:08 +0200

Hide slurm.conf's hash inside psslurmconfig.c
------------------------------------------------------------------------
3a860389 | Norbert Eicker | Tue, 28 Sep 2021 22:58:44 +0200

Fix memory leak
------------------------------------------------------------------------
74ed3807 | Stephan Krempel | Thu, 17 Jun 2021 11:19:29 +0200

Set MPI_* envvars only when PMI or PMIx is to be used
------------------------------------------------------------------------


Version psmgmt-5.1.45:
======================
------------------------------------------------------------------------
8da7b8ede | Norbert Eicker | Thu, 14 Oct 2021 18:59:39 +0200

Bugfix: Check for valid protocol version before tweaking fragment (jwt:#11068)
------------------------------------------------------------------------
edfc5dd3a | Michael Rauh | Thu, 14 Oct 2021 17:36:10 +0200

Prevent inherited __PSI_NO_MEMBIND environment variables from
interfering with the memory pinning (#20)
------------------------------------------------------------------------
09b69cb1e | Michael Rauh | Thu, 14 Oct 2021 15:15:47 +0200

Update psroute.py to python3

 - Set minimal psconfig dependency to version 5.2.0-0
------------------------------------------------------------------------
dc5eac1af | Norbert Eicker | Wed, 13 Oct 2021 22:50:50 +0200

More streamlining
------------------------------------------------------------------------
546b5b52e | Norbert Eicker | Wed, 13 Oct 2021 20:44:12 +0200

Minor streamlining
------------------------------------------------------------------------
85006ae49 | Stephan Krempel | Wed, 13 Oct 2021 17:17:21 +0200

psslurm: Cleanup nodeinfo interfaces
------------------------------------------------------------------------
574e7ee36 | Stephan Krempel | Wed, 13 Oct 2021 15:56:14 +0200

psslurm: Catch down nodes early in nodeinfo handling
------------------------------------------------------------------------
578fa5371 | Norbert Eicker | Tue, 5 Oct 2021 21:22:15 +0200

Fix scanbuild warnings
------------------------------------------------------------------------
137a060ee | Norbert Eicker | Tue, 5 Oct 2021 21:07:09 +0200

Fix scanbuild warnings plus streamlining
------------------------------------------------------------------------
256c301af | Michael Rauh | Tue, 12 Oct 2021 10:47:09 +0200

Adopt psslurm to changes in PSIDHOOK_FRWRD_CLNT_RLS done
in 3237a10f

 - Bump plugin API version to 134
------------------------------------------------------------------------
d34572b4c | Norbert Eicker | Mon, 11 Oct 2021 00:42:04 +0200

Add list_item macro to gdbinit definitions
------------------------------------------------------------------------
be16c155b | Norbert Eicker | Mon, 11 Oct 2021 00:20:49 +0200

Bugfix: Ensure psserial's byteorder is never messed up
------------------------------------------------------------------------
f7fed97f3 | Norbert Eicker | Mon, 11 Oct 2021 00:16:45 +0200

Bugfix: Ensure PATH resolution ignores non-executable files (jwt:#11381)
------------------------------------------------------------------------
1bebc5051 | Norbert Eicker | Sun, 10 Oct 2021 22:45:55 +0200

Improve debug log while spawn
------------------------------------------------------------------------
34c304f32 | Stephan Krempel | Fri, 1 Oct 2021 11:12:24 +0200

pspmix: Fix typo in debugging output
------------------------------------------------------------------------
e92057f1a | Norbert Eicker | Thu, 30 Sep 2021 21:42:21 +0200

Send PSPMIX_CLIENT_FINALIZE_RES only after PSP_CD_RELEASERES
------------------------------------------------------------------------
40a73d6c2 | Norbert Eicker | Thu, 30 Sep 2021 21:40:43 +0200

Require API 134 to use PSIDHOOK_FRWRD_CLNT_RLS
------------------------------------------------------------------------
65df601ca | Norbert Eicker | Thu, 30 Sep 2021 20:23:37 +0200

Rework PSIDHOOK_FRWRD_EXIT's interface
------------------------------------------------------------------------
a91a199d2 | Norbert Eicker | Thu, 30 Sep 2021 19:07:19 +0200

Streamlining
------------------------------------------------------------------------
a465374f3 | Norbert Eicker | Thu, 30 Sep 2021 18:40:03 +0200

Fix memory leak
------------------------------------------------------------------------
9d8ea0261 | Norbert Eicker | Thu, 30 Sep 2021 18:27:39 +0200

Streamlining
------------------------------------------------------------------------
3b7201583 | Norbert Eicker | Thu, 30 Sep 2021 15:17:36 +0200

Streamlining, fix return warnings, etc.
------------------------------------------------------------------------
01c59ac64 | Norbert Eicker | Thu, 30 Sep 2021 15:14:06 +0200

Clarify the meaning of PSIDHOOK_FRWRD_EXIT's parameter
------------------------------------------------------------------------
ff3f34b93 | Norbert Eicker | Thu, 30 Sep 2021 13:09:37 +0200

Make interface of getEnviron() more distinct
------------------------------------------------------------------------
688365142 | Norbert Eicker | Thu, 30 Sep 2021 13:06:26 +0200

Use sendDaemonMsg in pspmixforwarder where possible
------------------------------------------------------------------------
7c295c54a | Norbert Eicker | Thu, 30 Sep 2021 12:41:03 +0200

Streamlining
------------------------------------------------------------------------
5ece86848 | Norbert Eicker | Wed, 29 Sep 2021 22:02:21 +0200

Clean obsolete comments and whitespace
------------------------------------------------------------------------
6f98dae8d | Norbert Eicker | Wed, 29 Sep 2021 12:49:33 +0200

Improve documentation comments
------------------------------------------------------------------------
59e45507e | Norbert Eicker | Wed, 29 Sep 2021 09:49:44 +0200

Fix copyrights
------------------------------------------------------------------------
9ec48baea | Norbert Eicker | Tue, 28 Sep 2021 23:23:11 +0200

Fix typos in docu comments
------------------------------------------------------------------------
7e0981270 | Stephan Krempel | Tue, 28 Sep 2021 15:01:10 +0200

pspmix: Support new return type of PSIDHOOK_FRWRD_CLNT_RES

Use PSIDhook_ClntRls_t as PMIx client status and return type
of hookForwarderClientRelease() to support more than one
plugin registeredi to the hook at the same time.
------------------------------------------------------------------------
80d76a05b | Stephan Krempel | Tue, 28 Sep 2021 14:47:54 +0200

pspmix: Add missing pointer check in forwarder
------------------------------------------------------------------------
4b7cb71ff | Stephan Krempel | Fri, 24 Sep 2021 10:11:35 +0200

pspmix: Fix typo in debugging output
------------------------------------------------------------------------
fa6fdd441 | Stephan Krempel | Thu, 23 Sep 2021 15:19:59 +0200

pspmix: Allow empty callback function from server library
------------------------------------------------------------------------
b9232d06d | Stephan Krempel | Thu, 23 Sep 2021 15:17:17 +0200

pspmix: Fix client notify responses and unify handler
------------------------------------------------------------------------
ba77a9e2e | Stephan Krempel | Thu, 23 Sep 2021 12:05:47 +0200

pspmix: Fix initialization of serialization layer in forwarder
------------------------------------------------------------------------
b36d5c912 | Stephan Krempel | Thu, 23 Sep 2021 11:10:09 +0200

pspmix: Fix and enhance debugging output
------------------------------------------------------------------------
16626e2b4 | Stephan Krempel | Thu, 23 Sep 2021 09:53:14 +0200

pspmix: Fix checking of sendFragMsg() return value
------------------------------------------------------------------------
70f31b59b | Stephan Krempel | Thu, 23 Sep 2021 09:32:31 +0200

pspmix: Remove double lock release
------------------------------------------------------------------------
d3538ad22 | Stephan Krempel | Thu, 23 Sep 2021 09:11:37 +0200

pspmix: Use PSCio_recvMsgT() instead of self written function
------------------------------------------------------------------------
85d589584 | Stephan Krempel | Thu, 23 Sep 2021 09:10:44 +0200

pspmix: Use PSIDHOOK_FRWRD_INIT to register message type in forwarder
------------------------------------------------------------------------
9f616640b | Stephan Krempel | Thu, 26 Aug 2021 01:46:44 +0200

pspmix: Manage PMIx initialization state in forwarder

This enables the forwarder to release to client correctly
thus let the psid know if a client disappeared while still
PMIx initialized.

Not working yet, would close #24
------------------------------------------------------------------------
41b13c2fe | Stephan Krempel | Thu, 26 Aug 2021 01:21:10 +0200

pspmix: Use PSIDHOOK_FRWRD_EXIT to finalize fragmentation layer
------------------------------------------------------------------------
829c2a019 | Stephan Krempel | Thu, 26 Aug 2021 01:12:45 +0200

pspmix: Make childTask a global forwarder attribute
------------------------------------------------------------------------
d75258ada | Stephan Krempel | Thu, 26 Aug 2021 01:08:22 +0200

pspmix: Include psidcomm.h and rename local static functions
------------------------------------------------------------------------
5306eeb0d | Stephan Krempel | Wed, 25 Aug 2021 12:04:20 +0200

pspmix: Fix typo in log message
------------------------------------------------------------------------
13449f531 | Stephan Krempel | Wed, 25 Aug 2021 12:03:30 +0200

pspmix: Fix documentation
------------------------------------------------------------------------
a0c826a2e | Stephan Krempel | Wed, 25 Aug 2021 11:39:21 +0200

pspmix: Remove module prefix from static function
------------------------------------------------------------------------
ba243faf5 | Stephan Krempel | Fri, 7 May 2021 13:48:29 +0200

pspmix: Remember client forwarder tid in client struct
------------------------------------------------------------------------
37c4a449d | Stephan Krempel | Fri, 7 May 2021 13:46:20 +0200

pspmix: Enable client list in namespace
------------------------------------------------------------------------
adc38f9aa | Stephan Krempel | Wed, 25 Aug 2021 13:13:31 +0200

pspmix: Fix call of function generateNamespaceName()
------------------------------------------------------------------------
ea974d2bf | Norbert Eicker | Wed, 29 Sep 2021 15:43:36 +0200

Bugfix: Ensure forwarder ignores ghost messages
------------------------------------------------------------------------
87c744b5a | Norbert Eicker | Wed, 29 Sep 2021 15:34:16 +0200

Bugfix: Ensure SIGTERM is not unblocked in main daemon
------------------------------------------------------------------------
3237a10f1 | Norbert Eicker | Tue, 28 Sep 2021 13:55:42 +0200

Rework PSIDHOOK_FRWRD_CLNT_RLS to support multiple plugins

 - Bump plugin API version to 134
------------------------------------------------------------------------
61647a149 | Norbert Eicker | Tue, 28 Sep 2021 23:17:21 +0200

Fix buildsystem when slurm-devel is not installed
------------------------------------------------------------------------
88ff62b02 | Norbert Eicker | Wed, 11 Aug 2021 01:09:04 +0200

Do not include unused headers
------------------------------------------------------------------------
1f7ef7f59 | Norbert Eicker | Wed, 4 Aug 2021 00:39:15 +0200

Obsolete PSIDHOOK_FRWRD_KVS, PSIDHOOK_FRWRD_SPAWNRES, PSIDHOOK_FRWRD_CC_ERROR
------------------------------------------------------------------------
c6eb2f95d | Norbert Eicker | Wed, 4 Aug 2021 00:25:51 +0200

Move handling of KVS provider's CC_ERROR msg in forwarder from hook to handler
------------------------------------------------------------------------
1d18f2064 | Norbert Eicker | Wed, 4 Aug 2021 00:14:33 +0200

Move handling of SPAWNRES msg in forwarder from hook to handler
------------------------------------------------------------------------
89fd3c517 | Norbert Eicker | Tue, 3 Aug 2021 17:55:51 +0200

Move handling of KVS msg in forwarder from hook to handler
------------------------------------------------------------------------
b8cb905cd | Norbert Eicker | Tue, 3 Aug 2021 03:05:19 +0200

Refactor psidforwarder to utilize PSID_handleMsg()

 - Bump plugin API version to 133
------------------------------------------------------------------------
e2e4565d8 | Norbert Eicker | Mon, 2 Aug 2021 23:42:34 +0200

Improve function naming
------------------------------------------------------------------------
72b125242 | Norbert Eicker | Thu, 29 Jul 2021 16:44:56 +0200

Rework psid's message handling

 - Multiple handler might be registered for a given type
 - Handlers called in reverse order of registration (latest registered first)
 - Steer further handling by their return value (true => fully handled)
 - PSID_clearMsg() now unregisters a specific handler
------------------------------------------------------------------------
64d0696bb | Norbert Eicker | Tue, 27 Jul 2021 22:10:34 +0200

Bugfix: psgw must unregister all message handlers on unload
------------------------------------------------------------------------
54e4ec3a2 | Norbert Eicker | Tue, 27 Jul 2021 21:17:30 +0200

Bugfix: psexec shall not clear psslurm's dropper
------------------------------------------------------------------------
a7978003e | Norbert Eicker | Thu, 22 Jul 2021 01:19:50 +0200

Booleanize PSID_handleMsg()
------------------------------------------------------------------------
b4be3b0ea | Norbert Eicker | Thu, 15 Jul 2021 18:35:03 +0200

Introduce PSCio_recvMsgT(), i.e. receive message with timeout
------------------------------------------------------------------------
b1c09dd52 | Norbert Eicker | Thu, 15 Jul 2021 18:30:35 +0200

Introduce PSIDcomm_registerSendMsgFunc()
------------------------------------------------------------------------
32a1c8823 | Norbert Eicker | Thu, 15 Jul 2021 02:10:57 +0200

Reorganize psid's module initialization
------------------------------------------------------------------------
0e9699036 | Norbert Eicker | Thu, 15 Jul 2021 01:53:45 +0200

Use PSC_setSigHandler() more often
------------------------------------------------------------------------
c1cba69f1 | Norbert Eicker | Tue, 13 Jul 2021 00:40:08 +0200

Introduce recvDaemonMsg() to replace recvMsg()
------------------------------------------------------------------------
60324893f | Norbert Eicker | Fri, 20 Aug 2021 00:44:45 +0200

Fix various bugs unveiled by scan-build
------------------------------------------------------------------------
3807cbdeb | Stephan Krempel | Mon, 20 Sep 2021 11:35:17 +0200

psslurm: Hide output of node_iter_next behind PSSLURM_LOG_PART
------------------------------------------------------------------------


Version psmgmt-5.1.44-2:
========================
------------------------------------------------------------------------
801d85c3 | Michael Rauh | Thu, 19 Aug 2021 10:28:57 +0200

Bugfix: let visspank start without additional parameters
------------------------------------------------------------------------
87ce3547 | Norbert Eicker | Fri, 13 Aug 2021 11:20:59 +0200

Fix typos
------------------------------------------------------------------------


Version psmgmt-5.1.44-1:
========================
------------------------------------------------------------------------
b063fc79 | Norbert Eicker | Thu, 12 Aug 2021 16:15:22 +0200

Fix various warning emitted by rpmbuild
------------------------------------------------------------------------
03924673 | Norbert Eicker | Tue, 10 Aug 2021 13:16:54 +0200

Use mallinfo2() if available (#19)
------------------------------------------------------------------------
54c5b313 | Norbert Eicker | Tue, 10 Aug 2021 13:15:11 +0200

Add configure check for availability of mallinfo2()
------------------------------------------------------------------------
41df4f0e | Norbert Eicker | Thu, 12 Aug 2021 00:27:54 +0200

IO messages in IO-forwarder processes might be handled blocking
------------------------------------------------------------------------
eaf92341 | Norbert Eicker | Thu, 12 Aug 2021 00:24:31 +0200

Bugfix: Ensure Selector for stdin forwarding actually works
------------------------------------------------------------------------
8ade6381 | Norbert Eicker | Wed, 11 Aug 2021 23:23:35 +0200

Streamlining
------------------------------------------------------------------------
571701bb | Norbert Eicker | Wed, 11 Aug 2021 23:15:19 +0200

Bugfix: Ensure selector is properly initialized for list_add_tail
------------------------------------------------------------------------
8a4a144a | Norbert Eicker | Wed, 11 Aug 2021 01:12:16 +0200

Bugfix: Forwarder needs to re-init PSIDMsgbuf
------------------------------------------------------------------------
946a7ce0 | Norbert Eicker | Wed, 11 Aug 2021 00:50:10 +0200

Bugfix: Ensure there is a selector to vacate
------------------------------------------------------------------------


Version psmgmt-5.1.44:
======================
------------------------------------------------------------------------
7d11c847 | Stephan Krempel | Wed, 21 Jul 2021 10:22:59 +0200

psslurm: Fix adding threads to partition
------------------------------------------------------------------------
f9db02f3 | Norbert Eicker | Wed, 21 Jul 2021 00:03:32 +0200

Nicer docu comments
------------------------------------------------------------------------
dbef252b | Norbert Eicker | Tue, 20 Jul 2021 23:44:56 +0200

Improve logging
------------------------------------------------------------------------
113e4f66 | Norbert Eicker | Tue, 20 Jul 2021 23:39:32 +0200

Fix memory leak.
------------------------------------------------------------------------
cdce1e52 | Norbert Eicker | Tue, 20 Jul 2021 19:03:01 +0200

Bugfix: Inserting JobCompInfo once shall be sufficient
------------------------------------------------------------------------
3ae77456 | Stephan Krempel | Thu, 15 Jul 2021 13:29:54 +0200

psslurm: Avoid using urealloc() in main daemon
------------------------------------------------------------------------
8b1d8afb | Stephan Krempel | Tue, 13 Jul 2021 02:52:40 +0200

psslurm: Directly generate hwthreads in partition creation

Removes the indirection over first generating a slots array
and then a hw threads array when it comes to partition generation.

This changes the threads array in two ways:
- It is not longer necessarily sorted by nodes
- It can contain the same node/thread combination twice

The first point should not be an issue since psslurm generates the
reservations, two and can assure it is matching the partition.
The second point is intended since it enables a user to explicitly
pin two processes to overlapping hwthreads by using slurm options
(--cpu-bind={map|mask}_cpu) without enabling overbooking: The slots
are generated by the pinning code from the cpu mask of map and so
there will be two slots with overlapping node/hwthreads combination
resulting in multiple times the same hw threads entry in the
partition. In the reservation those can all be used once for the
different overlapping processes.
------------------------------------------------------------------------
fbd971e5 | Stephan Krempel | Thu, 15 Jul 2021 08:00:29 +0200

psslurm: Enhance error handling
------------------------------------------------------------------------
edca76be | Norbert Eicker | Tue, 3 Aug 2021 03:28:15 +0200

Streamlining
------------------------------------------------------------------------
5bcd040d | Michael Rauh | Fri, 30 Jul 2021 16:41:26 +0200

Bugfix: correct pack size for interactive steps
------------------------------------------------------------------------
1733479c | Michael Rauh | Fri, 30 Jul 2021 15:19:22 +0200

Bugfix: step follower need to send step complete messages for pack
jobs
------------------------------------------------------------------------
3186bca4 | Michael Rauh | Fri, 30 Jul 2021 15:14:12 +0200

Bugfix: prevent possible segfault when a pack job is aborted
at startup
------------------------------------------------------------------------
ee495937 | Michael Rauh | Mon, 2 Aug 2021 20:19:11 +0200

Bugfix: Ensure nodes with different Slurm protocols
can use tree forwarding
------------------------------------------------------------------------
927aa214 | Michael Rauh | Tue, 27 Jul 2021 16:35:49 +0200

Free memory used by pspam auth_groups
------------------------------------------------------------------------
539f32f4 | Michael Rauh | Fri, 23 Jul 2021 16:27:14 +0200

Add description of auth_groups to pspam README
------------------------------------------------------------------------
cfc1e5e2 | Michael Rauh | Fri, 23 Jul 2021 16:19:28 +0200

pspam: add option auth_groups to pam module

 * works similar to auth_users, but allows to authenticate
 entire groups to facilitate module configuration
------------------------------------------------------------------------
268a0189 | Michael Rauh | Mon, 26 Jul 2021 14:56:49 +0200

Bugfix: prevent segfault when psslurm gets unloaded and
Slurm protocol is smaller than 20.11
------------------------------------------------------------------------
c79ff96c | Stephan Krempel | Tue, 20 Jul 2021 15:21:55 +0200

psslurm: Remove obsolete iterator from step struct
------------------------------------------------------------------------
d3a7b646 | Stephan Krempel | Fri, 16 Jul 2021 14:20:55 +0200

psslurm: Rename some variables to better reflect their meaning

This starts using the newer Slurm terminology "job component" to
get rid of the confusion with "pack job" and "job pack".

"job component" is what mpiexec and pmi call "application" and is a
part of a "heterogeneous job" (formally called "job pack")
------------------------------------------------------------------------


Version psmgmt-5.1.43:
======================
------------------------------------------------------------------------
37d2fe49 | Norbert Eicker | Wed, 14 Jul 2021 21:57:55 +0200

Remove obsolete function prototype (and docu)
------------------------------------------------------------------------
fcb9e55a | Stephan Krempel | Wed, 14 Jul 2021 18:26:54 +0200

psslurm: Avoid global interation over job infos
------------------------------------------------------------------------
175fb802 | Stephan Krempel | Wed, 14 Jul 2021 15:09:09 +0200

psslurm: Manage job infos in list but array
------------------------------------------------------------------------
6d97e0c8 | Michael Rauh | Wed, 14 Jul 2021 16:23:56 +0200

Improve function names
------------------------------------------------------------------------
97eaba55 | Michael Rauh | Wed, 14 Jul 2021 15:46:42 +0200

Set GRes job environment for interactive steps
------------------------------------------------------------------------
518ff308 | Stephan Krempel | Mon, 5 Jul 2021 11:46:32 +0200

psslurm: Correct logging for GPU bind with interactive jobs
------------------------------------------------------------------------
7c0ca9d9 | Michael Rauh | Mon, 5 Jul 2021 11:30:32 +0200

With disabled PMI layer there is no need to filter
PMI and PMIX environment variables for interactive steps
------------------------------------------------------------------------
436f6f56 | Stephan Krempel | Fri, 2 Jul 2021 12:55:05 +0200

psslurm: Ignore PMI type for interactive steps and use "none"
------------------------------------------------------------------------
9337a107 | Stephan Krempel | Fri, 2 Jul 2021 10:49:39 +0200

Fix typo in function name
------------------------------------------------------------------------
de8eacc6 | Stephan Krempel | Fri, 2 Jul 2021 10:44:08 +0200

psslurm: Assign all GPUs allocated to interactive steps

This might be redundant, since Slurm seems never to assign GRES to
interactive steps, but it does no harm to double check.
------------------------------------------------------------------------
036fc524 | Stephan Krempel | Fri, 2 Jul 2021 10:43:36 +0200

psslurm: Set CPU pinning for interactive steps to "none"
------------------------------------------------------------------------
e75f87cd | Michael Rauh | Thu, 1 Jul 2021 14:32:06 +0200

Add PMIX variables to filter for interactive steps
------------------------------------------------------------------------
001012d1 | Norbert Eicker | Thu, 1 Jul 2021 00:05:19 +0200

Streamlining
------------------------------------------------------------------------
b499ddef | Michael Rauh | Wed, 30 Jun 2021 16:49:35 +0200

Cleanup environment for interactive steps (#16)

 * also remove obsolete SLURM_CHECKPOINT_IMAGE_DIR
------------------------------------------------------------------------
636497a7 | Norbert Eicker | Fri, 9 Jul 2021 00:21:41 +0200

Bugfix: Do not prevent signal delivery in hetjobs
------------------------------------------------------------------------
3ce97143 | Norbert Eicker | Thu, 8 Jul 2021 22:26:50 +0200

Improve logging
------------------------------------------------------------------------
4f645332 | Norbert Eicker | Thu, 8 Jul 2021 22:03:15 +0200

Bugfix: Don't send signal twice on scancel
------------------------------------------------------------------------
832fb0b7 | Michael Rauh | Wed, 14 Jul 2021 17:52:28 +0200

Bugfix: make psgw option --gw_debug work with --gw_psgwd_per_node
------------------------------------------------------------------------
7b384712 | Norbert Eicker | Tue, 13 Jul 2021 14:14:27 +0200

Booleanize and fix log message
------------------------------------------------------------------------
805975eb | Michael Rauh | Tue, 13 Jul 2021 10:19:06 +0200

Minor streamlining
------------------------------------------------------------------------
498e5edd | Michael Rauh | Tue, 13 Jul 2021 10:04:55 +0200

Bugfix: let psslurm report the real memory of the
local node in Megabytes
------------------------------------------------------------------------
348ff620 | Stephan Krempel | Tue, 13 Jul 2021 01:48:26 +0200

psslurm: Fix partition creation for job packs
------------------------------------------------------------------------
b14bbcac | Stephan Krempel | Tue, 13 Jul 2021 01:40:57 +0200

psslurm: Replace meaningless value in partition logging
------------------------------------------------------------------------
96aa9660 | Norbert Eicker | Mon, 12 Jul 2021 15:22:26 +0200

Let psslurm's own logger log to psid's logfile, too
------------------------------------------------------------------------
88ee1637 | Norbert Eicker | Tue, 18 May 2021 00:39:47 +0200

Pass psid's log destination to plugins
------------------------------------------------------------------------
cb6311e8 | Norbert Eicker | Fri, 9 Jul 2021 23:53:33 +0200

Streamlining
------------------------------------------------------------------------
3195acbb | Norbert Eicker | Fri, 9 Jul 2021 22:47:31 +0200

Remove useless checks and inits + streamlining
------------------------------------------------------------------------
e2f39285 | Norbert Eicker | Fri, 9 Jul 2021 22:46:35 +0200

Use strncpy() instead of strcpy() + streamlining
------------------------------------------------------------------------
0fb0ab32 | Norbert Eicker | Fri, 9 Jul 2021 22:42:52 +0200

Fix memory leak + streamlining
------------------------------------------------------------------------
55ca7a3a | Norbert Eicker | Fri, 9 Jul 2021 22:40:39 +0200

Improve documentation comments
------------------------------------------------------------------------
cdd45499 | Norbert Eicker | Fri, 9 Jul 2021 00:55:08 +0200

Get rid of static buffer
------------------------------------------------------------------------
f2713cc3 | Norbert Eicker | Fri, 9 Jul 2021 00:54:32 +0200

Get rid of useless optimization
------------------------------------------------------------------------
44a4dfeb | Stephan Krempel | Thu, 8 Jul 2021 13:00:28 +0200

Remove sorting of reservation list in job struct

We do not really need this sorting.
------------------------------------------------------------------------
73a7cd94 | Stephan Krempel | Thu, 8 Jul 2021 12:49:17 +0200

pspmix: Support start of jobs with multiple apps

This enables support for mpiexec's colon-notation used to
start multiple executables in one allocation.

Multiple reservations can now be handled by one namespace. Thus the
namespace name changed and no longer includes the reservation id.
------------------------------------------------------------------------
79da3583 | Stephan Krempel | Thu, 8 Jul 2021 12:37:00 +0200

pspmix: Introduce log mask for process mapping and rework format
------------------------------------------------------------------------
cb047ce7 | Stephan Krempel | Thu, 8 Jul 2021 12:31:18 +0200

pspmix: Rework FIND_IN_LIST_FUNC macro and use more widely
------------------------------------------------------------------------
ca99f92c | Stephan Krempel | Wed, 7 Jul 2021 02:18:37 +0200

Let spawner set PMIX_APPSIZE_n and __PMIX_RESID_n for each app

We do need these information to setup the namespace on
PMIx server startup as soon as the first spawn request
is handled on each node.
------------------------------------------------------------------------
539495af | Stephan Krempel | Wed, 7 Jul 2021 02:07:18 +0200

Fix typo
------------------------------------------------------------------------
edc93d88 | Stephan Krempel | Mon, 5 Jul 2021 15:17:42 +0200

Distribute reservations to all nodes in partition

Distribute reservation at creation time to all nodes inwolved in
the related partition. On each node, the reservations are stored
in the related job as list sorted by reservation id.
------------------------------------------------------------------------
d9199f0f | Stephan Krempel | Wed, 30 Jun 2021 13:13:55 +0200

pspmix: Use PMIX_PROC_[CONSTRUCT,LOAD,DESTRUCT] macros
------------------------------------------------------------------------
206e07cf | Stephan Krempel | Wed, 30 Jun 2021 12:49:11 +0200

pspmix: Use PMIX_CHECK_NSPACE and PMIX_CHECK_KEY macros
------------------------------------------------------------------------
0143c728 | Stephan Krempel | Wed, 30 Jun 2021 12:46:23 +0200

pspmix: Only print env in registerNamespace with PSPMIX_LOG_ENV
------------------------------------------------------------------------
feec8aab | Stephan Krempel | Fri, 25 Jun 2021 16:01:54 +0200

pspmix: Support multiple apps for colon notation support
------------------------------------------------------------------------
013c7ec5 | Stephan Krempel | Wed, 16 Jun 2021 15:32:32 +0200

pspmix: Add some commenting
------------------------------------------------------------------------
2f30a0a1 | Stephan Krempel | Wed, 16 Jun 2021 14:43:08 +0200

Add convenience macros for serialization of environment
------------------------------------------------------------------------
55f8d092 | Michael Rauh | Fri, 9 Jul 2021 17:16:52 +0200

Bugfix: make RPC REQUEST_JOB_NOTIFY compatible with Slurm 20.11
------------------------------------------------------------------------
6d391472 | Norbert Eicker | Wed, 30 Jun 2021 23:55:58 +0200

Save unnecessary realloc()
------------------------------------------------------------------------
536c8b93 | Norbert Eicker | Wed, 30 Jun 2021 22:51:50 +0200

Simplify getBindMapFromString()'s logic
------------------------------------------------------------------------
b13bcb66 | Norbert Eicker | Wed, 30 Jun 2021 09:44:05 +0200

Avoid a few detours
------------------------------------------------------------------------
fd535e59 | Stephan Krempel | Thu, 24 Jun 2021 13:48:08 +0200

psslurm: Add support for --gpu-bind=map_gpu
------------------------------------------------------------------------
867a519e | Stephan Krempel | Thu, 24 Jun 2021 13:29:00 +0200

psslurm: Fix using the same hw thread multiple times

By using pre node compressed partition slots instead of the original
step slots created by the pinning to generate the partition threads
it was not possible to put multiple processes to the same hardware
threads using explicite pinning with --cpu-bind=map_cpu. Fixes that.
------------------------------------------------------------------------
5a23622c | Stephan Krempel | Thu, 24 Jun 2021 12:05:16 +0200

psslurm: Avoid very large threads arrays in pinning  error case
------------------------------------------------------------------------
c4a03f7d | Stephan Krempel | Fri, 18 Jun 2021 12:52:01 +0200

psslurm: Rework map string parsing and support multiplying '*'
------------------------------------------------------------------------
95ff036c | Norbert Eicker | Tue, 6 Jul 2021 18:59:17 +0200

Add NVIDIA Tesla V100 SXM2 32GB to nodeinfo config
------------------------------------------------------------------------
489cb1cd | Norbert Eicker | Thu, 1 Jul 2021 23:13:04 +0200

Introduce PSCio_sendSProg() for send in PSIDclient

 - This shall help with parastation/psmgmt#18
------------------------------------------------------------------------
1b7331eb | Michael Rauh | Fri, 2 Jul 2021 15:26:06 +0200

Allow to change the GRes options via reconfigure
------------------------------------------------------------------------
cd322ba4 | Michael Rauh | Fri, 2 Jul 2021 15:25:27 +0200

Resend the node status to slurmctld after reconfigure
------------------------------------------------------------------------
3a135101 | Michael Rauh | Fri, 2 Jul 2021 15:06:03 +0200

Remove unused SlurmGresConfig list
------------------------------------------------------------------------
e87eb56c | Norbert Eicker | Fri, 18 Jun 2021 15:09:29 +0200

Improve log messages
------------------------------------------------------------------------
a5a1c7d7 | Michael Rauh | Fri, 18 Jun 2021 10:12:04 +0200

Ensure the slurmctld address does not get spoiled by a
configuration update

 - to change the slurmctld address a psslurm restart is required
------------------------------------------------------------------------
d8c9fdd9 | Michael Rauh | Wed, 16 Jun 2021 14:39:19 +0200

Add support for RPC REQUEST_RECONFIGURE_WITH_CONFIG and
REQUEST_RECONFIGURE
------------------------------------------------------------------------
bac3b164 | Norbert Eicker | Wed, 23 Jun 2021 00:06:14 +0200

Fix #include and whitespace
------------------------------------------------------------------------
8bed5a52 | Michael Rauh | Fri, 4 Jun 2021 16:51:59 +0200

Bugfix: allow PAM SSH connections when cpuacc module is loaded
------------------------------------------------------------------------
4a161d70 | Michael Rauh | Fri, 4 Jun 2021 16:19:54 +0200

Prevent jail plugin from spamming the log
------------------------------------------------------------------------
7fb851a5 | Stephan Krempel | Wed, 26 May 2021 14:36:05 +0200

psslurm: Fix creation of HWthreads for jobs and steps
------------------------------------------------------------------------
5bf457e9 | Stephan Krempel | Wed, 26 May 2021 14:20:19 +0200

psslurm: Streamlining
------------------------------------------------------------------------
cf9510ce | Stephan Krempel | Wed, 26 May 2021 14:13:48 +0200

psslurm: Add debugging output in getCompactThreadList()
------------------------------------------------------------------------
5e692aa2 | Stephan Krempel | Wed, 26 May 2021 13:57:42 +0200

psslurm: Fix creation of compact thread list
------------------------------------------------------------------------
e1c925ad | Stephan Krempel | Wed, 26 May 2021 11:51:39 +0200

psslurm: Rename CPU env variables and leave in user env

* Rename __PSSLURM_STEP_CPU_MAP to PSSLURM_STEP_CPUS
* Rename __PSSLURM_JOB_CPU_MAP to PSSLURM_JOB_CPUS
* Leave the variables in users environment
------------------------------------------------------------------------
54fb22ba | Stephan Krempel | Wed, 26 May 2021 11:09:23 +0200

psslurm: Fix setting jobHWthreads
------------------------------------------------------------------------
d9837a46 | Stephan Krempel | Tue, 25 May 2021 16:18:28 +0200

Use const qualifier in psenv functions
------------------------------------------------------------------------
d655bb3a | Stephan Krempel | Tue, 25 May 2021 12:03:19 +0200

psslurm: Fix nodeinfo init with missing step
------------------------------------------------------------------------
7974f76d | Michael Rauh | Fri, 21 May 2021 16:27:27 +0200

Fix typos
------------------------------------------------------------------------
726bfe29 | Norbert Eicker | Thu, 20 May 2021 22:28:01 +0200

Enhance comments
------------------------------------------------------------------------
92cf7886 | Norbert Eicker | Thu, 20 May 2021 22:19:20 +0200

Push to automake 1.16.3
------------------------------------------------------------------------
2b374dd5 | Norbert Eicker | Thu, 20 May 2021 22:11:14 +0200

Streamlining
------------------------------------------------------------------------
a58fc337 | Stephan Krempel | Thu, 20 May 2021 11:19:57 +0200

psslurm: Add STEP_CPUS to main jail script
------------------------------------------------------------------------
c4e569e2 | Stephan Krempel | Mon, 17 May 2021 15:00:41 +0200

psslurm: Refactor node information handling

- Extract nodeinfo from psslurmpin to psslurmnodeinfo
- Add array of nodeinfos to job and step structs
- Set cgroups environment variables correctly using nodeinfos
- Rename __PSSLURM_JOB_CORE_BITMAP to __PSSLURM_JOB_CPU_MAP
- Rename __PSSLURM_STEP_CORE_BITMAP to __PSSLURM_STEP_CPU_MAP
- Remove now obsolete core bitmaps from job and step structs
------------------------------------------------------------------------
064c3f86 | Stephan Krempel | Fri, 30 Apr 2021 04:21:20 +0200

psslurm: Streamlining pinning code
------------------------------------------------------------------------
3007e2a4 | Stephan Krempel | Fri, 30 Apr 2021 03:57:18 +0200

psslurm: Streamlining
------------------------------------------------------------------------
9abe5e63 | Stephan Krempel | Fri, 30 Apr 2021 03:53:59 +0200

psslurm: Use some clearer variable names in JobCred_t

coreArraySize -> nodeArraySize
sockCoreRepCount -> nodeRepCount
------------------------------------------------------------------------


Version psmgmt-5.1.42-1:
========================
------------------------------------------------------------------------
c113a48d | Norbert Eicker | Wed, 23 Jun 2021 14:57:59 +0200

Discussion follow-ups
------------------------------------------------------------------------
03503273 | Michael Rauh | Wed, 23 Jun 2021 13:54:01 +0200

Change psgw configuration option GATEWAY_ENV

     - Allows to set additional environment variables for
       the compute processes
     - Supports multiple variables separated by space
     - The environment of the psgwd will *not be changed*
------------------------------------------------------------------------
e44d42d2 | Norbert Eicker | Wed, 23 Jun 2021 13:51:40 +0200

Bugfix: fix segmentation fault in x11spank
------------------------------------------------------------------------


Version psmgmt-5.1.42:
======================
------------------------------------------------------------------------
34d3baaf | Norbert Eicker | Thu, 17 Jun 2021 00:08:21 +0200

Minor streamlining
------------------------------------------------------------------------
7e0c43a3 | Michael Rauh | Wed, 16 Jun 2021 10:22:51 +0200

Add new psgw configuration option GATEWAY_ENV

 - Allows to set additional environment variables for the psgwd
 - Supports multiple variables separated by space
------------------------------------------------------------------------
39793280 | Norbert Eicker | Mon, 14 Jun 2021 12:06:50 +0200

Be more verbose on failed getFullList() attempts
------------------------------------------------------------------------
e7eaff89 | Norbert Eicker | Wed, 9 Jun 2021 12:29:09 +0200

Improve naming of label
------------------------------------------------------------------------
391fd518 | Norbert Eicker | Wed, 9 Jun 2021 12:11:59 +0200

Simplify logic
------------------------------------------------------------------------
b2a4b054 | Norbert Eicker | Wed, 9 Jun 2021 12:08:53 +0200

Simplify and streamline
------------------------------------------------------------------------
6ef6133a | Norbert Eicker | Wed, 9 Jun 2021 11:49:49 +0200

Fix irrelevant of by one error and streamline
------------------------------------------------------------------------
f7663d58 | Norbert Eicker | Wed, 9 Jun 2021 01:44:16 +0200

Fix memory leak PSID_execScript() callback

 - Adapt copyright statements
------------------------------------------------------------------------
fa6277f0 | Michael Rauh | Tue, 8 Jun 2021 14:03:17 +0200

Bugfix: fix memory leak in psid spawn request
------------------------------------------------------------------------
f8cf5dd1 | Michael Rauh | Tue, 8 Jun 2021 14:01:40 +0200

Bugfix: fix possible invalid memory access in step callback
------------------------------------------------------------------------
59fa4af4 | Michael Rauh | Tue, 8 Jun 2021 13:11:08 +0200

Fix memory leaks in psslurm message handling
------------------------------------------------------------------------
227acd6b | Michael Rauh | Tue, 8 Jun 2021 12:20:09 +0200

Fix memory leak in pelogue configuration handling
------------------------------------------------------------------------
3b48de40 | Michael Rauh | Mon, 7 Jun 2021 18:54:10 +0200

Fix memory leak in psmunge startup
------------------------------------------------------------------------
5a4fedbc | Michael Rauh | Mon, 7 Jun 2021 18:49:05 +0200

Fix memory leaks in psslurm credential and config
------------------------------------------------------------------------
7f2906ac | Michael Rauh | Mon, 7 Jun 2021 18:27:39 +0200

Fix memory leak in pspelogue RPC
------------------------------------------------------------------------
6852d8dc | Michael Rauh | Mon, 7 Jun 2021 18:12:40 +0200

Fix memory leak in psslurm message registration
------------------------------------------------------------------------
9be213b1 | Michael Rauh | Mon, 7 Jun 2021 17:49:43 +0200

Fix memory leak in PSID_execFunc() callback
------------------------------------------------------------------------
08b617cc | Michael Rauh | Wed, 2 Jun 2021 15:56:05 +0200

Fix minor memory leak in psslurm
------------------------------------------------------------------------
51095197 | Norbert Eicker | Fri, 11 Jun 2021 16:44:24 +0200

Prevent NULL pointer dereference
------------------------------------------------------------------------
653059fa | Michael Rauh | Fri, 11 Jun 2021 11:31:54 +0200

Merge fwCMD_printMessage() and fwCMD_printJobMsg() in new
function fwCMD_printMsg()
------------------------------------------------------------------------
1963ed70 | Michael Rauh | Thu, 10 Jun 2021 15:55:21 +0200

Show stepid in notify job error message
------------------------------------------------------------------------
3c4f1345 | Michael Rauh | Fri, 23 Apr 2021 14:11:59 +0200

Show uid of request sender in handleTerminateReq()
------------------------------------------------------------------------
7b1377aa | Michael Rauh | Fri, 23 Apr 2021 14:05:18 +0200

Improve logging of handleJobNotify()
------------------------------------------------------------------------
d5c0ed1c | Michael Rauh | Wed, 21 Apr 2021 14:45:32 +0200

Let psslurm check if PrologSlurmctld is set in slurm.conf
------------------------------------------------------------------------
9ad453fc | Michael Rauh | Tue, 20 Apr 2021 17:25:32 +0200

Improve launch step log message
------------------------------------------------------------------------
0e9b2241 | Michael Rauh | Tue, 20 Apr 2021 17:14:28 +0200

Fix psgw log message
------------------------------------------------------------------------
cdb21971 | Michael Rauh | Tue, 20 Apr 2021 17:04:53 +0200

Give hint if a typical error in the setup of the slurmctld prologue
is encountered
------------------------------------------------------------------------
06b56fbc | Michael Rauh | Tue, 20 Apr 2021 17:01:46 +0200

Improve log messages for psslurm job termination
------------------------------------------------------------------------
f867106b | Stephan Krempel | Fri, 11 Jun 2021 12:18:31 +0200

Update psconfig example

Closes #2
------------------------------------------------------------------------
9e3bd1ed | Michael Rauh | Thu, 10 Jun 2021 11:03:53 +0200

Bugfix: fix bug in jail script to set the oom score
------------------------------------------------------------------------
1317756c | Norbert Eicker | Mon, 31 May 2021 17:26:32 +0200

Fix Copyright
------------------------------------------------------------------------
6eb6f8b9 | Norbert Eicker | Mon, 31 May 2021 12:10:01 +0200

PSCio improvements

 - Fix PSCio_recvBufFunc() return value when not pedantic
 - Add silent flag to PSCio_recvBufFunc() and make it silent from PSCio_recvMsgFunc()
 - Switch indefinite logic in PSCio_recvMsgFunc()
------------------------------------------------------------------------
90fd8efc | Norbert Eicker | Mon, 31 May 2021 12:09:04 +0200

Change according to other places
------------------------------------------------------------------------
61a17818 | Norbert Eicker | Fri, 28 May 2021 16:34:42 +0200

Simplify PSIDclient_recv() prototype
------------------------------------------------------------------------
358e08a9 | Norbert Eicker | Fri, 28 May 2021 01:58:49 +0200

Improve log messages and streamlining
------------------------------------------------------------------------
88d60095 | Norbert Eicker | Fri, 28 May 2021 01:31:12 +0200

Fix typo
------------------------------------------------------------------------
4e9ba89b | Norbert Eicker | Fri, 28 May 2021 01:25:27 +0200

Use PSCio_setFDblock() instead of fcntl()
------------------------------------------------------------------------
bd75df56 | Norbert Eicker | Fri, 21 May 2021 16:12:28 +0200

Streamlining and booleanization
------------------------------------------------------------------------
d7b5437d | Norbert Eicker | Mon, 17 May 2021 23:13:45 +0200

Do not suppress info on closed descriptor in PSCio_recvBuf()
------------------------------------------------------------------------
227f48b4 | Norbert Eicker | Mon, 17 May 2021 23:13:01 +0200

Minor streamlining
------------------------------------------------------------------------
384d0472 | Norbert Eicker | Mon, 17 May 2021 00:43:38 +0200

Do not spoil PSCio_recvBuf() errno if progress is considered
------------------------------------------------------------------------
af1eef5d | Norbert Eicker | Thu, 13 May 2021 21:40:31 +0200

Bugfix: PSCio_recvBufPProg()'s rcvd parameter must be initialized
------------------------------------------------------------------------
07ebc272 | Norbert Eicker | Wed, 12 May 2021 17:14:40 +0200

Improve handleSrunMsg()'s error log
------------------------------------------------------------------------
3645a891 | Norbert Eicker | Wed, 12 May 2021 17:13:36 +0200

Ensure PSCio_recvBufFunc()'s errno is always meaningful
------------------------------------------------------------------------
bce4f82b | Norbert Eicker | Wed, 12 May 2021 16:14:04 +0200

Bugfix: Ensure ioh is always initialized
------------------------------------------------------------------------
0c1c70ae | Norbert Eicker | Thu, 6 May 2021 22:14:09 +0200

Simplify logging
------------------------------------------------------------------------
da63b304 | Norbert Eicker | Thu, 6 May 2021 22:12:05 +0200

Bugfix: drop unexpected message length from receive buffer
------------------------------------------------------------------------
8c5df1e6 | Norbert Eicker | Thu, 6 May 2021 22:11:44 +0200

Refine allocation
------------------------------------------------------------------------
a1760ea7 | Norbert Eicker | Tue, 4 May 2021 20:13:16 +0200

Call PSCio_recvBuf() directly instead via PSID_readall()
------------------------------------------------------------------------
24c3e977 | Norbert Eicker | Fri, 30 Apr 2021 16:55:24 +0200

Bugfix: recv() not applicable to pipes

 - Since recv()'s flag argument is 0 and we do not pass SOCK_DGRAM
   sockets to PSCio_recvBufFunc() it shall be safe to use read()
------------------------------------------------------------------------
6fd92a94 | Norbert Eicker | Fri, 30 Apr 2021 16:55:04 +0200

Booleanize
------------------------------------------------------------------------
fe233ccf | Michael Rauh | Fri, 30 Apr 2021 10:29:57 +0200

Fix declaration of PSPAMResult_t
------------------------------------------------------------------------
ab3cc113 | Norbert Eicker | Fri, 23 Apr 2021 01:35:48 +0200

Replace getdtablesize() by sysconf(_SC_OPEN_MAX) in psmom, too
------------------------------------------------------------------------
4ab54308 | Norbert Eicker | Fri, 23 Apr 2021 01:21:34 +0200

Streamlining
------------------------------------------------------------------------
cf778899 | Norbert Eicker | Thu, 18 Mar 2021 02:53:04 +0100

Utilize PSCio_recvMsg() all over the place
------------------------------------------------------------------------
0db0075d | Norbert Eicker | Thu, 18 Mar 2021 02:51:43 +0100

Utilize PSCio_recvBuf() within PSID_readall()
------------------------------------------------------------------------
9297a3dd | Norbert Eicker | Thu, 18 Mar 2021 02:50:51 +0100

Move from read() to PSID_readall() and fix tons of debug and comments
------------------------------------------------------------------------
015dd2cc | Norbert Eicker | Thu, 18 Mar 2021 02:31:18 +0100

Ensure SO_PEERCRED is defined
------------------------------------------------------------------------
58585e43 | Norbert Eicker | Wed, 17 Mar 2021 18:40:40 +0100

Utilize PSCio_recvMsg() in pspmix plugin
------------------------------------------------------------------------
4303ea6a | Norbert Eicker | Wed, 17 Mar 2021 18:26:51 +0100

Let psilogger use PSCio_recvMsg()
------------------------------------------------------------------------
268ccd76 | Norbert Eicker | Wed, 17 Mar 2021 18:01:44 +0100

Let PSLog_read() use PSCio_recvMsgSize()
------------------------------------------------------------------------
d7a9e472 | Norbert Eicker | Wed, 17 Mar 2021 18:22:49 +0100

Introduce PSCio_recvMsg() family of functions
------------------------------------------------------------------------
bd513ef9 | Norbert Eicker | Wed, 17 Mar 2021 02:35:23 +0100

Move offset handling into PSCio_recvBufProg()
------------------------------------------------------------------------
e3a2823e | Norbert Eicker | Wed, 17 Mar 2021 02:12:53 +0100

Fix typos
------------------------------------------------------------------------
c1f5bd25 | Norbert Eicker | Wed, 17 Mar 2021 02:10:15 +0100

Rename PS_DataBuffer_t members
------------------------------------------------------------------------
10e3fdda | Norbert Eicker | Tue, 16 Mar 2021 23:54:14 +0100

Setup file descriptors in the correct blocking mode
------------------------------------------------------------------------
1a5f529f | Norbert Eicker | Tue, 16 Mar 2021 23:53:57 +0100

Don't mess with blocking within PSCio_recvBufFunc()
------------------------------------------------------------------------
1e940301 | Norbert Eicker | Tue, 16 Mar 2021 23:34:50 +0100

Improve logging and streamlining
------------------------------------------------------------------------
4caaf9d6 | Norbert Eicker | Tue, 16 Mar 2021 22:25:19 +0100

Improve logging
------------------------------------------------------------------------
876c8145 | Norbert Eicker | Tue, 16 Mar 2021 22:18:51 +0100

Check for socket() success and streamlining
------------------------------------------------------------------------
473eb66a | Norbert Eicker | Tue, 16 Mar 2021 12:05:17 +0100

Move doRead() et al. from psserial to PSCio_recvBuf()
------------------------------------------------------------------------


Version psmgmt-5.1.41-3:
========================
------------------------------------------------------------------------
0c53e89a | Norbert Eicker | Sun, 6 Jun 2021 23:17:01 +0200

Fix copyright and streamlining
------------------------------------------------------------------------
8b9ef76f | Michael Rauh | Fri, 4 Jun 2021 15:30:25 +0200

Bugfix: fix handling of connect() return code
------------------------------------------------------------------------
ed4804e4 | Michael Rauh | Fri, 4 Jun 2021 14:22:55 +0200

Bugfix: use correct display string for xauth in x11spank
------------------------------------------------------------------------
6b7d60ae | Michael Rauh | Fri, 4 Jun 2021 11:05:09 +0200

Bugfix: a spank plugin may choose to register spank options only
to srun and not psslurm. This should not lead to an error.
------------------------------------------------------------------------


Version psmgmt-5.1.41-2:
========================
------------------------------------------------------------------------
5b66e517 | Michael Rauh | Mon, 31 May 2021 18:34:56 +0200

Bugfix: ensure to call the correct callback for spank options
------------------------------------------------------------------------


Version psmgmt-5.1.41-1:
========================
------------------------------------------------------------------------
f4315df7 | Michael Rauh | Fri, 28 May 2021 17:34:31 +0200

Forward runtime variables to spank_exit hook
------------------------------------------------------------------------
2612aa77 | Michael Rauh | Fri, 28 May 2021 15:05:30 +0200

Ensure the environment is setup properly for Spank
------------------------------------------------------------------------
2f850859 | Norbert Eicker | Fri, 28 May 2021 13:46:43 +0200

Improve docu and fix Copyright
------------------------------------------------------------------------
94dd10f3 | Michael Rauh | Fri, 28 May 2021 12:06:37 +0200

Use hook PSIDHOOK_EXEC_CLIENT_PREP in psslurm to call
the Spank hook SPANK_TASK_INIT
------------------------------------------------------------------------
4367db6b | Michael Rauh | Fri, 28 May 2021 11:56:02 +0200

Call hook PSIDHOOK_EXEC_CLIENT_PREP in psidforwarder child
------------------------------------------------------------------------
3ad65620 | Michael Rauh | Fri, 28 May 2021 11:48:44 +0200

Add hook PSIDHOOK_EXEC_CLIENT_PREP and bump
plugin API version to 132
------------------------------------------------------------------------
55000a6a | Norbert Eicker | Fri, 21 May 2021 18:24:25 +0200

Streamline
------------------------------------------------------------------------
19c0afd9 | Stephan Krempel | Fri, 14 May 2021 08:22:09 +0200

psslurm: Make plugin init never fail without message
------------------------------------------------------------------------


Version psmgmt-5.1.41:
======================
------------------------------------------------------------------------
45447105 | Michael Rauh | Thu, 20 May 2021 20:41:18 +0200

Add support for slurm_spank_log()
------------------------------------------------------------------------
5fe03ac5 | Michael Rauh | Thu, 20 May 2021 20:32:44 +0200

Add support for spank options

 - includes the functions spank_option_register() and spank_option_getopt()
 - additionally the symbol spank_options is supported
------------------------------------------------------------------------
5ee8efa8 | Michael Rauh | Thu, 20 May 2021 20:25:46 +0200

Add spank options to test plugin
------------------------------------------------------------------------
2f4312ac | Michael Rauh | Fri, 14 May 2021 16:50:03 +0200

Save spank options in step structure
------------------------------------------------------------------------
2736c6e9 | Norbert Eicker | Thu, 20 May 2021 18:38:51 +0200

Better go to for() loops
------------------------------------------------------------------------
307d3cf0 | Norbert Eicker | Tue, 18 May 2021 15:34:16 +0200

Ensure PSP_SMP_NODE_ID is kept (#2911, meluxina:#92)
------------------------------------------------------------------------
dda2805a | Norbert Eicker | Tue, 18 May 2021 15:33:56 +0200

Streamlining
------------------------------------------------------------------------
9f4939d3 | Michael Rauh | Fri, 14 May 2021 15:53:17 +0200

Let pspelogue remove new "SPANK_" prefix from already prefixed variables
(juwels:#9228)
------------------------------------------------------------------------
69a3736e | Norbert Eicker | Wed, 12 May 2021 21:13:53 +0200

Use const qualifier in PSCPU_getUnset(), too
------------------------------------------------------------------------
54ecbdfc | Stephan Krempel | Wed, 12 May 2021 18:36:34 +0200

Use const qualifier in PSCPU functions
------------------------------------------------------------------------


Version psmgmt-5.1.40-8:
========================
------------------------------------------------------------------------
52cfeebc | Stephan Krempel | Mon, 10 May 2021 23:10:42 +0200

psslurm: Always set PSSLURM_BIND_GPUS during GPU pinning
------------------------------------------------------------------------
a98c267a | Stephan Krempel | Mon, 10 May 2021 17:31:05 +0200

psslurm: Fix setting of slurm node info file flag value

At initial contact of a node to slurmctld, some node infos are
submitted by psslurm and those are stored forever in Slurm's
node record. One flag was formerly set with a wrong value.
------------------------------------------------------------------------
3de8599e | Stephan Krempel | Mon, 10 May 2021 14:36:19 +0200

psslurm: Fix potential segfault in GPU pinning code
------------------------------------------------------------------------
eda685b4 | Thomas Moschny | Tue, 4 May 2021 21:28:15 +0200

Fix two format warnings shown by clang12.
------------------------------------------------------------------------
116170c4 | Norbert Eicker | Tue, 4 May 2021 19:41:36 +0200

Ensure close() does not spoil errno in pskill()
------------------------------------------------------------------------


Version psmgmt-5.1.40-7:
========================
------------------------------------------------------------------------
25e3b3dd | Stephan Krempel | Tue, 4 May 2021 19:08:09 +0200

pspmix: Enhance send mutexes to include msg creation
------------------------------------------------------------------------


Version psmgmt-5.1.40-6:
========================
------------------------------------------------------------------------
d7d9275e | Norbert Eicker | Fri, 30 Apr 2021 13:33:31 +0200

Bugfix: Correct handling of pipe ends
------------------------------------------------------------------------
13187fde | Stephan Krempel | Fri, 30 Apr 2021 02:39:14 +0200

psslurm: Fix function description
------------------------------------------------------------------------
fde28905 | Norbert Eicker | Thu, 29 Apr 2021 21:55:50 +0200

Introduce PSP_SMP_NODE_ID (#2911)
------------------------------------------------------------------------
7d9229f0 | Norbert Eicker | Thu, 29 Apr 2021 13:04:17 +0200

Major streamlining
------------------------------------------------------------------------
9c0fbd3a | Norbert Eicker | Thu, 29 Apr 2021 13:03:51 +0200

Remove obsolete comment
------------------------------------------------------------------------
f546b802 | Norbert Eicker | Thu, 29 Apr 2021 13:02:49 +0200

Remove quickhack unused for ages
------------------------------------------------------------------------


Version psmgmt-5.1.40-5:
========================
------------------------------------------------------------------------
b5814f49 | Norbert Eicker | Wed, 28 Apr 2021 14:58:13 +0200

Hide pmixJobservers
------------------------------------------------------------------------
4bb7a37b | Norbert Eicker | Wed, 28 Apr 2021 14:33:02 +0200

Call PSIDclient_send() explicitly due to sendMsg() deficiencies
------------------------------------------------------------------------
02824c8e | Stephan Krempel | Wed, 28 Apr 2021 12:04:00 +0200

pspmix: Report if message target could not be set
------------------------------------------------------------------------
01182b4f | Stephan Krempel | Wed, 28 Apr 2021 00:51:21 +0200

pspmix: Add missing return value check
------------------------------------------------------------------------
f1848ca1 | Norbert Eicker | Wed, 28 Apr 2021 14:13:27 +0200

Prevent goto
------------------------------------------------------------------------
8229c6bd | Norbert Eicker | Wed, 28 Apr 2021 13:14:26 +0200

Add loggertid to frag msg's extra header where required

 - Further streamlining and optimization
------------------------------------------------------------------------
0f0eb843 | Norbert Eicker | Wed, 28 Apr 2021 12:19:55 +0200

Rework pspmixcomm and switch PSPMIX_MODEX_DATA_REQ to frag message
------------------------------------------------------------------------
83df1299 | Norbert Eicker | Wed, 28 Apr 2021 12:19:09 +0200

Minor rework and fix typos
------------------------------------------------------------------------
5f4b3144 | Norbert Eicker | Wed, 28 Apr 2021 09:43:37 +0200

Daemon side of PMIx protocol extension
------------------------------------------------------------------------
dfdc0fe8 | Norbert Eicker | Wed, 28 Apr 2021 09:14:30 +0200

Streamlining
------------------------------------------------------------------------


Version psmgmt-5.1.40-4:
========================
------------------------------------------------------------------------
1c1222d4 | Michael Rauh | Tue, 27 Apr 2021 16:50:53 +0200

Forward special slurmctld prologue environment variables to jobscript
environment
------------------------------------------------------------------------


Version psmgmt-5.1.40-3:
========================
------------------------------------------------------------------------
ef374afc | Norbert Eicker | Fri, 23 Apr 2021 01:01:52 +0200

Streamlining
------------------------------------------------------------------------
d5c57ef3 | Norbert Eicker | Fri, 23 Apr 2021 00:19:49 +0200

Type refinements
------------------------------------------------------------------------
6bd4e239 | Norbert Eicker | Fri, 23 Apr 2021 00:17:58 +0200

Streamlining
------------------------------------------------------------------------
db99b23c | Norbert Eicker | Thu, 22 Apr 2021 23:59:08 +0200

Bugfix: Ensure STDIN_FILENO stays open after fork()
------------------------------------------------------------------------
68a47dcb | Norbert Eicker | Wed, 21 Apr 2021 16:40:15 +0200

Move pse.h and psi.h into psmgmt-devel, too
------------------------------------------------------------------------


Version psmgmt-5.1.40-2:
========================
------------------------------------------------------------------------
bf12bf3f | Norbert Eicker | Wed, 21 Apr 2021 00:11:50 +0200

Reorganize RPMs
------------------------------------------------------------------------
58433fa2 | Norbert Eicker | Wed, 21 Apr 2021 13:44:08 +0200

Minor optimizations
------------------------------------------------------------------------
a6993ed0 | Michael Rauh | Wed, 21 Apr 2021 11:45:08 +0200

Accept option "Features" in the Slurm hots configuration
------------------------------------------------------------------------
44eef2f8 | Michael Rauh | Wed, 21 Apr 2021 11:05:13 +0200

Bugfix: accept empty directories in spank include directive
------------------------------------------------------------------------


Version psmgmt-5.1.40-1:
========================
------------------------------------------------------------------------
c67df184 | Michael Rauh | Mon, 19 Apr 2021 12:55:16 +0200

Bugfix: fix tree forwarding with mixed protocol versions and
main protocol 20.11
------------------------------------------------------------------------


Version psmgmt-5.1.40:
======================
------------------------------------------------------------------------
0c9e0a76 | Michael Rauh | Fri, 16 Apr 2021 15:59:49 +0200

Improve error messages of psmunge
------------------------------------------------------------------------
81b3172d | Michael Rauh | Fri, 16 Apr 2021 15:15:36 +0200

Improve error logging of Slurm return codes
------------------------------------------------------------------------
ab1c634d | Michael Rauh | Fri, 16 Apr 2021 15:14:02 +0200

Bugfix: set default GRes count to 1 if unspecified
------------------------------------------------------------------------
5f0b66f8 | Stephan Krempel | Wed, 7 Apr 2021 15:13:34 +0200

psslurm GPU pinning: Bind lone task to all GPUs

If a step has only one task on a node, this task is bound
to all GPUs assigned to the step.

This also renames PSSLURM_BIND_GPU to PSSLURM_BIND_GPUS.
------------------------------------------------------------------------
a95dd19d | Stephan Krempel | Thu, 15 Apr 2021 17:04:14 +0200

Rename GPU informational environment variables

Rename PSID_CLOSE_GPUS to PSID_LOCAL_GPUS
Rename PSID_CLOSEST_GPUS back to PSID_CLOSE_GPUS
------------------------------------------------------------------------
57992fde | Norbert Eicker | Fri, 9 Apr 2021 17:32:24 +0200

Rework PSIDpin_getCloseGPUs() interface
------------------------------------------------------------------------
5a6e303e | Norbert Eicker | Fri, 9 Apr 2021 17:14:54 +0200

Avoid artifical restrictions on number of GPUs
------------------------------------------------------------------------
ff5cd1ec | Norbert Eicker | Fri, 9 Apr 2021 17:10:13 +0200

Rework PSIDpin_getClosestGPUs() and more

 - Rename to PSIDpin_getCloseGPUs()
------------------------------------------------------------------------
0de4d831 | Norbert Eicker | Fri, 9 Apr 2021 14:19:45 +0200

Bugfix: Take mapping of correct node into account
------------------------------------------------------------------------
377b525e | Norbert Eicker | Fri, 9 Apr 2021 13:20:11 +0200

Fix doxygen syntax
------------------------------------------------------------------------
f10d199a | Stephan Krempel | Wed, 7 Apr 2021 15:11:25 +0200

Fix typo
------------------------------------------------------------------------
dde6c376 | Norbert Eicker | Fri, 9 Apr 2021 01:11:33 +0200

Bugfix: Ensure gpuSet is properly initialized
------------------------------------------------------------------------
af2c1fda | Stephan Krempel | Wed, 31 Mar 2021 05:30:12 +0200

Include PSIDpin_getCloseGPUs() into PSIDpin_getClosestGPUs()

PSIDpin_getClosestGPUs() now can optionally return a second
list of directly connected GPUs as PSIDpin_getCloseGPUs() did.
------------------------------------------------------------------------
ac819108 | Stephan Krempel | Wed, 31 Mar 2021 02:11:25 +0200

Use NUMA domain distances for closest GPU pinning
------------------------------------------------------------------------
5949eda5 | Norbert Eicker | Thu, 15 Apr 2021 22:06:41 +0200

Hide initSlurmOpt() and add @doctodos
------------------------------------------------------------------------
af027b05 | Michael Rauh | Wed, 14 Apr 2021 17:15:26 +0200

Remove unnecessary user ID check in config
response handling
------------------------------------------------------------------------
5cab85dd | Michael Rauh | Wed, 14 Apr 2021 16:45:16 +0200

Ensure to request configuration at least once in configless mode
------------------------------------------------------------------------
c5673bec | Michael Rauh | Wed, 14 Apr 2021 16:25:28 +0200

booleanize parseSlurmConfigFiles()
------------------------------------------------------------------------
be0abf51 | Michael Rauh | Wed, 14 Apr 2021 15:58:55 +0200

Ensure the initialisation is consistent when using
configless mode
------------------------------------------------------------------------
ed159f67 | Norbert Eicker | Tue, 13 Apr 2021 00:48:25 +0200

Booleanize and minor streamlining
------------------------------------------------------------------------
f4dbfff6 | Michael Rauh | Mon, 12 Apr 2021 19:26:40 +0200

Make RPC REQUEST_REATTACH_TASKS compatible with Slurm 20.11
------------------------------------------------------------------------
7b68f6c7 | Norbert Eicker | Fri, 9 Apr 2021 22:07:05 +0200

Minor refinements, mostly whitespace, log, docu, etc.
------------------------------------------------------------------------
0e652899 | Michael Rauh | Fri, 9 Apr 2021 15:33:34 +0200

Add support for TaskEpilog option of slurm.conf
------------------------------------------------------------------------
9447f738 | Michael Rauh | Fri, 9 Apr 2021 15:17:16 +0200

Add support for TaskProlog option of slurm.conf
------------------------------------------------------------------------
79a39dad | Michael Rauh | Fri, 9 Apr 2021 16:18:02 +0200

Suppress error in psslurm if no jail plugin is used
------------------------------------------------------------------------
f0e1780f | Norbert Eicker | Thu, 8 Apr 2021 02:08:00 +0200

Ensure PSIDHOOK_JAIL_TERM is available

 - At the same time do not break compatibility by mixing up hook numbers
------------------------------------------------------------------------
b8b8483a | Norbert Eicker | Thu, 8 Apr 2021 00:54:04 +0200

Fix documentation, copyright data, whitespace, etc.
------------------------------------------------------------------------
bf9e4a82 | Norbert Eicker | Thu, 8 Apr 2021 00:53:23 +0200

Ensure StrBuffers are correctly initialized
------------------------------------------------------------------------
b6796189 | Michael Rauh | Fri, 13 Nov 2020 14:36:46 +0100

Update buildsystem
------------------------------------------------------------------------
46b863d0 | Michael Rauh | Fri, 13 Nov 2020 14:31:14 +0100

Add new jail scripts to buildsystem
------------------------------------------------------------------------
9aaea244 | Michael Rauh | Fri, 13 Nov 2020 14:20:41 +0100

Update documentation of PSIDHOOK_JAIL_CHILD and PSIDHOOK_EXEC_FORWARDER
------------------------------------------------------------------------
dfd1a24e | Michael Rauh | Fri, 13 Nov 2020 14:10:16 +0100

Stop psid spawn process if jailing fails
------------------------------------------------------------------------
4aa2eaf6 | Michael Rauh | Fri, 13 Nov 2020 13:56:29 +0100

Set correct default memory nodes for cpuset controller
------------------------------------------------------------------------
0811dfa6 | Michael Rauh | Fri, 13 Nov 2020 13:37:12 +0100

Add support for cpuacct cgroup controller
------------------------------------------------------------------------
b88ee27e | Michael Rauh | Fri, 13 Nov 2020 13:30:55 +0100

Rework jail.sh to use modules for cgroup controllers

 - introduce jail-main.sh to replace jail.sh and jail-term.sh
------------------------------------------------------------------------
dc1f908f | Michael Rauh | Tue, 10 Nov 2020 12:55:42 +0100

Update buildsystem
------------------------------------------------------------------------
db8ac692 | Michael Rauh | Tue, 10 Nov 2020 12:47:55 +0100

Add scripts to jail children in the cpuset cgroup
------------------------------------------------------------------------
55001070 | Michael Rauh | Tue, 10 Nov 2020 12:31:41 +0100

Add JAIL_TERM_SCRIPT example to jail.conf
------------------------------------------------------------------------
6485aec4 | Michael Rauh | Mon, 9 Nov 2020 15:13:14 +0100

Cancel a job or step if jailing its process fails
------------------------------------------------------------------------
976d072c | Michael Rauh | Fri, 6 Nov 2020 14:48:43 +0100

Use freeStrBuf() in psslurm
------------------------------------------------------------------------
81e230fd | Michael Rauh | Fri, 6 Nov 2020 14:47:40 +0100

Add freeStrBuf() and improve documentation of string buffer functions
------------------------------------------------------------------------
b3f552b3 | Michael Rauh | Tue, 20 Oct 2020 16:02:17 +0200

Use hook PSIDHOOK_JAIL_TERM in psslurm to
terminate expired cgroups
------------------------------------------------------------------------
ce2055d5 | Michael Rauh | Tue, 20 Oct 2020 15:25:29 +0200

Let hook PSIDHOOK_JAIL_CHILD called in pspam
execute in child process
------------------------------------------------------------------------
24335b89 | Michael Rauh | Fri, 12 Mar 2021 13:50:17 +0100

Use getScriptCBdata() from plugin helper to replace
duplicates in plugins
------------------------------------------------------------------------
c2b71911 | Michael Rauh | Mon, 19 Oct 2020 14:49:23 +0200

Add getScriptCBdata() to plugin helper library
------------------------------------------------------------------------
899c15df | Michael Rauh | Tue, 13 Oct 2020 16:14:55 +0200

Use PSID_sigBlock() instead of sigprocmask()
------------------------------------------------------------------------
de52555b | Michael Rauh | Tue, 13 Oct 2020 15:59:41 +0200

Improve documentation of hexBitStrConv_func_t
------------------------------------------------------------------------
5bbf035f | Michael Rauh | Wed, 7 Oct 2020 15:06:32 +0200

Use hook PSIDHOOK_JAIL_TERM in jail plugin to call a
cgroup terminate script
------------------------------------------------------------------------
624b4b27 | Michael Rauh | Wed, 7 Oct 2020 11:33:02 +0200

Add hook PSIDHOOK_JAIL_TERM and bump plugin
API version to 129
------------------------------------------------------------------------
c5558c1a | Norbert Eicker | Tue, 13 Oct 2020 00:58:36 +0200

Fix typo
------------------------------------------------------------------------
95eb46bd | Michael Rauh | Tue, 6 Oct 2020 12:24:09 +0200

Let jail-plugin set cgroups for SSH processes via pspam
------------------------------------------------------------------------
1a775dec | Michael Rauh | Tue, 6 Oct 2020 12:21:27 +0200

Let jail-plugin set cgroups for psidforwarder
 - this fixes race with doClamps() cpusets
------------------------------------------------------------------------
6a54688d | Michael Rauh | Tue, 6 Oct 2020 12:17:21 +0200

Jail all psslurm children including its forwarders
 - add option jailChild to pluginforwarder
------------------------------------------------------------------------
3579ad47 | Michael Rauh | Thu, 1 Oct 2020 16:34:12 +0200

Ensure the jail plugin is able to catch SIGCHLD
------------------------------------------------------------------------
2a4cee60 | Michael Rauh | Tue, 29 Sep 2020 11:24:46 +0200

Improve psslurm kvs output of hardware threads
------------------------------------------------------------------------
46b54aea | Michael Rauh | Tue, 29 Sep 2020 11:17:55 +0200

Export job and step core map to psidforwarder
------------------------------------------------------------------------
351dd620 | Michael Rauh | Tue, 29 Sep 2020 11:03:59 +0200

Rework hexBitstr2List() and introduce hexBitstr2ListEx()
 - add support for range syntax
 - a convert function may alter the list data
------------------------------------------------------------------------
c773c88b | Michael Rauh | Mon, 28 Sep 2020 14:54:35 +0200

Improve addStrBuf() function
------------------------------------------------------------------------
54261202 | Norbert Eicker | Wed, 7 Apr 2021 01:15:19 +0200

Streamlining
------------------------------------------------------------------------
9c3389a2 | Michael Rauh | Mon, 29 Mar 2021 16:11:39 +0200

Use psconfig DevIPAddress to generate the routing file
------------------------------------------------------------------------
6baecce5 | Michael Rauh | Mon, 22 Mar 2021 13:52:42 +0100

Fix typos
------------------------------------------------------------------------
df9e73fa | Michael Rauh | Fri, 19 Mar 2021 17:06:47 +0100

Change psgw --gw_debug output filename to
JOB-$JOBID-psgwd_$PSGW_ID-$HOSTNAME.debug
------------------------------------------------------------------------
f3c706fe | Michael Rauh | Fri, 19 Mar 2021 16:28:07 +0100

Add PSHC example to psgw README
------------------------------------------------------------------------
06e83333 | Michael Rauh | Fri, 19 Mar 2021 16:22:05 +0100

Log hostname if a prologue on a gateway node fails
------------------------------------------------------------------------
2e714c34 | Michael Rauh | Fri, 19 Mar 2021 13:46:12 +0100

Update psgw README
------------------------------------------------------------------------
98617da1 | Norbert Eicker | Tue, 6 Apr 2021 23:53:48 +0200

More log improvements
------------------------------------------------------------------------
63b52fd5 | Norbert Eicker | Tue, 6 Apr 2021 12:58:56 +0200

Log message improvements
------------------------------------------------------------------------
2573a47a | Norbert Eicker | Tue, 6 Apr 2021 12:00:27 +0200

Use strStepID() more often
------------------------------------------------------------------------
6b05d6ca | Norbert Eicker | Tue, 6 Apr 2021 10:23:45 +0200

Fix typo
------------------------------------------------------------------------
43c66525 | Michael Rauh | Wed, 31 Mar 2021 18:41:51 +0200

Remove interactive steps immediately after completion (pct:389)

 - necessary since Slurm protocol 20.11
------------------------------------------------------------------------
2fcc35e8 | Michael Rauh | Wed, 31 Mar 2021 17:56:36 +0200

Use strStepID() in most cases
------------------------------------------------------------------------
c537fe3b | Michael Rauh | Wed, 31 Mar 2021 17:53:47 +0200

Add new step states to strStepID()
------------------------------------------------------------------------
663bf3cf | Michael Rauh | Thu, 1 Apr 2021 17:15:24 +0200

Fix some typos
------------------------------------------------------------------------
c5921465 | Norbert Eicker | Wed, 10 Mar 2021 01:18:53 +0100

Remove obsolete @todos and do streamlining
------------------------------------------------------------------------
d366fa3d | Norbert Eicker | Wed, 10 Mar 2021 01:16:16 +0100

Remove obsolete @todo
------------------------------------------------------------------------
2daa68f2 | Norbert Eicker | Tue, 9 Mar 2021 23:49:31 +0100

Fix todo: SIGWINCH is sent by ioctl(TIOCSWINSZ)
------------------------------------------------------------------------
1aa32e80 | Norbert Eicker | Tue, 9 Mar 2021 23:02:45 +0100

psiadmin tracks connection to psid and exits on failure
------------------------------------------------------------------------
74b758be | Norbert Eicker | Tue, 9 Mar 2021 22:48:53 +0100

Fix some doctodos
------------------------------------------------------------------------
7264afc3 | Norbert Eicker | Tue, 9 Mar 2021 22:31:30 +0100

Use more appropriate errnos
------------------------------------------------------------------------
659ba0ce | Michael Rauh | Fri, 26 Mar 2021 16:45:38 +0100

Ensure psid and psslurm have the same hardware view
------------------------------------------------------------------------
2762f560 | Michael Rauh | Mon, 29 Mar 2021 19:07:07 +0200

Apply filename pattern on job/step current working directory (pct:#387)

 - Introduce psslurm configuration option CWD_PATTERN.
   This option allows to disable the new pattern matching.
------------------------------------------------------------------------
689df1c6 | Michael Rauh | Fri, 26 Mar 2021 16:12:35 +0100

Prevent spank plugins from tainting the psid
------------------------------------------------------------------------
67af6773 | Norbert Eicker | Thu, 25 Mar 2021 19:04:54 +0100

Booleanize and push to automake 1.16.3
------------------------------------------------------------------------
dd3224b4 | Michael Rauh | Thu, 25 Mar 2021 15:21:35 +0100

Update buildsystem
------------------------------------------------------------------------
575ff895 | Michael Rauh | Thu, 25 Mar 2021 15:18:45 +0100

Add spank plugins to buildsystem
------------------------------------------------------------------------
56cb86c9 | Michael Rauh | Thu, 25 Mar 2021 15:11:06 +0100

Cleanup of spank plugins
------------------------------------------------------------------------
7cdd374d | Michael Rauh | Wed, 24 Mar 2021 16:27:57 +0100

Add JSC spank plugins
------------------------------------------------------------------------


Version psmgmt-5.1.39-3:
========================
------------------------------------------------------------------------
5507b101 | Michael Rauh | Mon, 29 Mar 2021 10:20:33 +0200

Bugfix: don't overwrite LD_LIBRARY_PATH on gateway nodes with an
empty value (#2893)
------------------------------------------------------------------------
9b26c6b9 | Michael Rauh | Tue, 23 Mar 2021 18:24:29 +0100

Bugfix: fix unexpected line breaks in output when using label option
of srun (#2868)
------------------------------------------------------------------------
eb82d0be | Michael Rauh | Thu, 11 Mar 2021 10:03:43 +0100

Get rid of obsolete comment
------------------------------------------------------------------------
dfd46f9f | Michael Rauh | Wed, 10 Mar 2021 20:52:32 +0100

Remove unneeded sending of SIGWINCH. This is already done
by ioctl(TIOCSWINSZ)
------------------------------------------------------------------------


Version psmgmt-5.1.39-2:
========================
------------------------------------------------------------------------
963491c5 | Norbert Eicker | Tue, 9 Mar 2021 14:41:36 +0100

Streamlining
------------------------------------------------------------------------
cb0eb760 | Norbert Eicker | Tue, 9 Mar 2021 14:05:19 +0100

Fix warning emitted by gcc-11
------------------------------------------------------------------------
74f999bd | Norbert Eicker | Tue, 9 Mar 2021 13:57:42 +0100

Code simplification
------------------------------------------------------------------------
c4bba1d3 | Michael Rauh | Tue, 9 Mar 2021 12:47:14 +0100

Bugfix: fix resizing of terminal windows via TIOCSWINSZ
------------------------------------------------------------------------
8c9dfe86 | Michael Rauh | Tue, 9 Mar 2021 11:58:21 +0100

Bugfix: prevent the termination of a job/step when sending a non fatal
signal via scancel (#2885)
------------------------------------------------------------------------


Version psmgmt-5.1.39-1:
========================
------------------------------------------------------------------------
46693295 | Michael Rauh | Mon, 8 Mar 2021 10:59:22 +0100

Use address of srun instead of the submit host to setup X11
forwarding (pct:#92)
------------------------------------------------------------------------


Version psmgmt-5.1.39:
======================
------------------------------------------------------------------------
c30ca535 | Norbert Eicker | Fri, 5 Mar 2021 23:07:33 +0100

Fix warning emitted by gcc-11 and booleanize psslurmpin
------------------------------------------------------------------------
534e8e64 | Norbert Eicker | Fri, 5 Mar 2021 21:32:38 +0100

Emit more documentation on psgw plugin
------------------------------------------------------------------------
0f59c78d | Norbert Eicker | Fri, 5 Mar 2021 20:36:10 +0100

Run automake 1.16.3 again
------------------------------------------------------------------------
a1893293 | Michael Rauh | Fri, 5 Mar 2021 17:47:53 +0100

Improve comments
------------------------------------------------------------------------
94644a68 | Michael Rauh | Fri, 5 Mar 2021 16:32:01 +0100

Put currently unused RPC data fields in the corresponding structures
------------------------------------------------------------------------
99cd9352 | Michael Rauh | Fri, 5 Mar 2021 16:29:33 +0100

Add psgw option --gw_inherit

 - inherit LD_LIBRARY_PATH and every "PSP_*" variable
   from current environment
------------------------------------------------------------------------
582a4e63 | Michael Rauh | Thu, 25 Feb 2021 17:08:22 +0100

Update buildsystem
------------------------------------------------------------------------
0a5f019f | Michael Rauh | Thu, 25 Feb 2021 16:52:08 +0100

Add plugin plugin03.py to buildsystem
------------------------------------------------------------------------
444648b3 | Michael Rauh | Thu, 25 Feb 2021 16:51:23 +0100

Add psgw route plugin "plugin03.py"
------------------------------------------------------------------------
3cf49361 | Michael Rauh | Thu, 25 Feb 2021 11:57:30 +0100

Add psgw spank option --gw_debug

 - the option will execute the psgwd with PSP_DEBUG=10 set
 - the debug output is written to the submit directory in the
   form "JOB-$JOBID-psgwd-debug.out"
------------------------------------------------------------------------
4d651148 | Michael Rauh | Fri, 5 Mar 2021 12:05:23 +0100

Fix various typos
------------------------------------------------------------------------
dae704ff | Norbert Eicker | Tue, 23 Feb 2021 16:24:27 +0100

Minor fixes
------------------------------------------------------------------------
6f958881 | Norbert Eicker | Tue, 23 Feb 2021 16:23:59 +0100

Fix typos
------------------------------------------------------------------------
a6875543 | Norbert Eicker | Fri, 19 Feb 2021 02:38:52 +0100

Hide caller name from PSP_getTypedMsgBuf() calls
------------------------------------------------------------------------
5996ccf4 | Norbert Eicker | Fri, 19 Feb 2021 02:24:37 +0100

Hide caller name from PSP_[tryG|g]etMsgBuf() calls
------------------------------------------------------------------------
1447bd97 | Norbert Eicker | Fri, 19 Feb 2021 01:58:35 +0100

Hide caller name from PSP_[tryP|p]utMsgBuf() calls
------------------------------------------------------------------------
48ef1738 | Norbert Eicker | Fri, 19 Feb 2021 01:32:38 +0100

Hide caller name from PSP_[tryP|p]utTypedMsgBuf() calls
------------------------------------------------------------------------
37173f29 | Norbert Eicker | Fri, 19 Feb 2021 00:57:04 +0100

More code modernization in PSIDclient
------------------------------------------------------------------------
db5eb674 | Norbert Eicker | Thu, 18 Feb 2021 23:51:41 +0100

Avoid detour via PSIDcomm when receiving from client
------------------------------------------------------------------------
7811316f | Norbert Eicker | Thu, 18 Feb 2021 23:15:33 +0100

Avoid detour via PSIDcomm's recvMsg when receiving from RDP
------------------------------------------------------------------------
93bb69ef | Norbert Eicker | Thu, 4 Mar 2021 23:06:21 +0100

Add oldHook.c also to the list of sources
------------------------------------------------------------------------
35712475 | Michael Rauh | Thu, 4 Mar 2021 16:57:42 +0100

Fix some typos
------------------------------------------------------------------------
7adf03a4 | Norbert Eicker | Mon, 1 Mar 2021 13:52:04 +0100

Fix dependencies of oldHook testplugin
------------------------------------------------------------------------
625343dd | Norbert Eicker | Mon, 1 Mar 2021 13:29:45 +0100

Fix usage of pluginlog
------------------------------------------------------------------------
f1388701 | Norbert Eicker | Mon, 1 Mar 2021 13:19:53 +0100

Update build system
------------------------------------------------------------------------
0b370116 | Norbert Eicker | Mon, 1 Mar 2021 13:18:10 +0100

Add testplugin to check obsolete hook handling
------------------------------------------------------------------------
844c1b1e | Norbert Eicker | Thu, 25 Feb 2021 22:35:49 +0100

Introduce special handling of obsolete hooks
------------------------------------------------------------------------
2fbd12d8 | Norbert Eicker | Thu, 25 Feb 2021 22:13:29 +0100

Code modernization and streamlining
------------------------------------------------------------------------
455d4764 | Norbert Eicker | Thu, 4 Mar 2021 02:10:10 +0100

Make rpmbuild happy
------------------------------------------------------------------------
7c9a4102 | Norbert Eicker | Thu, 4 Mar 2021 00:54:12 +0100

Some renaming
------------------------------------------------------------------------
07d54556 | Michael Rauh | Wed, 3 Mar 2021 22:08:56 +0100

Fix some typos
------------------------------------------------------------------------
7095f067 | Norbert Eicker | Fri, 12 Feb 2021 00:53:52 +0100

Finally replace psidclient's non-blocking send by PSCio_sendProg()
------------------------------------------------------------------------
d975afd4 | Norbert Eicker | Thu, 11 Feb 2021 23:15:44 +0100

Booleanize PSIDclient's storeMsg()
------------------------------------------------------------------------
66c927b8 | Norbert Eicker | Thu, 11 Feb 2021 21:02:39 +0100

Favor psmom with PSCio_sendPProg(), too
------------------------------------------------------------------------
a52799cd | Norbert Eicker | Thu, 11 Feb 2021 20:13:41 +0100

Replace hand-crafted send() loops by PSCio_sendF()
------------------------------------------------------------------------
40f824c1 | Norbert Eicker | Thu, 11 Feb 2021 19:41:02 +0100

Some hand-crafted send() loops replaced by PSCio_send()
------------------------------------------------------------------------
6675f1ec | Norbert Eicker | Thu, 11 Feb 2021 18:16:43 +0100

Yet another hand-crafter write() loop replaced by PSCio_send()
------------------------------------------------------------------------
d0ea316d | Norbert Eicker | Thu, 11 Feb 2021 17:59:47 +0100

Replace another hand-crafter write() loop by PSCio_sendProg()
------------------------------------------------------------------------
6bc36082 | Norbert Eicker | Thu, 11 Feb 2021 14:58:34 +0100

Move to ssize_t as return type of send functions
------------------------------------------------------------------------
49b8f80d | Norbert Eicker | Thu, 11 Feb 2021 14:50:46 +0100

Replace hand-crafter loop over write() by PSCio_sendF()
------------------------------------------------------------------------
04301434 | Norbert Eicker | Thu, 11 Feb 2021 14:45:01 +0100

Replace hand-crafter while() write() loop by PSCio_sendF()
------------------------------------------------------------------------
ceb6da74 | Norbert Eicker | Thu, 11 Feb 2021 14:42:07 +0100

Replace PSID_writeall() by PSCio_sendF()
------------------------------------------------------------------------
ad7b341f | Norbert Eicker | Thu, 11 Feb 2021 14:32:32 +0100

Rename sendMsg() to sendLogMsg()
------------------------------------------------------------------------
0402d7e2 | Norbert Eicker | Thu, 11 Feb 2021 00:25:10 +0100

Fix whitespace
------------------------------------------------------------------------
ea08fbd0 | Norbert Eicker | Wed, 10 Feb 2021 23:28:33 +0100

Move doWrite() family to PSCio as PSCio_send()
------------------------------------------------------------------------
b288ed3c | Norbert Eicker | Wed, 10 Feb 2021 22:13:40 +0100

Introduce PSCio and move setFDblock() there
------------------------------------------------------------------------
366e3a95 | Norbert Eicker | Thu, 4 Mar 2021 00:45:33 +0100

Remove more superfluous typecasts
------------------------------------------------------------------------
14615c06 | Norbert Eicker | Wed, 3 Mar 2021 23:19:34 +0100

Remove some superfluous typecasts
------------------------------------------------------------------------
5f3dc146 | Norbert Eicker | Wed, 3 Mar 2021 22:34:21 +0100

More use of (g/l)rank instead of taskid
------------------------------------------------------------------------
bf63a403 | Michael Rauh | Wed, 3 Mar 2021 18:20:31 +0100

Remove currently unused gidNames from debug print
------------------------------------------------------------------------
c65cbe3e | Michael Rauh | Wed, 3 Mar 2021 18:16:30 +0100

Use rank instead of taskid to be more consistent
------------------------------------------------------------------------
321a359d | Norbert Eicker | Thu, 18 Feb 2021 20:49:07 +0100

Mark flog() as printf-style and fix all warnings
------------------------------------------------------------------------
def81737 | Norbert Eicker | Thu, 18 Feb 2021 20:15:33 +0100

Some coding style improvements
------------------------------------------------------------------------
65929521 | Norbert Eicker | Thu, 18 Feb 2021 01:52:44 +0100

Get rid of getLocalRankID()'s nodeID argument

 - It is always step->localNodeId
------------------------------------------------------------------------
59afb6eb | Michael Rauh | Fri, 5 Feb 2021 17:07:05 +0100

Rework global to local rank conversion
------------------------------------------------------------------------
8a6d8222 | Norbert Eicker | Wed, 3 Mar 2021 10:13:13 +0100

Fix various typos
------------------------------------------------------------------------
671a0c5f | Norbert Eicker | Tue, 2 Mar 2021 01:12:23 +0100

Merge branch 'ticket_8344'
------------------------------------------------------------------------
75e421e5 | Michael Rauh | Tue, 23 Feb 2021 17:56:03 +0100

Added missing header includes to x11spank
------------------------------------------------------------------------
3a0f2154 | Michael Rauh | Tue, 23 Feb 2021 17:52:37 +0100

Reword error message in x11spank
------------------------------------------------------------------------
adb6c819 | Michael Rauh | Tue, 23 Feb 2021 17:37:30 +0100

Update buildsystem
------------------------------------------------------------------------
ef73b066 | Michael Rauh | Tue, 23 Feb 2021 17:36:13 +0100

Separate spank_api and x11spank
------------------------------------------------------------------------
efaf6aff | Norbert Eicker | Mon, 22 Feb 2021 21:56:20 +0100

Rerun autoreconf
------------------------------------------------------------------------
53ca238e | Michael Rauh | Mon, 22 Feb 2021 19:08:21 +0100

Minor cleanup of x11spank
------------------------------------------------------------------------
4bf15b24 | Michael Rauh | Mon, 22 Feb 2021 18:12:28 +0100

Remove unused spank API calls from x11spank
------------------------------------------------------------------------
7ae2cc60 | Michael Rauh | Mon, 22 Feb 2021 18:09:47 +0100

Format x11spank with psmgmt indentation
------------------------------------------------------------------------
677dfaca | Michael Rauh | Mon, 22 Feb 2021 17:56:52 +0100

Improve error handling and logging
------------------------------------------------------------------------
1166f522 | Michael Rauh | Mon, 22 Feb 2021 16:56:54 +0100

Update buildsystem
------------------------------------------------------------------------
d242e08f | Michael Rauh | Mon, 22 Feb 2021 16:56:04 +0100

Add x11spank to buildsystem
------------------------------------------------------------------------
1ec9afe9 | Michael Rauh | Mon, 22 Feb 2021 16:38:52 +0100

Fix compiler warnings and minor cleanup
------------------------------------------------------------------------
cbe2a8b5 | Michael Rauh | Mon, 22 Feb 2021 16:25:59 +0100

Add spank module for Slurm X11 forwarding
------------------------------------------------------------------------
3ca934db | Michael Rauh | Wed, 24 Feb 2021 17:27:41 +0100

Bugfix: test psgwd binary as user not root
------------------------------------------------------------------------
88e70742 | Michael Rauh | Wed, 24 Feb 2021 17:05:20 +0100

Bugfix: psslurm should not wait for a failed psgw prologue that never
fully started
------------------------------------------------------------------------
1c9a089b | Norbert Eicker | Tue, 23 Feb 2021 19:42:22 +0100

Merge branch 'psslurmAuth'
------------------------------------------------------------------------
833a8ea7 | Norbert Eicker | Mon, 22 Feb 2021 14:04:21 +0100

Revert config logic of test plugin
------------------------------------------------------------------------


Version psmgmt-5.1.38-3:
========================
------------------------------------------------------------------------
8ba49b57 | Norbert Eicker | Tue, 2 Mar 2021 01:07:18 +0100

Add warnings in docu when putting back items
------------------------------------------------------------------------
989647e7 | Norbert Eicker | Tue, 2 Mar 2021 00:54:41 +0100

Bugfix: Do no put reservation still in list (jwt:#8344)
------------------------------------------------------------------------


Version psmgmt-5.1.38-2:
========================
------------------------------------------------------------------------
6bd4f887 | Michael Rauh | Tue, 23 Feb 2021 19:12:35 +0100

Re-add support for Slurm 18.08 authentication
------------------------------------------------------------------------


Version psmgmt-5.1.38-1:
========================
------------------------------------------------------------------------
503c9c78 | Norbert Eicker | Thu, 18 Feb 2021 18:59:33 +0100

Fill proto-version cache prior to spawn requests
------------------------------------------------------------------------
6950566a | Norbert Eicker | Thu, 18 Feb 2021 18:13:51 +0100

Fix format of various PSI_log() output
------------------------------------------------------------------------


Version psmgmt-5.1.38:
======================
------------------------------------------------------------------------
686b3b91 | Norbert Eicker | Tue, 16 Feb 2021 22:16:23 +0100

Add psconfig support to fakenode plugin
------------------------------------------------------------------------
96c33bd5 | Norbert Eicker | Tue, 16 Feb 2021 22:13:43 +0100

Make key reference const where appropriate in pluginpsconfig
------------------------------------------------------------------------
b0d20d3e | Norbert Eicker | Tue, 16 Feb 2021 14:17:08 +0100

Make delay between starting nodes configurable
------------------------------------------------------------------------
dae6d2d8 | Norbert Eicker | Tue, 16 Feb 2021 14:15:52 +0100

Introduce PSPARM_uintSet to handle unsigned parameters in psiadmin
------------------------------------------------------------------------
9c795a22 | Norbert Eicker | Tue, 16 Feb 2021 13:52:21 +0100

Fix/update documentation comments
------------------------------------------------------------------------
bce8676d | Norbert Eicker | Tue, 16 Feb 2021 01:31:55 +0100

Bugfix: nodeinfo message type only contains LSB
------------------------------------------------------------------------
1cf74399 | Norbert Eicker | Wed, 10 Feb 2021 20:59:42 +0100

Keep distances allocated when handing them out
------------------------------------------------------------------------
541a2664 | Norbert Eicker | Wed, 10 Feb 2021 09:46:24 +0100

Add JURECA-DC standard node topologies
------------------------------------------------------------------------
731db3fb | Norbert Eicker | Tue, 9 Feb 2021 21:40:31 +0100

Introduce PSIDnodes_distance()
------------------------------------------------------------------------
c24a19f4 | Norbert Eicker | Mon, 8 Feb 2021 23:04:35 +0100

Update core/HW-thread info after loading fake topology
------------------------------------------------------------------------
c3696204 | Norbert Eicker | Mon, 8 Feb 2021 23:03:42 +0100

Minor cleanup and improvements
------------------------------------------------------------------------
aa2a72b9 | Norbert Eicker | Mon, 8 Feb 2021 23:02:38 +0100

Remove obsolete @todo from comment
------------------------------------------------------------------------
5e20db60 | Norbert Eicker | Mon, 8 Feb 2021 21:12:37 +0100

Bugfix: Check for the actual topology file
------------------------------------------------------------------------
c127b5c5 | Norbert Eicker | Mon, 8 Feb 2021 20:47:42 +0100

Fix nodeinfo's help message
------------------------------------------------------------------------
2cb05039 | Norbert Eicker | Mon, 8 Feb 2021 20:44:00 +0100

Fix naming of topology file and allow absolute path
------------------------------------------------------------------------
c2622a2e | Norbert Eicker | Fri, 5 Feb 2021 23:11:14 +0100

Add fakenode plugin and make it available in testplugins
------------------------------------------------------------------------
22be70ef | Norbert Eicker | Thu, 4 Feb 2021 14:18:51 +0100

Cleanup Makefile.sources and remove obsolete stuff
------------------------------------------------------------------------
b73a4bbd | Norbert Eicker | Thu, 4 Feb 2021 10:28:19 +0100

Create new sub-RPM w/ plugins for test and debug
------------------------------------------------------------------------
10d62023 | Norbert Eicker | Fri, 5 Feb 2021 21:38:00 +0100

More distance related stuff for nodeinfo
------------------------------------------------------------------------
2e891711 | Norbert Eicker | Fri, 5 Feb 2021 21:07:35 +0100

Add handling of distance data to nodeinfo
------------------------------------------------------------------------
41c7f085 | Norbert Eicker | Fri, 5 Feb 2021 17:17:26 +0100

Add v1.11 code to getDistances()
------------------------------------------------------------------------
a9a12450 | Norbert Eicker | Fri, 5 Feb 2021 15:46:29 +0100

Implement detection of distances via hwloc (v2.x only)
------------------------------------------------------------------------
86806af4 | Norbert Eicker | Fri, 5 Feb 2021 15:40:37 +0100

Enable PSIDnodes to store distance matrices
------------------------------------------------------------------------
5b90dc6d | Norbert Eicker | Fri, 5 Feb 2021 02:25:03 +0100

Some more hwloc XML files for KNL now recorded with v2.4
------------------------------------------------------------------------
eea55c51 | Norbert Eicker | Fri, 5 Feb 2021 02:19:21 +0100

Actually activate re-initialization in PSIDhw_reInit()
------------------------------------------------------------------------
b94ed4f5 | Norbert Eicker | Wed, 3 Feb 2021 16:37:58 +0100

Provide a lever to re-initialize HW detection

 - Push nodeinfo's version to 2
------------------------------------------------------------------------
2ac719b1 | Norbert Eicker | Wed, 3 Feb 2021 14:58:35 +0100

Rework psidhw's API and introduce PSIDhw_reInit()
------------------------------------------------------------------------
a421352c | Norbert Eicker | Fri, 12 Feb 2021 16:40:52 +0100

Remove obsolete PSIDHOOK_FRWRD_CINFO
------------------------------------------------------------------------
ec7c579e | Norbert Eicker | Fri, 12 Feb 2021 16:01:29 +0100

Fix yet another potential byte-order conflict
------------------------------------------------------------------------
7e9e6862 | Norbert Eicker | Fri, 12 Feb 2021 15:36:14 +0100

Fix documentation comment
------------------------------------------------------------------------
09da42fc | Norbert Eicker | Fri, 12 Feb 2021 15:35:17 +0100

Bugfix: correct just introduced false indirection
------------------------------------------------------------------------
fd02ecac | Norbert Eicker | Thu, 11 Feb 2021 13:07:22 +0100

Do not use byte-order aware fetch if sender does not
------------------------------------------------------------------------
81913e68 | Norbert Eicker | Wed, 10 Feb 2021 20:34:23 +0100

Ensure psaccount has a proc pool in forwarders
------------------------------------------------------------------------
23593c44 | Michael Rauh | Wed, 10 Feb 2021 19:00:03 +0100

Show caller of PSitems_getItem() in error messages
------------------------------------------------------------------------
103a7bbe | Michael Rauh | Wed, 10 Feb 2021 16:47:29 +0100

Fix typo
------------------------------------------------------------------------
ca92dde5 | Norbert Eicker | Fri, 29 Jan 2021 13:45:08 +0100

Enhance statistics reports for all users of PSitems
------------------------------------------------------------------------
41525969 | Norbert Eicker | Fri, 29 Jan 2021 13:18:50 +0100

Introduce basic statistics in PSitems
------------------------------------------------------------------------
911e669b | Norbert Eicker | Thu, 28 Jan 2021 22:15:25 +0100

Start refactoring of psidforwarder
------------------------------------------------------------------------
10422354 | Norbert Eicker | Thu, 28 Jan 2021 22:04:46 +0100

Minor refactoring
------------------------------------------------------------------------
6db440e5 | Norbert Eicker | Thu, 28 Jan 2021 22:00:02 +0100

Improve documentation comments
------------------------------------------------------------------------
d2141cab | Norbert Eicker | Wed, 27 Jan 2021 12:24:02 +0100

Remove obsolete PSIDHOOK_FRWRD_DSOCK
------------------------------------------------------------------------
2212fde4 | Norbert Eicker | Wed, 27 Jan 2021 12:18:57 +0100

Use sendDaemonMsg() from within psaccount plugin

 - This obsoletes PSIDHOOK_FRWRD_DSOCK
------------------------------------------------------------------------
bfb6191e | Norbert Eicker | Wed, 27 Jan 2021 10:59:41 +0100

Utilize doWriteF() in psidforwarder's sendDaemonMsg()
------------------------------------------------------------------------
0ad19d99 | Norbert Eicker | Wed, 27 Jan 2021 10:57:40 +0100

Ensure correct errno in doRead()/doWrite() family
------------------------------------------------------------------------
6bfc751c | Norbert Eicker | Wed, 27 Jan 2021 00:23:56 +0100

Clear PSIDcomm's memory in PSID_clearMem()
------------------------------------------------------------------------
f34e8261 | Norbert Eicker | Wed, 27 Jan 2021 00:23:07 +0100

Refactor PSIDcomm to make use of PSitems
------------------------------------------------------------------------
5e570132 | Norbert Eicker | Tue, 26 Jan 2021 13:46:00 +0100

Enable PSitems to use chunks smaller than 128 kB
------------------------------------------------------------------------
9f774336 | Norbert Eicker | Mon, 25 Jan 2021 23:39:53 +0100

Rework psitems' API to make it more opaque
------------------------------------------------------------------------
bb92952f | Norbert Eicker | Mon, 25 Jan 2021 23:32:14 +0100

Add includes for missing headers
------------------------------------------------------------------------
8acbca0d | Norbert Eicker | Mon, 25 Jan 2021 23:20:46 +0100

Fix whitespace
------------------------------------------------------------------------
1d4fe241 | Norbert Eicker | Mon, 25 Jan 2021 22:22:27 +0100

Fix typo
------------------------------------------------------------------------
d95da52e | Norbert Eicker | Mon, 25 Jan 2021 21:04:58 +0100

Move fragment header fetching into fetchFragHeader()
------------------------------------------------------------------------


Version psmgmt-5.1.37:
======================
------------------------------------------------------------------------
f3290869 | Michael Rauh | Wed, 10 Feb 2021 15:30:37 +0100

Bugfix: fix GRes step credential unpacking
------------------------------------------------------------------------
54ed2a26 | Michael Rauh | Tue, 2 Feb 2021 12:16:17 +0100

Fix reading of packTaskCounts for 20.11
------------------------------------------------------------------------
88d46fa0 | Michael Rauh | Fri, 22 Jan 2021 11:41:53 +0100

Add protocol version comment
------------------------------------------------------------------------
5157ccd6 | Michael Rauh | Thu, 21 Jan 2021 17:29:43 +0100

Add additional warning if a Slurm RPC has an invalid
authentication
------------------------------------------------------------------------
17d84987 | Michael Rauh | Thu, 21 Jan 2021 13:59:42 +0100

Remove obsolete sanity check in unpackReqBatchJobLaunch()
------------------------------------------------------------------------
d7e4e402 | Michael Rauh | Thu, 21 Jan 2021 13:42:27 +0100

Prevent possible segfault if a Slurm RPC has a broken
authentication
------------------------------------------------------------------------
719d36af | Michael Rauh | Mon, 11 Jan 2021 17:01:00 +0100

Mark removed RPCs in Slurm 20.11
------------------------------------------------------------------------
8e08dacf | Michael Rauh | Thu, 7 Jan 2021 16:45:44 +0100

Update Slurm 20.11 RPC calls
------------------------------------------------------------------------
488f6b3b | Michael Rauh | Mon, 7 Dec 2020 15:47:48 +0100

Move unpacking of Slurm message header to psslurmpack.c
------------------------------------------------------------------------
dfee81ee | Michael Rauh | Wed, 25 Nov 2020 17:21:07 +0100

Add documentation to node registration structure
------------------------------------------------------------------------
c4e72c81 | Michael Rauh | Wed, 25 Nov 2020 12:42:51 +0100

Add new step ID definitions
------------------------------------------------------------------------
fcadb75f | Michael Rauh | Mon, 23 Nov 2020 15:15:34 +0100

Add 20.11 protocol definition and drop 18.08 support
------------------------------------------------------------------------
240cdc78 | Norbert Eicker | Thu, 11 Feb 2021 13:13:36 +0100

Bugfix: Remove false indirection
------------------------------------------------------------------------
9558fce6 | Michael Rauh | Thu, 11 Feb 2021 12:53:42 +0100

Bugfix: fix invalid call to pskill() in pluginforwarder
------------------------------------------------------------------------
4bea3c95 | Norbert Eicker | Sun, 7 Feb 2021 19:37:50 +0000

Merge branch 'fix_implicit_decl' into 'master'

`toLong` is used also when psconfig support is disabled.

See merge request parastation/psmgmt!3
------------------------------------------------------------------------
c1fc6ebb | Thomas Moschny | Sat, 6 Feb 2021 13:16:20 +0100

`toLong` is used also when psconfig support is disabled.

Therefore, move it outside of #ifndef BUILD_WITHOUT_PSCONFIG.
------------------------------------------------------------------------
a3290ab5 | Norbert Eicker | Wed, 3 Feb 2021 23:32:14 +0100

Merge branch 'psroute' again
------------------------------------------------------------------------
3011c61a | Norbert Eicker | Wed, 3 Feb 2021 17:55:26 +0100

Merge branch 'psroute'
------------------------------------------------------------------------
242ca835 | Norbert Eicker | Wed, 3 Feb 2021 13:19:58 +0100

Add more hwloc XML files for KNL
------------------------------------------------------------------------
c218725e | Norbert Eicker | Fri, 29 Jan 2021 16:18:28 +0100

Merge branch 'ticket-jw-7902'
------------------------------------------------------------------------
933a820f | Norbert Eicker | Wed, 27 Jan 2021 19:38:36 +0100

Push all generated files back to automake 1.16.3
------------------------------------------------------------------------
74ee0e12 | Michael Rauh | Wed, 27 Jan 2021 18:56:25 +0100

Update buildsystem
------------------------------------------------------------------------
04de5a7d | Michael Rauh | Wed, 27 Jan 2021 18:55:44 +0100

Install psgw.conf as config file in rpm
------------------------------------------------------------------------
5a686209 | Michael Rauh | Wed, 27 Jan 2021 18:04:48 +0100

Update buildsystem
------------------------------------------------------------------------
b7792deb | Michael Rauh | Wed, 27 Jan 2021 18:02:48 +0100

Install psslurm.conf as config file in rpm
------------------------------------------------------------------------
fa634022 | Michael Rauh | Wed, 27 Jan 2021 16:11:25 +0100

Improve ping request log message
------------------------------------------------------------------------
964c27bb | Michael Rauh | Tue, 26 Jan 2021 13:38:06 +0100

Allow psslurm to start without psslurm.conf

 - since the Slurm protocol version can be detected automatically
   there is no more reason to have a mandatory psslurm.conf
------------------------------------------------------------------------
d8b53e7a | Michael Rauh | Mon, 25 Jan 2021 17:27:38 +0100

Bugfix: prevent double entry of killSession() which can lead to
 an endless loop in pluginforwarder
------------------------------------------------------------------------
63e69414 | Stephan Krempel | Mon, 25 Jan 2021 13:21:19 +0100

pspmix: Add sources of pspmix mpi plugin for Slurm
------------------------------------------------------------------------


Version psmgmt-5.1.36-3:
========================
------------------------------------------------------------------------
bc19fe84 | Norbert Eicker | Wed, 3 Feb 2021 21:04:08 +0100

Fix building on CentOS 8
------------------------------------------------------------------------


Version psmgmt-5.1.36-2:
========================
------------------------------------------------------------------------
1dcf3e00 | Norbert Eicker | Wed, 3 Feb 2021 17:38:29 +0100

Adapt to automake 1.16.3 and fix typos in comments
------------------------------------------------------------------------
bf6fd918 | Michael Rauh | Wed, 3 Feb 2021 14:48:26 +0100

Update buildsystem
------------------------------------------------------------------------
f1cbe19e | Michael Rauh | Wed, 3 Feb 2021 14:42:32 +0100

Replace name compression/expansion code in gateway
routing generation

 - removes ClusterShell dependency of psroute
 - compatible with version python2
------------------------------------------------------------------------


Version psmgmt-5.1.36-1:
========================
------------------------------------------------------------------------
fe3f5e21 | Michael Rauh | Fri, 29 Jan 2021 11:15:29 +0100

Fix compiler warning
------------------------------------------------------------------------
a4449603 | Stephan Krempel | Thu, 28 Jan 2021 18:39:42 +0100

psslurmpin: Catch bad value for local rank ID in memory binding
------------------------------------------------------------------------
b8ebb7d4 | Michael Rauh | Thu, 28 Jan 2021 18:35:04 +0100

Bugfix: fix possible segfault when using GRes in combination with
job packs (juwels:#7902)
------------------------------------------------------------------------


Version psmgmt-5.1.36:
======================
------------------------------------------------------------------------
090a8c26 | Norbert Eicker | Fri, 22 Jan 2021 12:32:23 +0100

Consider fragment's extra header everywhere
------------------------------------------------------------------------
778c1954 | Norbert Eicker | Wed, 20 Jan 2021 21:59:34 +0100

Move protocol version info into DAEMON[CONNECT|ESTABLISHED]

 - This is required to ensure compatibility in PSIDHOOK_NODE_UP
 - Also check if the cluster became homogeneous when node leaves
------------------------------------------------------------------------
f1c40641 | Norbert Eicker | Wed, 20 Jan 2021 21:17:38 +0100

Fix typos
------------------------------------------------------------------------
3e6f8109 | Norbert Eicker | Wed, 20 Jan 2021 21:16:20 +0100

Bugfix: Ensure 'all' nodes are accepted
------------------------------------------------------------------------
c2a9afcb | Norbert Eicker | Wed, 20 Jan 2021 19:39:39 +0100

Pre-preparation for the next release
------------------------------------------------------------------------
0e368a4b | Norbert Eicker | Wed, 20 Jan 2021 19:26:02 +0100

Make mixed protocol usage visible in psiadmin
------------------------------------------------------------------------
64f387c2 | Norbert Eicker | Tue, 19 Jan 2021 23:32:59 +0100

Minor bugfixes and improvements
------------------------------------------------------------------------
08b471b1 | Norbert Eicker | Tue, 19 Jan 2021 00:44:19 +0100

Enable psserial to send extra data with each fragment
------------------------------------------------------------------------
2c6d6d7a | Norbert Eicker | Mon, 18 Jan 2021 23:22:25 +0100

Make use of PSI_protocolVersion() during spawn
------------------------------------------------------------------------
ca3b1d46 | Norbert Eicker | Mon, 18 Jan 2021 23:18:31 +0100

Implement fully cached PSI_protocolVersion()
------------------------------------------------------------------------
f09ae27e | Norbert Eicker | Mon, 18 Jan 2021 20:12:44 +0100

Push info on mixed protocol use to clients
------------------------------------------------------------------------
d48477ee | Norbert Eicker | Mon, 18 Jan 2021 19:09:55 +0100

Remove obsolete PSI_getPsidVersion() and PSP_INFO_DAEMONVER
------------------------------------------------------------------------
03f7fc9c | Norbert Eicker | Mon, 18 Jan 2021 18:53:12 +0100

Track mixed protocol setup in the cluster
------------------------------------------------------------------------
26f6e704 | Norbert Eicker | Tue, 19 Jan 2021 23:38:50 +0100

Fix typo and optimized documentation comment
------------------------------------------------------------------------
efec164f | Norbert Eicker | Tue, 19 Jan 2021 23:37:00 +0100

Fix copyright in autoconf generated Makefile.in
------------------------------------------------------------------------
0419142d | Norbert Eicker | Wed, 13 Jan 2021 02:30:59 +0100

Drop unused PSIDnodes_[setA|a]cctPollI()
------------------------------------------------------------------------
16808859 | Norbert Eicker | Wed, 13 Jan 2021 02:29:45 +0100

Drop support for accountPoll in parastation.conf (#2513)
------------------------------------------------------------------------
6c97b8ce | Norbert Eicker | Wed, 13 Jan 2021 02:19:50 +0100

Drop support for AccountPollInterval in psconfig (#2513)
------------------------------------------------------------------------
4f073e85 | Norbert Eicker | Wed, 13 Jan 2021 02:38:36 +0100

Drop PSP_OP_ACCTPOLL from protocol. Push version to 343
------------------------------------------------------------------------
fc49c100 | Norbert Eicker | Wed, 13 Jan 2021 02:09:27 +0100

Drop support for accountpoll from psiadmin (#2513)
------------------------------------------------------------------------
23036d96 | Norbert Eicker | Wed, 13 Jan 2021 02:07:34 +0100

Utilize psaccount's new API for poll from psslurm and psmom
------------------------------------------------------------------------
18b65b9e | Norbert Eicker | Wed, 13 Jan 2021 02:04:55 +0100

Provide API to steer psaccount's poll interval from plugins

 - push psaccount's version to 29
------------------------------------------------------------------------
e184c197 | Norbert Eicker | Wed, 13 Jan 2021 01:42:21 +0100

Use POLL_INTERVAL to steers psaccount's polling (#2513)
------------------------------------------------------------------------
eaacf24a | Norbert Eicker | Wed, 13 Jan 2021 01:14:03 +0100

Add config parameter POLL_INTERVAL to psaccount
------------------------------------------------------------------------
21dea359 | Norbert Eicker | Tue, 12 Jan 2021 12:55:39 +0100

Remove obsolete parameter TIME_JOBSTART_POLL from definition
------------------------------------------------------------------------
e64b16b2 | Norbert Eicker | Tue, 19 Jan 2021 18:04:57 +0100

Get rid of psh (more recent version in pscluster RPM)
------------------------------------------------------------------------
f114ff78 | Norbert Eicker | Tue, 19 Jan 2021 17:12:58 +0100

Add NVIDIA V100-SXM2 (JUWELS GPU nodes) to nodeinfo's default
------------------------------------------------------------------------
755dd63c | Stephan Krempel | Tue, 19 Jan 2021 12:04:18 +0100

List new hwloc xml file in ReadMe
------------------------------------------------------------------------
b1fb1e1f | Stephan Krempel | Tue, 19 Jan 2021 12:02:27 +0100

Add Juwels Cluster GPU node hardware description (hwloc xml file)
------------------------------------------------------------------------
cb2003a8 | Norbert Eicker | Wed, 13 Jan 2021 19:39:39 +0100

Apply improvements suggested by S. Krempel in (#2863 comment:8)
------------------------------------------------------------------------
86e24b7a | Norbert Eicker | Mon, 11 Jan 2021 02:06:46 +0100

Improve description of nodeinfo plugin
------------------------------------------------------------------------
b4c1dd09 | Norbert Eicker | Fri, 8 Jan 2021 17:52:04 +0100

Add README.nodeinfo to describe nodeinfo plugin's functionality
------------------------------------------------------------------------
146a2ab6 | Norbert Eicker | Fri, 8 Jan 2021 03:23:21 +0100

Push automake to 1.16.3
------------------------------------------------------------------------
844907f1 | Norbert Eicker | Fri, 8 Jan 2021 02:55:22 +0100

Add psconfig stubs for nodeinfo plugin's configuration
------------------------------------------------------------------------
7b88d92c | Norbert Eicker | Fri, 8 Jan 2021 01:49:31 +0100

Ensure PCIe IDs are fully initialized plus minor changes
------------------------------------------------------------------------
c6b27633 | Norbert Eicker | Fri, 8 Jan 2021 01:09:49 +0100

Add hint to HWLOC_XMLFILE environment
------------------------------------------------------------------------
26cb376e | Norbert Eicker | Fri, 8 Jan 2021 00:11:51 +0100

Make PCIe IDs and sort order configurable via nodeinfo plugin
------------------------------------------------------------------------
24cefead | Norbert Eicker | Thu, 7 Jan 2021 21:41:26 +0100

Make PSID_getNumPCIDevs() and PSID_getPCISets() public

 - bump pluginAPIVersion to 130
------------------------------------------------------------------------
bc96ae48 | Norbert Eicker | Thu, 7 Jan 2021 20:00:16 +0100

Adapt nodeinfo plugin to pluginpsconfig
------------------------------------------------------------------------
9e5e5f0a | Norbert Eicker | Thu, 7 Jan 2021 19:53:36 +0100

Utilize pluginConfig_helpDesc()
------------------------------------------------------------------------
0867e892 | Norbert Eicker | Thu, 7 Jan 2021 19:33:04 +0100

Introduce finalizeNodeInfoLogger() and reflect the pluginlogger
------------------------------------------------------------------------
34d6c39b | Norbert Eicker | Thu, 7 Jan 2021 19:26:06 +0100

Introduce pluginConfig_helpDesc()
------------------------------------------------------------------------
06b35c4c | Norbert Eicker | Thu, 7 Jan 2021 10:13:46 +0100

pluginpsconfig.h needs pluginmalloc.h for StrBuffer_t
------------------------------------------------------------------------
24611fea | Norbert Eicker | Wed, 6 Jan 2021 02:30:34 +0100

Adapt to pluginpsconfig changes and bugfixing
------------------------------------------------------------------------
cb1e3838 | Norbert Eicker | Wed, 6 Jan 2021 02:29:56 +0100

Add pluginConfig_showKeyVal()
------------------------------------------------------------------------
7bb313fa | Norbert Eicker | Wed, 6 Jan 2021 01:57:52 +0100

Lots of bugfixes and extensions
------------------------------------------------------------------------
3168946f | Norbert Eicker | Wed, 6 Jan 2021 01:42:41 +0100

Relax demand of addStrBuf() et al. on parameters
------------------------------------------------------------------------
48102248 | Norbert Eicker | Tue, 5 Jan 2021 21:01:14 +0100

Fix test-plugins build dependencies
------------------------------------------------------------------------
e35dfa86 | Norbert Eicker | Tue, 5 Jan 2021 14:13:39 +0100

Fix typo
------------------------------------------------------------------------
649afb68 | Norbert Eicker | Mon, 4 Jan 2021 19:19:10 +0100

Update documentation
------------------------------------------------------------------------
8ac103f7 | Norbert Eicker | Fri, 18 Dec 2020 14:16:46 +0100

Further improvments

 - Add pluginConfig_addStr() and pluginConfig_addToLst()
------------------------------------------------------------------------
8967b3c1 | Norbert Eicker | Fri, 18 Dec 2020 00:31:12 +0100

Actually implement pluginConfig_load()
------------------------------------------------------------------------
138e47b7 | Norbert Eicker | Thu, 17 Dec 2020 16:35:53 +0100

Adapt test-plugin to API changes
------------------------------------------------------------------------
3f62d506 | Norbert Eicker | Thu, 17 Dec 2020 16:34:43 +0100

Refine pluginpsconfig's API

 - Get rid of default values since these are handle in psconfig
 - More refines
 - Update documentation
------------------------------------------------------------------------
7d400ba6 | Norbert Eicker | Tue, 8 Dec 2020 22:25:50 +0100

Start actual integration with psconfig
------------------------------------------------------------------------
76f6c675 | Norbert Eicker | Tue, 8 Dec 2020 01:11:19 +0100

Add sketchy test plugin for pluginpsconfig
------------------------------------------------------------------------
932ac222 | Norbert Eicker | Tue, 8 Dec 2020 01:10:26 +0100

First sketch of pluginpsconfig -- at least it compiles
------------------------------------------------------------------------
4c333c78 | Norbert Eicker | Tue, 8 Dec 2020 00:58:01 +0100

Fix typos in docu comments
------------------------------------------------------------------------
e7d3ebef | Norbert Eicker | Wed, 13 Jan 2021 21:06:31 +0100

Bugfix: Ensure fwdata is available to forward PMIx msg (jwt:#7750)
------------------------------------------------------------------------
e832f8c6 | Norbert Eicker | Mon, 11 Jan 2021 20:57:43 +0100

Minor improvements
------------------------------------------------------------------------
3590bdbb | Michael Rauh | Mon, 11 Jan 2021 12:03:02 +0100

Enhancement: warn about a slow name resolver (#2872)

 - a warning is issued for ever host which takes 1 second or
   longer to resolve
 - implemented in getNodeIDbyName() so every plugin using the
   pluginhelper function will benefit
------------------------------------------------------------------------
b46d036d | Norbert Eicker | Fri, 8 Jan 2021 23:30:38 +0100

Move pspelogue into main RPM (no direct relation to psslurm plugin)
------------------------------------------------------------------------
94f48565 | Norbert Eicker | Thu, 7 Jan 2021 00:59:20 +0100

Ensure GError *err is reset when calling psconfig
------------------------------------------------------------------------
7f278c64 | Norbert Eicker | Wed, 6 Jan 2021 23:29:41 +0100

Minor changes
------------------------------------------------------------------------
3224014a | Norbert Eicker | Wed, 6 Jan 2021 22:50:15 +0100

Booleanize PSIDnodes_register()
------------------------------------------------------------------------
4909ef96 | Norbert Eicker | Thu, 3 Dec 2020 22:33:28 +0100

Booleanize and streamline RDP
------------------------------------------------------------------------
179bb9bc | Norbert Eicker | Thu, 3 Dec 2020 22:23:36 +0100

Remove obsolete test since nodes grow dynamically
------------------------------------------------------------------------
d6c77ee1 | Norbert Eicker | Thu, 3 Dec 2020 22:20:27 +0100

clearEnv() not needed since never filled here
------------------------------------------------------------------------
064b8208 | Norbert Eicker | Thu, 3 Dec 2020 22:15:03 +0100

Major booleanization of psconfig_parsing
------------------------------------------------------------------------
94a9cdfa | Norbert Eicker | Thu, 3 Dec 2020 21:42:18 +0100

Bugfix: fix error handling in psconfig parsing
------------------------------------------------------------------------
59afdfbf | Norbert Eicker | Thu, 3 Dec 2020 18:53:14 +0100

Bugfix: Take all HW environment into account
------------------------------------------------------------------------
9730e725 | Norbert Eicker | Thu, 3 Dec 2020 17:39:36 +0100

Booleanize getBool()
------------------------------------------------------------------------
e1f2cd10 | Norbert Eicker | Thu, 3 Dec 2020 16:38:15 +0100

Fix yet another memory leak and use more stack variables
------------------------------------------------------------------------
c0ae68c5 | Norbert Eicker | Thu, 3 Dec 2020 16:29:11 +0100

Switch logic of getString()'s return value and fix more memory leaks
------------------------------------------------------------------------
ff3fd88a | Norbert Eicker | Thu, 3 Dec 2020 16:15:17 +0100

Fix memory leak
------------------------------------------------------------------------
fe3a5a9d | Norbert Eicker | Wed, 6 Jan 2021 21:41:13 +0100

Make nodelist hash independent of order
------------------------------------------------------------------------
d18b0aa0 | Norbert Eicker | Wed, 6 Jan 2021 18:40:54 +0100

Fix summary calculation rework
------------------------------------------------------------------------
ad6b6a03 | Norbert Eicker | Wed, 6 Jan 2021 18:40:14 +0100

Add documentation
------------------------------------------------------------------------
159738ec | Norbert Eicker | Tue, 29 Dec 2020 00:38:35 +0100

Rework calculation of summary
------------------------------------------------------------------------
98799a4e | Norbert Eicker | Tue, 29 Dec 2020 00:11:45 +0100

More rigorous renaming towards nodelist hash
------------------------------------------------------------------------
d60d4255 | Michael Rauh | Tue, 22 Dec 2020 15:35:23 +0100

Rename config hash to node hash
------------------------------------------------------------------------
628a14fb | Michael Rauh | Tue, 22 Dec 2020 15:33:05 +0100

Display configuration hash in psiadmin "list summary" command
------------------------------------------------------------------------
76101900 | Norbert Eicker | Mon, 21 Dec 2020 14:41:47 +0100

Minor improvements
------------------------------------------------------------------------
d2d47aee | Michael Rauh | Fri, 18 Dec 2020 17:24:28 +0100

Add PSP_OP_CONFIG_HASH to display configuration hash in
psiadmin command "list version" (#2870)
------------------------------------------------------------------------


Version psmgmt-5.1.35-1:
========================
------------------------------------------------------------------------
14473429 | Norbert Eicker | Tue, 5 Jan 2021 17:59:32 +0100

Be more specific concerning version dependencies
------------------------------------------------------------------------
186d434a | Norbert Eicker | Tue, 5 Jan 2021 17:49:09 +0100

Rename -spank to -slurmutils and add psslurmgetbind
------------------------------------------------------------------------
ebc69084 | Norbert Eicker | Tue, 29 Dec 2020 00:47:41 +0100

Fix typos
------------------------------------------------------------------------
dc07824a | Norbert Eicker | Mon, 21 Dec 2020 15:04:23 +0100

Bugfix: Prevent syslog for nodeinfo plugin (#2871)
------------------------------------------------------------------------
cd065817 | Norbert Eicker | Mon, 21 Dec 2020 15:01:26 +0100

Fix typo
------------------------------------------------------------------------
7d7efb9b | Stephan Krempel | Fri, 18 Dec 2020 15:51:04 +0100

Pinning: Do not set GPU pinning variables if no GPUs are assigned
------------------------------------------------------------------------
b5cb6c24 | Stephan Krempel | Fri, 18 Dec 2020 14:23:59 +0100

Pinning: Fix debugging output for not by 8 divisible thread counts
------------------------------------------------------------------------
65610437 | Stephan Krempel | Thu, 17 Dec 2020 11:25:39 +0100

Add Jusuf GPU (V100 PCIe 16GB) to PCI ID list
------------------------------------------------------------------------
2b63d89b | Stephan Krempel | Thu, 17 Dec 2020 11:18:27 +0100

Print only existing hardware threads in PSID_CPU_PINNING
------------------------------------------------------------------------
b2b219aa | Norbert Eicker | Wed, 16 Dec 2020 21:18:15 +0100

Also add JUSUF standard node configuration
------------------------------------------------------------------------
24b00a42 | Stephan Krempel | Wed, 16 Dec 2020 13:42:38 +0100

Add Jusuf node hardware description (hwloc xml file)
------------------------------------------------------------------------
15ca6480 | Michael Rauh | Tue, 15 Dec 2020 15:41:58 +0100

Remove outdated version of psslurm regression tests
------------------------------------------------------------------------
6437a4c9 | Norbert Eicker | Mon, 14 Dec 2020 20:50:05 +0100

Redistribute spank stuff over main, psslurm and spank sub-packages
------------------------------------------------------------------------
38a765ba | Michael Rauh | Mon, 14 Dec 2020 17:11:20 +0100

Bugfix: fix compilation without spank support
------------------------------------------------------------------------
b8bd3ff4 | Stephan Krempel | Mon, 14 Dec 2020 13:42:45 +0100

Add Juropa 3 GPU node hardware description (hwloc xml file)
------------------------------------------------------------------------


Version psmgmt-5.1.35:
======================
------------------------------------------------------------------------
6f7d0c93 | Norbert Eicker | Fri, 11 Dec 2020 17:06:46 +0100

Merge branch '5.1.34' again
------------------------------------------------------------------------
543c8be3 | Norbert Eicker | Fri, 11 Dec 2020 17:05:33 +0100

Update build recipe
------------------------------------------------------------------------
04544993 | Norbert Eicker | Thu, 10 Dec 2020 16:29:18 +0100

Fix typo
------------------------------------------------------------------------
07d4be2e | Stephan Krempel | Thu, 10 Dec 2020 15:47:33 +0100

psslurm: Fix memory leak
------------------------------------------------------------------------
46da56f6 | Stephan Krempel | Thu, 10 Dec 2020 15:34:18 +0100

Pinning: Reduce complexity of building list of close GPUs
------------------------------------------------------------------------
5474c3b7 | Stephan Krempel | Thu, 10 Dec 2020 14:55:41 +0100

Respect __PSI_CPUMAP in GPU pinning, too
------------------------------------------------------------------------
917ff3a4 | Norbert Eicker | Thu, 10 Dec 2020 08:10:07 +0100

Add plugin-dependency psslurm->nodeinfo
------------------------------------------------------------------------
e7da3ab5 | Norbert Eicker | Wed, 9 Dec 2020 21:28:00 +0100

Use PSID_LOG_SPAWN throughout psidpin
------------------------------------------------------------------------
49edc29d | Norbert Eicker | Wed, 9 Dec 2020 17:07:52 +0100

Also move getCloseGPUs[List]() to psidpin
------------------------------------------------------------------------
e559da71 | Norbert Eicker | Wed, 9 Dec 2020 12:27:42 +0100

Minor cleanup
------------------------------------------------------------------------
cb1a54f8 | Norbert Eicker | Wed, 9 Dec 2020 12:22:40 +0100

Create new psid module for pinning stuff
------------------------------------------------------------------------
a32ac7b4 | Stephan Krempel | Wed, 9 Dec 2020 14:13:04 +0100

Add PCI IDs of Tesla K20X cards found in Juropa 3 GPU nodes
------------------------------------------------------------------------
4a6739a8 | Stephan Krempel | Mon, 7 Dec 2020 15:13:44 +0100

Pinning: Fix handling in no GPUs available case
------------------------------------------------------------------------
5b75c9dd | Stephan Krempel | Fri, 4 Dec 2020 15:37:02 +0100

Pinning: Fix finding close GPUs
------------------------------------------------------------------------
e1532df8 | Stephan Krempel | Fri, 4 Dec 2020 15:11:32 +0100

Pinning: Fix mapping when getting close GPU sets
------------------------------------------------------------------------
e232caee | Stephan Krempel | Fri, 4 Dec 2020 12:44:23 +0100

psslurm: Implement NUMA based GPU pinning

In contrast to the NUMA aware GPU pinning done by the psid
the implementation in psslurm is able to take the pinning of
sister processes into account and such use less uses GPUs and
GPUs not connected to the NUMA node the process in running on.

The heuristic is to first handle processes running on GPU
near NUMA domains. If there are multiple near GPUs to a
some processes they are bound round robin. Second each
process not running on a GPU near NUMA domain gets the
GPUs bound round robin which are bound to least other
processes. At the end each process is bound to exactly
one GPU.
------------------------------------------------------------------------
75f012a1 | Stephan Krempel | Fri, 4 Dec 2020 12:35:07 +0100

Fix memory leak
------------------------------------------------------------------------
5045b3ce | Stephan Krempel | Fri, 4 Dec 2020 12:33:27 +0100

Remove obsolete comment and add debug output in PSID_bindToGPUs()
------------------------------------------------------------------------
86b06b63 | Stephan Krempel | Fri, 4 Dec 2020 12:32:29 +0100

Rename __PSI_USE_GPUS to __PSID_USE_GPUS
------------------------------------------------------------------------
172b0c41 | Stephan Krempel | Fri, 4 Dec 2020 12:26:27 +0100

Enhance comments and debugging output for PSIDnodes_getCloseGPUsList()
------------------------------------------------------------------------
0399cf99 | Stephan Krempel | Wed, 2 Dec 2020 18:47:10 +0100

Fix segfault in PSIDnodes_getCloseGPUsList()
------------------------------------------------------------------------
1f5fb4bd | Stephan Krempel | Tue, 1 Dec 2020 12:02:45 +0100

Move PSID_getCloseGPUsList() to PSIDnodes_getCloseGPUsList()
------------------------------------------------------------------------
a2dc53e0 | Stephan Krempel | Tue, 1 Dec 2020 11:59:05 +0100

psslurm: Introduce function hexBitstr2Array()
------------------------------------------------------------------------
82607f61 | Stephan Krempel | Fri, 27 Nov 2020 18:17:42 +0100

Separate creation of list of close GPUs for using in psslurm
------------------------------------------------------------------------
eec2c98f | Stephan Krempel | Fri, 27 Nov 2020 16:40:31 +0100

Rename envar PSI_CLOSE_GPUS to PSID_CLOSE_GPUS
------------------------------------------------------------------------
518b305a | Norbert Eicker | Fri, 13 Nov 2020 00:20:41 +0100

Improve logging
------------------------------------------------------------------------
04361690 | Norbert Eicker | Fri, 13 Nov 2020 00:18:19 +0100

Bugfix: Do not send msg to myself and corrupt buffer
------------------------------------------------------------------------
99a79704 | Norbert Eicker | Thu, 12 Nov 2020 11:33:02 +0100

Simplify nodeinfo plugin's interface
------------------------------------------------------------------------
4afa5c1c | Norbert Eicker | Thu, 12 Nov 2020 11:21:21 +0100

More proper cleanup upon unload
------------------------------------------------------------------------
7dbc88f1 | Norbert Eicker | Thu, 12 Nov 2020 10:29:05 +0100

Handle late loading of nodeinfo plugin properly
------------------------------------------------------------------------
43289ebd | Norbert Eicker | Thu, 12 Nov 2020 02:12:32 +0100

Add ancient QLogic HCA to the list
------------------------------------------------------------------------
00dbfb1a | Norbert Eicker | Thu, 12 Nov 2020 01:57:16 +0100

Bugfix: match to correct option type in handleDistInfo()
------------------------------------------------------------------------
50337460 | Norbert Eicker | Thu, 12 Nov 2020 01:45:08 +0100

Bugfix: initialize numNUMADoms to 0 as expected by nodeinfo plugin
------------------------------------------------------------------------
e1e75d00 | Norbert Eicker | Thu, 12 Nov 2020 01:31:47 +0100

Bugfix: Do net set numThrds as numNUMADoms
------------------------------------------------------------------------
d46dae51 | Norbert Eicker | Thu, 12 Nov 2020 01:05:34 +0100

Fix typo
------------------------------------------------------------------------
a4be70e6 | Norbert Eicker | Thu, 12 Nov 2020 00:57:15 +0100

Rename PSIDnodes_*Set to PSIDnodes_*Sets
------------------------------------------------------------------------
34ba0598 | Norbert Eicker | Thu, 12 Nov 2020 00:49:44 +0100

Add communication capabilities to nodeinfo plugin
------------------------------------------------------------------------
5128c714 | Norbert Eicker | Wed, 11 Nov 2020 19:53:01 +0100

Ensure we see all devices and add some debug
------------------------------------------------------------------------
cbba01d4 | Stephan Krempel | Wed, 11 Nov 2020 16:30:56 +0100

Catch if no cpuset is found for pci device in hwloc
------------------------------------------------------------------------
d6e66667 | Stephan Krempel | Wed, 11 Nov 2020 16:28:15 +0100

Fix some comments and typos
------------------------------------------------------------------------
e1a14cee | Norbert Eicker | Wed, 11 Nov 2020 14:40:10 +0100

Init nodeinfo's configuration before use
------------------------------------------------------------------------
e1625cc7 | Norbert Eicker | Wed, 11 Nov 2020 10:46:54 +0100

Fix building RPMs by adding nodeinfo.so
------------------------------------------------------------------------
970dd2bf | Norbert Eicker | Wed, 11 Nov 2020 10:39:36 +0100

Add missing Makefile.[in|am] to Makefile.sources
------------------------------------------------------------------------
9a907fb4 | Norbert Eicker | Wed, 11 Nov 2020 01:46:15 +0100

Improve nodeinfo plugin's user interface towards psiadmin
------------------------------------------------------------------------
3dcaaf84 | Norbert Eicker | Wed, 11 Nov 2020 01:37:26 +0100

Fix docu
------------------------------------------------------------------------
4ddb0be3 | Norbert Eicker | Wed, 11 Nov 2020 00:11:05 +0100

Add PCI info on Extoll Tourmalet cards for DEEP-EST
------------------------------------------------------------------------
1ae2f90c | Norbert Eicker | Wed, 11 Nov 2020 00:10:02 +0100

Add information on recorded hwloc topologies
------------------------------------------------------------------------
740dde22 | Norbert Eicker | Tue, 10 Nov 2020 23:52:51 +0100

Add various hwloc topologies recorded on different systems
------------------------------------------------------------------------
8679747e | Norbert Eicker | Tue, 10 Nov 2020 00:47:52 +0100

Major rework of psidhw
------------------------------------------------------------------------
57c2ba6d | Norbert Eicker | Tue, 10 Nov 2020 00:24:42 +0100

Add docu on PSIDnodes numbering conventions
------------------------------------------------------------------------
2d5c0dbf | Norbert Eicker | Fri, 6 Nov 2020 00:03:56 +0100

Make PSCPU_disjoint() an inline function
------------------------------------------------------------------------
44f03429 | Norbert Eicker | Fri, 6 Nov 2020 00:00:11 +0100

Start testprogram for bitsets
------------------------------------------------------------------------
d4bbdb0b | Norbert Eicker | Thu, 5 Nov 2020 23:58:32 +0100

Add PSCPU_overlap() and PSCPU_disjoint()
------------------------------------------------------------------------
3c680575 | Norbert Eicker | Thu, 5 Nov 2020 22:01:34 +0100

Bugfix: Ensure GPU-bindign is actually done
------------------------------------------------------------------------
c115b062 | Norbert Eicker | Wed, 4 Nov 2020 12:13:13 +0100

Streamline documentation
------------------------------------------------------------------------
23625fcb | Norbert Eicker | Wed, 4 Nov 2020 11:43:41 +0100

Prepare PSIDnodes to support remote hardware topologies
------------------------------------------------------------------------
1243c84f | Norbert Eicker | Wed, 4 Nov 2020 00:05:27 +0100

Streamline for more compact code
------------------------------------------------------------------------
e08ea83d | Norbert Eicker | Mon, 2 Nov 2020 10:49:33 +0100

Rename PSIDnodes_[gs]etVirtCPUs() to PSIDnodes_[gs]etNumThrds()
------------------------------------------------------------------------
52badf6b | Norbert Eicker | Fri, 30 Oct 2020 20:09:42 +0100

More consistent wording within pscpu toolbox
------------------------------------------------------------------------
ff792b74 | Norbert Eicker | Fri, 30 Oct 2020 15:28:25 +0100

More consistent naming concerning cores vs. CPUs
------------------------------------------------------------------------
84d4c4bd | Norbert Eicker | Fri, 30 Oct 2020 15:27:09 +0100

Rename PSIDnodes_[gs]etPhysCPUs() to PSIDnodes_[gs]etNumCores()
------------------------------------------------------------------------
9b1e2110 | Norbert Eicker | Fri, 30 Oct 2020 14:19:18 +0100

Rename PSP_CC_PLUG_* message types to PSP_PLUG_*
------------------------------------------------------------------------
2a9898b9 | Norbert Eicker | Fri, 23 Oct 2020 00:18:54 +0200

Early sketch of nodeinfo plugin
------------------------------------------------------------------------
ddd1fae2 | Norbert Eicker | Fri, 23 Oct 2020 00:07:21 +0200

Fix typo
------------------------------------------------------------------------
32893d59 | Norbert Eicker | Thu, 22 Oct 2020 23:42:18 +0200

Add PSP_OP_TRIGGER_DIST and PSIDHOOK_DIST_INFO

    - bump pluginAPIVersion to 129
------------------------------------------------------------------------
20951aa1 | Norbert Eicker | Thu, 22 Oct 2020 23:36:14 +0200

Lots of booleanization and streamlining
------------------------------------------------------------------------
bd57bf33 | Norbert Eicker | Thu, 22 Oct 2020 21:31:54 +0200

Introduce initConfig() to pluginconfig

 - For this multiple initConfig()s in the modules have to be moved out
   of the way
------------------------------------------------------------------------
f8ac7e26 | Norbert Eicker | Thu, 10 Dec 2020 19:13:44 +0100

Merge branch '5.1.34'
------------------------------------------------------------------------
24b53e8f | Michael Rauh | Fri, 4 Dec 2020 10:56:18 +0100

Improve naming and documentation of Slurm_Msg_Header_t
------------------------------------------------------------------------
dea5af3d | Norbert Eicker | Fri, 27 Nov 2020 17:13:30 +0100

Move spank plugins into their own sub-RPM
------------------------------------------------------------------------
51c953ca | Norbert Eicker | Fri, 27 Nov 2020 16:33:58 +0100

Bugfix: Delay fw->callback until connection is closed (jwt:#7136)
------------------------------------------------------------------------
513ad9ef | Norbert Eicker | Fri, 27 Nov 2020 15:24:32 +0100

Use more speaking names for some members of ForwarderData_t
------------------------------------------------------------------------


Version psmgmt-5.1.34-2:
========================
------------------------------------------------------------------------
a349cbf5 | Michael Rauh | Fri, 11 Dec 2020 13:23:11 +0100

Accept node registration RPC from any Slurm protocol version
------------------------------------------------------------------------
f254454a | Michael Rauh | Thu, 10 Dec 2020 16:24:50 +0100

Resend node registration to update slurmcltd node protocol version
(juwels:#7423)
------------------------------------------------------------------------


Version psmgmt-5.1.34-1:
========================
------------------------------------------------------------------------
01a39886 | Norbert Eicker | Thu, 10 Dec 2020 18:50:48 +0100

Bugfix: Quickfix for jwt:#7436
------------------------------------------------------------------------


Version psmgmt-5.1.34:
======================
------------------------------------------------------------------------
8ea10c20 | Thomas Moschny | Wed, 25 Nov 2020 17:57:38 +0100

Remove duplicated typedef.
------------------------------------------------------------------------
c347d53f | Stephan Krempel | Mon, 26 Oct 2020 15:07:08 +0100

psslurm: Support "Flags" option in gres.conf
------------------------------------------------------------------------
5f0c49d6 | Michael Rauh | Tue, 17 Mar 2020 11:41:16 +0100

Add option SLURM_UPDATE_CONF_AT_STARTUP to choose if the Slurm
configuration cache is always update at startup
------------------------------------------------------------------------
83b0c749 | Michael Rauh | Mon, 16 Mar 2020 21:14:07 +0100

Let psslurm support the cleanup of the Slurm configuration cache
via the CLEAR_CONF_CACHE set command using psiadmin
------------------------------------------------------------------------
38478b35 | Michael Rauh | Mon, 16 Mar 2020 20:40:03 +0100

Add support for Slurm configless mode
------------------------------------------------------------------------
b452d930 | Michael Rauh | Tue, 10 Mar 2020 12:54:09 +0100

Don't break Slurm 19.05 and below
------------------------------------------------------------------------
378564cd | Michael Rauh | Fri, 6 Mar 2020 17:02:25 +0100

Add Slurm configuration RPC calls
------------------------------------------------------------------------
c4627c34 | Michael Rauh | Tue, 3 Mar 2020 16:45:55 +0100

Remove special treatment for protocol 18.08
------------------------------------------------------------------------
ef7f12bb | Michael Rauh | Tue, 3 Mar 2020 16:29:47 +0100

Update Slurm 20.02 RPC calls
------------------------------------------------------------------------
fbc80476 | Michael Rauh | Wed, 26 Feb 2020 17:32:28 +0100

Add 20.02 protocol definition and drop 17.11 support
------------------------------------------------------------------------
289ed3c8 | Norbert Eicker | Wed, 25 Nov 2020 14:36:07 +0100

RCS-style keywords are not needed any longer
------------------------------------------------------------------------
5d1786be | Norbert Eicker | Wed, 25 Nov 2020 14:30:16 +0100

Get rid of $Revision$ keyword
------------------------------------------------------------------------
b1ee2330 | Norbert Eicker | Wed, 25 Nov 2020 13:50:18 +0100

Remove all remaining occurrences of $Id$
------------------------------------------------------------------------
59805b43 | Norbert Eicker | Wed, 25 Nov 2020 13:17:16 +0100

Cleanup
------------------------------------------------------------------------
3731b76a | Norbert Eicker | Wed, 25 Nov 2020 13:15:48 +0100

Cleanup and streamlining
------------------------------------------------------------------------
62b0dfeb | Norbert Eicker | Wed, 25 Nov 2020 13:00:41 +0100

Cleanup
------------------------------------------------------------------------
51cfdab6 | Norbert Eicker | Wed, 25 Nov 2020 12:21:49 +0100

Some cleanup and streamlining
------------------------------------------------------------------------
d2d6cea0 | Norbert Eicker | Wed, 25 Nov 2020 12:21:23 +0100

Booleanize and cleanup the logging facility
------------------------------------------------------------------------
465c23a3 | Norbert Eicker | Wed, 25 Nov 2020 11:39:16 +0100

Also cleanup $Id in psmom
------------------------------------------------------------------------
09b84bd1 | Norbert Eicker | Wed, 25 Nov 2020 09:32:04 +0100

More cleanup of $Id entries
------------------------------------------------------------------------
bc2bc5b6 | Norbert Eicker | Wed, 25 Nov 2020 01:40:31 +0100

Cleanup and streamline test_pse
------------------------------------------------------------------------
d95940ad | Norbert Eicker | Wed, 25 Nov 2020 01:38:27 +0100

Cleanup and streamline various header files
------------------------------------------------------------------------
9f276207 | Norbert Eicker | Wed, 25 Nov 2020 01:16:21 +0100

Seems that psstrings.c contained only dead code
------------------------------------------------------------------------
fa17f487 | Norbert Eicker | Wed, 25 Nov 2020 00:36:32 +0100

Rename .gdbinit to psmgmt.gdb and install it to /etc/gdbinit.d/
------------------------------------------------------------------------


Version psmgmt-5.1.33-2:
========================
------------------------------------------------------------------------
13e4904d | Stephan Krempel | Mon, 23 Nov 2020 09:38:30 +0100

pspmix: Improve PMIx_Abort handling to avoid double free()

Only handle PMIx_Abort if the whole namespace (thus currently the
whole job) is to be aborted. Else return NOT_SUPPORTED.

Do not free the server object during PMIx_Abort handling, the server
helper library seems to always call clientFinalized callback for each
aborted client, too.
------------------------------------------------------------------------


Version psmgmt-5.1.33-1:
========================
------------------------------------------------------------------------
cea7d661 | Michael Rauh | Fri, 20 Nov 2020 12:50:41 +0100

Bugfix: only forward pelogue output in plugins which
actually requested it
------------------------------------------------------------------------
515635b4 | Norbert Eicker | Fri, 20 Nov 2020 03:07:31 +0100

Make parameter name more meaningful
------------------------------------------------------------------------
e1a4eb02 | Norbert Eicker | Fri, 20 Nov 2020 03:04:51 +0100

Abort loop over procList if unused snapshot is found
------------------------------------------------------------------------
14d27550 | Norbert Eicker | Fri, 20 Nov 2020 01:32:36 +0100

Ensure pluginforwarder catches the correct SIGCHLD (#2856)
------------------------------------------------------------------------
6c83a0df | Norbert Eicker | Fri, 20 Nov 2020 01:06:06 +0100

Booleanize selector some more
------------------------------------------------------------------------
af1f27ab | Norbert Eicker | Thu, 19 Nov 2020 23:38:13 +0100

Make signalChildren() static
------------------------------------------------------------------------
2915c3cb | Norbert Eicker | Thu, 19 Nov 2020 22:39:25 +0100

Do not unblock SIGTERM if it was blocked before (#2856)
------------------------------------------------------------------------
daa54cb7 | Stephan Krempel | Wed, 18 Nov 2020 16:32:29 +0100

Fix debugging output in psslurm's handleCreatePart()
------------------------------------------------------------------------
bcb6edf4 | Thomas Moschny | Thu, 12 Nov 2020 15:09:47 +0100

Silence a clang warning about possibly using an uninitailized variable.
------------------------------------------------------------------------
f634b9db | Thomas Moschny | Thu, 12 Nov 2020 15:01:03 +0100

Remove 'h' modifier, argument is of type enum, i.e., int.
------------------------------------------------------------------------
5faf989f | Norbert Eicker | Thu, 12 Nov 2020 11:31:16 +0100

More proper cleanup in more plugins
------------------------------------------------------------------------
c7fdd535 | Norbert Eicker | Thu, 5 Nov 2020 17:28:40 +0100

Make message delivery to forwarders more readable
------------------------------------------------------------------------
a1b67a2e | Michael Rauh | Thu, 5 Nov 2020 12:45:41 +0100

Remove obsolete forwarder control message check
------------------------------------------------------------------------
5820944a | Norbert Eicker | Thu, 5 Nov 2020 11:58:52 +0100

Fix typo. News actually describes version 5.1.33
------------------------------------------------------------------------


Version psmgmt-5.1.33:
======================
------------------------------------------------------------------------
0f50a050 | Norbert Eicker | Wed, 4 Nov 2020 16:57:09 +0100

Block signals to prevent asynchronous call via sighandler (#2856)
------------------------------------------------------------------------
5ad17e70 | Norbert Eicker | Wed, 4 Nov 2020 16:50:30 +0100

Rename parameter for understanding
------------------------------------------------------------------------
dcf45870 | Michael Rauh | Wed, 4 Nov 2020 16:52:48 +0100

Hide PSP_CC_ERROR messages from hook handleMthrMsg() in pluginforwarder
if not requested otherwise

 - the flag hideCCError allows a plugin to handle PSP_CC_ERROR messages
 - this fixes ticket j3:#1359
------------------------------------------------------------------------
0f701fec | Michael Rauh | Tue, 3 Nov 2020 20:52:13 +0100

Bugfix: remove incorrect check in handleFrwrdMsgReply()

 - this led to drained head node of a Slurm forwarding tree if there
 were unresponsive nodes within the tree
 - see ticket juwels:#8622
------------------------------------------------------------------------
066ce91e | Michael Rauh | Mon, 2 Nov 2020 14:23:26 +0100

Bugfix: fix blocking of SIGUSR introduced in 99d9b252 (j3:#1359)
------------------------------------------------------------------------
aae81098 | Norbert Eicker | Mon, 26 Oct 2020 02:04:00 +0100

psaccount: Ensure signals are delivered only once per round
------------------------------------------------------------------------
76c25688 | Norbert Eicker | Mon, 26 Oct 2020 01:59:03 +0100

Eliminate obsolete psAccountSignalChildren
------------------------------------------------------------------------
ea2224e2 | Norbert Eicker | Thu, 22 Oct 2020 14:36:53 +0200

Streamlining
------------------------------------------------------------------------
7f3075e8 | Stephan Krempel | Thu, 22 Oct 2020 14:20:37 +0200

psslurm: Rename informational environment variables

Rename PSSLURM_[JOB|STEP]_GPUS into SLURM_[JOB|STEP]_GPUS
since they exist as such in vanilla Slurm, too.
------------------------------------------------------------------------


Version psmgmt-5.1.32:
======================
------------------------------------------------------------------------
7659aa92 | Stephan Krempel | Tue, 20 Oct 2020 18:42:25 +0200

psslurm: Add some informational variables to user environment

Adds the variables PSSLURM_JOB_GPUS, PSSLURM_STEP_GPUS, and
PSSLURM_CLOSE_STEP_GPUS to the process environment showing the
actual situation independently of whether the user has set
CUDA_VISIBLE_DEVICES manually or not.
------------------------------------------------------------------------
74908c28 | Stephan Krempel | Tue, 20 Oct 2020 18:41:27 +0200

GPU Binding: Remove env var PROTECT_* in favour of __AUTO_*

Instead of requiring the user to explicitly set a PROTECT_*
variable to protect his manually set GPU binding variable we
now use __AUTO_* variables to detect who set the actual
variable. To handle the problem that we cannot detect an
explicit resetting of the variable to the same value, we add
some space characters which CUDA does not care about but
hopefully a user will never append by himself.
------------------------------------------------------------------------
69708cc8 | Stephan Krempel | Tue, 20 Oct 2020 18:20:41 +0200

psslurmenv: Fix calling GPU binding code
------------------------------------------------------------------------
555ee340 | Stephan Krempel | Tue, 20 Oct 2020 18:16:11 +0200

Rename variable
------------------------------------------------------------------------
03da4c49 | Norbert Eicker | Tue, 20 Oct 2020 01:14:48 +0200

Streamlining, more readable, atoi -> strtol
------------------------------------------------------------------------
24d9a180 | Norbert Eicker | Tue, 20 Oct 2020 01:12:22 +0200

Fix typo
------------------------------------------------------------------------
33513350 | Stephan Krempel | Mon, 19 Oct 2020 14:47:21 +0200

Remove unnecessary check for SLURM_JOBID
------------------------------------------------------------------------
852da7d9 | Stephan Krempel | Mon, 19 Oct 2020 14:38:42 +0200

Rework of setting GPU binding variables

The goal of this rework was not to randomly override variables set
by the user. The problem here is, that with psslurm, we have to
support multiple start methods. Using sbatch, first the job writes
CUDA_VISIBLE_DEVICES for the case no srun is used inside the job
script. If the user then sets the variable manually inside the job
script and uses srun, too, it is impossible to descide if the user
of psslurm did set it and thus if psslurm should override it or not.
Therefor we introduce PROTECT_CUDA_VISIBLE_DEVICES for the user to
tell explicitly that he is setting the variable himself.
------------------------------------------------------------------------
bbe0f42e | Norbert Eicker | Mon, 19 Oct 2020 09:31:47 +0200

Do not alloc space for CPUMap again and again
------------------------------------------------------------------------
4b87f0c2 | Stephan Krempel | Fri, 16 Oct 2020 17:52:55 +0200

With psconfig, read in the CPU map of each node

This is to have all the maps available for PSIDnodes_unmapCPU()
function needed in psslurm pinning.

There are two drawbacks to be addressed shortly:
- Thus it is not considered if one chances the CPU map via psiadmin
- Pinning options using that are broken with parastation.conf
------------------------------------------------------------------------
2b08f950 | Stephan Krempel | Fri, 16 Oct 2020 16:02:11 +0200

psslurmpin: Check completeness of cpu map for each node involved
------------------------------------------------------------------------
4078b1d5 | Stephan Krempel | Fri, 16 Oct 2020 16:00:23 +0200

psslurmpin: Correctly set id in nodeinfo struct
------------------------------------------------------------------------
72f7a124 | Stephan Krempel | Wed, 14 Oct 2020 14:40:21 +0200

Add BindGpus parameter to psconfig object diagram
------------------------------------------------------------------------
f55741fd | Stephan Krempel | Wed, 14 Oct 2020 14:37:09 +0200

Update psconfig object diagram to UMLet v14
------------------------------------------------------------------------
99d9b252 | Michael Rauh | Wed, 14 Oct 2020 14:14:12 +0200

Replace obsolete blockSignal() with PSID_blockSig()
------------------------------------------------------------------------
16015d91 | Norbert Eicker | Tue, 13 Oct 2020 23:52:51 +0200

Simplify distinction of cases
------------------------------------------------------------------------
bf99e7d8 | Norbert Eicker | Tue, 13 Oct 2020 23:38:16 +0200

Identify readable hostname only once
------------------------------------------------------------------------
5bc542bb | Michael Rauh | Tue, 13 Oct 2020 12:10:24 +0200

Update buildsystem
------------------------------------------------------------------------
4a384b9a | Michael Rauh | Tue, 13 Oct 2020 12:09:25 +0200

Build pelogue plugin with -std=gnu99
------------------------------------------------------------------------
2cdc5d71 | Michael Rauh | Tue, 13 Oct 2020 12:07:32 +0200

Add slurmnode.h to rpm build system
------------------------------------------------------------------------
70e81a91 | Michael Rauh | Tue, 13 Oct 2020 10:35:55 +0200

Enhancement: let psslurm offline the node if name resolution of the job
owner UID fails (pct:#374)
------------------------------------------------------------------------
db27e019 | Michael Rauh | Mon, 12 Oct 2020 16:10:59 +0200

Improve psslurm node offline reasons
------------------------------------------------------------------------
6d2de4f2 | Michael Rauh | Mon, 12 Oct 2020 15:49:45 +0200

Let psslurm set nodes offline if the slurmctld prologue failed
------------------------------------------------------------------------
90e3c13a | Michael Rauh | Mon, 12 Oct 2020 15:36:34 +0200

Add hook PSIDHOOK_PELOGUE_GLOBAL

 - let psslurm offline nodes which failed to
   to execute the slurmctld prologue
 - bump pluginAPIVersion to 128
------------------------------------------------------------------------
2c270306 | Michael Rauh | Mon, 12 Oct 2020 13:32:54 +0200

Add option DIRECT_DRAIN to let psslurm drain nodes directly
without the help of psexec

 - psexec is still the default for now
 - may become the default in future releases
------------------------------------------------------------------------
444fd200 | Michael Rauh | Mon, 12 Oct 2020 12:39:25 +0200

Add support for REQUEST_UPDATE_NODE to psslurm

 - allow psslurm to change the node state in Slurm
   similar to scontrol
 - add ability to drain nodes without the use of psexec
------------------------------------------------------------------------
4465fbf6 | Michael Rauh | Mon, 12 Oct 2020 10:52:18 +0200

Bugfix: ensure the mother superior will cancel a pelogue script
even if there is no local child
------------------------------------------------------------------------
caf8bd65 | Norbert Eicker | Fri, 16 Oct 2020 01:02:24 +0200

Cleanup commented out remnants
------------------------------------------------------------------------
3bc64704 | Stephan Krempel | Thu, 15 Oct 2020 17:45:10 +0200

psslurmgetbind: Fix segfault by uncomplete pininfo
------------------------------------------------------------------------
bf581a10 | Norbert Eicker | Fri, 16 Oct 2020 00:55:39 +0200

Rename psconfig key back to strange notation used there all over the place
------------------------------------------------------------------------
da016f7f | Norbert Eicker | Wed, 14 Oct 2020 13:55:18 +0200

Rename psconfig key to Psid.BindGPUs
------------------------------------------------------------------------
6854ebb2 | Stephan Krempel | Wed, 14 Oct 2020 10:58:33 +0200

Make bindgpu configurable at start time

psconfig: The new key is "Psid.BindGpus"
parastation.conf: The new key is "BindGPUs"

Attention: The new parameter needs to be set or psid will not start
------------------------------------------------------------------------
96b7c8ca | Norbert Eicker | Wed, 14 Oct 2020 00:28:04 +0200

Fix documentation
------------------------------------------------------------------------
43c39be8 | Norbert Eicker | Mon, 12 Oct 2020 23:24:07 +0200

Bugfix: Do not break backward compatibility
------------------------------------------------------------------------
099100e6 | Norbert Eicker | Mon, 12 Oct 2020 23:23:17 +0200

Bugfix: Actually set GPU-binding, not Mem-binding
------------------------------------------------------------------------
08c1c58f | Norbert Eicker | Mon, 12 Oct 2020 23:21:30 +0200

Add help message to psiadmin for new directive set/show binGPUs
------------------------------------------------------------------------
08a368a1 | Stephan Krempel | Sat, 10 Oct 2020 01:17:25 +0200

Add bindGPUs option
------------------------------------------------------------------------
86e7f6e5 | Norbert Eicker | Mon, 12 Oct 2020 10:17:07 +0200

Emit warning if maximum number of GPUs or NUMA nodes exceeded
------------------------------------------------------------------------
55673522 | Stephan Krempel | Sat, 10 Oct 2020 02:47:18 +0200

Fix docu of PSID_getNUMAnodes()
------------------------------------------------------------------------
9ccb51f5 | Stephan Krempel | Sat, 10 Oct 2020 02:43:56 +0200

Consequently use uint16_t for GPUs and NUMA nodes and check maxima
------------------------------------------------------------------------
982f7b16 | Stephan Krempel | Sat, 10 Oct 2020 02:21:40 +0200

Add missing checks of some malloc() return values
------------------------------------------------------------------------
5993ab54 | Stephan Krempel | Sat, 10 Oct 2020 02:11:09 +0200

Use qsort_r() instead of self-made bubble sort
------------------------------------------------------------------------
abfdb9fd | Norbert Eicker | Fri, 9 Oct 2020 16:11:55 +0200

Minor improvements
------------------------------------------------------------------------
0d0da658 | Norbert Eicker | Fri, 9 Oct 2020 14:35:34 +0200

Improve documentation comments
------------------------------------------------------------------------
444177d1 | Norbert Eicker | Fri, 9 Oct 2020 14:34:53 +0200

Relax checks from unneded boundary tests
------------------------------------------------------------------------
2575fe78 | Norbert Eicker | Fri, 9 Oct 2020 14:27:57 +0200

Improve documentation
------------------------------------------------------------------------
cc56f177 | Norbert Eicker | Fri, 9 Oct 2020 14:27:50 +0200

Streamlining
------------------------------------------------------------------------
194c96df | Norbert Eicker | Fri, 9 Oct 2020 13:55:20 +0200

Don't search for NUMA nodes again and again
------------------------------------------------------------------------
5b9d3379 | Norbert Eicker | Fri, 9 Oct 2020 12:57:45 +0200

Don't search for GPUs again and again
------------------------------------------------------------------------
ae39c67a | Stephan Krempel | Wed, 7 Oct 2020 16:18:19 +0200

Automatically sort GPUs by PCI addresses for CUDA pinning
------------------------------------------------------------------------
b0fab998 | Stephan Krempel | Wed, 7 Oct 2020 16:17:15 +0200

Adjust variable name for hwloc pci device object
------------------------------------------------------------------------
cb17ca1c | Stephan Krempel | Tue, 6 Oct 2020 12:21:50 +0200

psslurmpin: Do not use CPU mapping for explicit pinning options

The parameters give to the explicit pinning options
{map|mask}_{cpu|ldom} are now supposed to be in OS order
------------------------------------------------------------------------
87f1909e | Stephan Krempel | Tue, 6 Oct 2020 10:47:15 +0200

psslurmpin: Include node id into nodeinfo struct
------------------------------------------------------------------------
a62ff011 | Stephan Krempel | Tue, 6 Oct 2020 10:18:56 +0200

psslurmpin: Enable GPU remapping by envvar PSI_GPUMAP
------------------------------------------------------------------------
c3dabb65 | Stephan Krempel | Tue, 6 Oct 2020 10:17:17 +0200

psslurmpin: Disable general setting of GPU pinning in rank env
------------------------------------------------------------------------
8f080c7b | Stephan Krempel | Fri, 4 Sep 2020 18:31:17 +0200

Pin processes to the GPUs connected to the same NUMA domain

Setup the environment so processes use the GPUs connected to the
same NUMA domain they are pinned to.
------------------------------------------------------------------------
dad7c593 | Stephan Krempel | Fri, 4 Sep 2020 18:30:47 +0200

Fix mixing up NUMA to CPUs maps in OS and psid order
------------------------------------------------------------------------
f875c591 | Stephan Krempel | Fri, 4 Sep 2020 14:43:05 +0200

Fix comment
------------------------------------------------------------------------
457cda34 | Stephan Krempel | Fri, 28 Aug 2020 15:51:56 +0200

Add missing init calls in hwloc functions
------------------------------------------------------------------------
39f00352 | Stephan Krempel | Wed, 26 Aug 2020 15:37:46 +0200

Add functions for getting NUMA/CPU/GPU masks from hwloc
------------------------------------------------------------------------
24a7c2cf | Stephan Krempel | Wed, 26 Aug 2020 15:02:49 +0200

Adjust docu: Changing "cores" to "hardware threads" where appropriate
------------------------------------------------------------------------
9124cc47 | Stephan Krempel | Tue, 25 Aug 2020 11:58:23 +0200

Avoid compile problems with hwloc >= 2.0
------------------------------------------------------------------------
cbbfcea9 | Stephan Krempel | Fri, 9 Oct 2020 18:22:02 +0200

Fix output format string
------------------------------------------------------------------------
543831d6 | Norbert Eicker | Fri, 9 Oct 2020 01:22:40 +0200

Optimize the loop counting used threads even more
------------------------------------------------------------------------
5f812f08 | Norbert Eicker | Fri, 9 Oct 2020 00:59:30 +0200

Optimize addSlotsToNodeSlotsArray() and rename it to addCPUsToSlotsArray()
------------------------------------------------------------------------
934a69e1 | Stephan Krempel | Sat, 3 Oct 2020 07:57:56 +0200

psslurm: Optimize building reservations

Optimize the loop counting used threads during building reservations
------------------------------------------------------------------------
795c04e8 | Stephan Krempel | Fri, 2 Oct 2020 18:41:55 +0200

psslurmpin: Set only existing cpus in slots with bind type none
------------------------------------------------------------------------
c7e011b5 | Stephan Krempel | Sat, 3 Oct 2020 07:25:40 +0200

psslurmpin: Add how-to-be-called comment to doMemBind()
------------------------------------------------------------------------
45da3607 | Stephan Krempel | Fri, 2 Oct 2020 16:35:13 +0200

Fix debugging output for new reservations
------------------------------------------------------------------------
90e64d6f | Michael Rauh | Thu, 1 Oct 2020 16:21:16 +0200

Improve psgw error logging
------------------------------------------------------------------------
470eba14 | Stephan Krempel | Thu, 1 Oct 2020 12:41:08 +0200

psslumpin: Report out of bound problems with --cpu-bind=map_cpu:*
------------------------------------------------------------------------
887d7eab | Norbert Eicker | Wed, 30 Sep 2020 20:03:13 +0200

Fix more potential signed vs. unsigned flaws
------------------------------------------------------------------------
4d45d653 | Norbert Eicker | Wed, 30 Sep 2020 18:02:17 +0200

Bugfix: Prevent out of bound accesses to PSCPU_set_t (#2855)
------------------------------------------------------------------------
88c14d75 | Stephan Krempel | Mon, 28 Sep 2020 12:31:43 +0200

psslurmpin: Always use first threads of a core first

Fixes distribution *:fcyclic:cyclic issue in psc#350.
------------------------------------------------------------------------
0b693253 | Michael Rauh | Fri, 4 Sep 2020 16:11:40 +0200

Add support for the include statement in Slurm plugstack.conf
------------------------------------------------------------------------
ebc8cc51 | Michael Rauh | Thu, 3 Sep 2020 11:03:29 +0200

Improve documentation of pspam
------------------------------------------------------------------------
0ea4f236 | Michael Rauh | Wed, 2 Sep 2020 16:52:21 +0200

Add support for spank API calls slurm_spank_init()
and slurm_spank_slurmd_exit() in slurmd context

 - spank plugins using the new hooks will trigger the tainted flag
 - approved psid spank plugins may set the symbol "psid_plugin" to avoid
   triggering the tainted flag
 - to query the tainted flag use the psiadmin show command with
   the key tainted
------------------------------------------------------------------------
bc3f48bd | Stephan Krempel | Wed, 2 Sep 2020 15:35:43 +0200

psslurmpin: Fix iteration cycling
------------------------------------------------------------------------
35d35aac | Stephan Krempel | Wed, 2 Sep 2020 15:34:41 +0200

psslurmpin: Fix iteration termination condition
------------------------------------------------------------------------
4c2d38aa | Stephan Krempel | Wed, 2 Sep 2020 15:31:45 +0200

psslurmpin: Change iteration order documentation
------------------------------------------------------------------------
573bb619 | Stephan Krempel | Wed, 2 Sep 2020 15:22:27 +0200

psslurmpin: Fix iteration test program and include start thread

test_psslurmpin:
- no longer supports pinning testing (use psslurmgetbind)
- iteration test working again and now supports start thread
------------------------------------------------------------------------
3f1c74eb | Stephan Krempel | Wed, 2 Sep 2020 15:16:30 +0200

psslurmpin: More precise debugging output

A distinction is now made in the debugging output as to why
a thread is not selected: not included in core map or already used.
------------------------------------------------------------------------
ad0246d6 | Stephan Krempel | Tue, 1 Sep 2020 16:44:53 +0200

psslurmpin: Support for --ntasks-per-socket option

This adds support for --ntasks-per-socket option of Slurm's
select/cons_tres plugin without node sharing so with partitions
configured with OverSubscribe=EXCLUSIVE.
------------------------------------------------------------------------
1d3d536c | Stephan Krempel | Tue, 1 Sep 2020 16:44:03 +0200

psslurmpin: Fix detection of default core distribution
------------------------------------------------------------------------
58fa2f31 | Stephan Krempel | Mon, 31 Aug 2020 11:54:32 +0200

psslurmpin: End thread iteration after all threads

Until now iteration ended after last thread, in some
combination of options this missed empty threads. Now
iteration goes through all threads round robin and ends
after hitting each thread once.
------------------------------------------------------------------------


Version psmgmt-5.1.31-2:
========================
------------------------------------------------------------------------
4bea1be4 | Michael Rauh | Mon, 31 Aug 2020 16:02:12 +0200

Update buildsystem
------------------------------------------------------------------------
acad7c26 | Michael Rauh | Mon, 31 Aug 2020 16:01:19 +0200

Let pspelogue resolve hostnames using psconfig
------------------------------------------------------------------------
1a45dc69 | Michael Rauh | Thu, 27 Aug 2020 14:19:49 +0200

Bugfix: ensure epilogue will not be started while the
prologue is running (#2788)
------------------------------------------------------------------------
37cde65e | Michael Rauh | Tue, 25 Aug 2020 14:54:12 +0200

Update psslurm configuration template
------------------------------------------------------------------------


Version psmgmt-5.1.31-1:
========================
------------------------------------------------------------------------
ea97a4d3 | Norbert Eicker | Thu, 20 Aug 2020 10:25:55 +0200

Extended error handling for ENOENT after sendto(), too
------------------------------------------------------------------------
e37a10cd | Norbert Eicker | Wed, 19 Aug 2020 17:54:50 +0200

Rename msgbuf_t to PSIDmsgbuf_t avoids clash with RDP
------------------------------------------------------------------------
5cd23130 | Michael Rauh | Fri, 14 Aug 2020 15:43:52 +0200

Add spank context and pid of the current process to spank_test
------------------------------------------------------------------------
389b55d5 | Michael Rauh | Fri, 14 Aug 2020 15:43:08 +0200

Set correct spank context for spank callbacks
------------------------------------------------------------------------
5e2d03fb | Michael Rauh | Fri, 14 Aug 2020 15:28:36 +0200

Add missing psslurmstep.c changes for commit c07a09e567
------------------------------------------------------------------------
c07a09e5 | Michael Rauh | Tue, 11 Aug 2020 11:35:22 +0200

Improve naming and documentation of findStepByFwPid() and
findStepByTaskPid() (#2847)
------------------------------------------------------------------------


Version psmgmt-5.1.31:
======================
------------------------------------------------------------------------
4b06dab1 | Norbert Eicker | Fri, 7 Aug 2020 11:25:02 +0200

Push automake to 1.16.2
------------------------------------------------------------------------
591f5e43 | Norbert Eicker | Fri, 7 Aug 2020 11:21:31 +0200

Rename PStask_cleanup() -> PSIDtask_cleanup() for consistency
------------------------------------------------------------------------
6106c860 | Norbert Eicker | Fri, 7 Aug 2020 11:08:41 +0200

Streamlining
------------------------------------------------------------------------
1af9a7e3 | Norbert Eicker | Fri, 7 Aug 2020 11:04:33 +0200

Add a comma
------------------------------------------------------------------------
8d360826 | Michael Rauh | Thu, 9 Jul 2020 17:28:02 +0200

Replace kill() with pskill() and PSID_kill() in the plugins
------------------------------------------------------------------------
d9133f92 | Michael Rauh | Mon, 6 Jul 2020 20:01:21 +0200

Removed unused psAccountSignalChildren() in psmom
------------------------------------------------------------------------
7e1f4221 | Michael Rauh | Mon, 6 Jul 2020 16:11:18 +0200

Split PSID_kill() and introduce pskill() for signaling non
psidforwarder processes
------------------------------------------------------------------------
562e83ce | Michael Rauh | Mon, 6 Jul 2020 15:22:59 +0200

Update documentation
------------------------------------------------------------------------
a0df4879 | Norbert Eicker | Fri, 7 Aug 2020 10:40:41 +0200

Improve documentation comments
------------------------------------------------------------------------
aa917146 | Michael Rauh | Fri, 31 Jul 2020 15:32:11 +0200

Remove privileged check for PSP_CC_PLUG_ACCOUNT messages
------------------------------------------------------------------------
019475e3 | Norbert Eicker | Fri, 3 Jul 2020 11:02:04 +0200

Improve rejection logging
------------------------------------------------------------------------
4a14f277 | Stephan Krempel | Tue, 30 Jun 2020 13:43:45 +0200

pspmix: Remove privileged check for PSP_CC_PLUG_PSPMIX messages
------------------------------------------------------------------------
46168a63 | Stephan Krempel | Tue, 30 Jun 2020 13:39:36 +0200

Log the reason for rejecting messages as unprivileged
------------------------------------------------------------------------
d508ff07 | Michael Rauh | Tue, 16 Jun 2020 12:00:49 +0200

Verify message sender is a privileged user in all plugins

 * Warning: the slurm user on the slurmctld node needs to be a
   psid admin user for pspelogue to work
------------------------------------------------------------------------
b006d2ce | Norbert Eicker | Fri, 7 Aug 2020 10:01:40 +0200

Don't store pamservice' logger mask twice

 - Use the mask stored in the logger anyhow
 - This makes pamservice.h obsolete
------------------------------------------------------------------------
13de1a39 | Norbert Eicker | Wed, 5 Aug 2020 16:11:22 +0200

Streamlining
------------------------------------------------------------------------
513a4c45 | Michael Rauh | Fri, 31 Jul 2020 15:04:51 +0200

Add missing files to rpm build
------------------------------------------------------------------------
82893165 | Michael Rauh | Tue, 21 Jul 2020 12:45:35 +0200

Update buildsystem for pam_service plugin
------------------------------------------------------------------------
05b22cbd | Michael Rauh | Tue, 21 Jul 2020 12:43:55 +0200

Let debug mask of pamservice plugin be changed via psiadmin
------------------------------------------------------------------------
1d508c68 | Norbert Eicker | Fri, 17 Jul 2020 17:33:04 +0200

Typos and minor improvements
------------------------------------------------------------------------
87942670 | Michael Rauh | Mon, 25 May 2020 17:13:43 +0200

Update buildsystem for pam_service plugin
------------------------------------------------------------------------
952b51f0 | Michael Rauh | Tue, 21 Jul 2020 12:24:35 +0200

Added new plugin pam_service (pct:#362)
 - starts a pam session for all psid and psslurm children
 - activated by loading the plugin, no configuration required
------------------------------------------------------------------------
f0520d4b | Norbert Eicker | Wed, 5 Aug 2020 14:38:42 +0200

Allow admin users direct use of mpiexec (#2845)
------------------------------------------------------------------------
d4ab669b | Norbert Eicker | Wed, 5 Aug 2020 14:32:36 +0200

Streamlining.
------------------------------------------------------------------------
5a1ac8ca | Norbert Eicker | Wed, 5 Aug 2020 14:16:31 +0200

Code style fixes
------------------------------------------------------------------------
aa72efa9 | Michael Rauh | Fri, 31 Jul 2020 16:15:47 +0200

Fix possible segfault in psgw plugin
------------------------------------------------------------------------
c4f0d4f1 | Michael Rauh | Fri, 31 Jul 2020 14:06:21 +0200

Update buildsystem
------------------------------------------------------------------------
9da766c7 | Michael Rauh | Fri, 31 Jul 2020 14:01:52 +0200

Let psgw plugin forward stdout/stderr of pelogue scripts
 - new psgw configuration option PELOGUE_LOG_OE to
   activate forwarding
 - the user may prevent the generation of the files
   with the --gw_quiet spank option
------------------------------------------------------------------------
82ad1ee8 | Michael Rauh | Mon, 27 Jul 2020 16:51:42 +0200

Execute epilogue on gateway nodes
------------------------------------------------------------------------
f5b85f3d | Michael Rauh | Fri, 24 Jul 2020 16:50:08 +0200

Add support for magic Slurm signal SIG_TERM_KILL
------------------------------------------------------------------------
c27cf014 | Michael Rauh | Fri, 24 Jul 2020 16:37:06 +0200

Update magic Slurm signals
------------------------------------------------------------------------
4b2fa46d | Michael Rauh | Fri, 24 Jul 2020 16:35:57 +0200

Minor improvment of spank_test error messages
------------------------------------------------------------------------
52f8ae63 | Michael Rauh | Mon, 13 Jul 2020 18:32:30 +0200

Add support to psaccount to read energy data
collected using a script
------------------------------------------------------------------------
d1be08ae | Michael Rauh | Sun, 28 Jun 2020 12:58:33 +0200

Add support for RPC REQUEST_SUSPEND_INT in psslurm (pct:#174)
------------------------------------------------------------------------
566d98eb | Michael Rauh | Thu, 25 Jun 2020 11:33:15 +0200

Save output of prologue/epilogue scripts of an allocation on
the mother superior node
 - can be enabled for prologue with pspelogue option --fwPrologueOE
 - can be enabled for epilogue with psslurm option PELOGUE_LOG_OE
------------------------------------------------------------------------
08d5f6e9 | Michael Rauh | Tue, 23 Jun 2020 10:33:33 +0200

Use hook PSIDHOOK_PELOGUE_OE in pelogue to forward scripts
stdout and stderr streams
------------------------------------------------------------------------
ac467e35 | Michael Rauh | Mon, 22 Jun 2020 17:26:40 +0200

Add new hook PSIDHOOK_PELOGUE_OE
 - let plugins handle stdout and stderr of pro/epilogue scripts
 - mainly used by psslurm
 - set pluginAPIVersion to 126
------------------------------------------------------------------------
caedb020 | Michael Rauh | Mon, 22 Jun 2020 16:08:00 +0200

Add option to let pluginforwarder forward the child's stdout/stderr
to the mother
------------------------------------------------------------------------
30a7d543 | Michael Rauh | Thu, 4 Jun 2020 15:06:48 +0200

Refactore saveForwardedMsgRes() and improve documentation
------------------------------------------------------------------------
67da4435 | Michael Rauh | Wed, 3 Jun 2020 16:03:47 +0200

Report node failure in job error output (pct:#298)
------------------------------------------------------------------------
e3adffb2 | Michael Rauh | Tue, 2 Jun 2020 12:36:55 +0200

Print error message to jobs stderr if the job is cancelled due to
wall-time limit (pct:#219)
------------------------------------------------------------------------
b8f26413 | Michael Rauh | Fri, 29 May 2020 16:27:23 +0200

Add support for REQUEST_JOB_NOTIFY (pct:#175)
------------------------------------------------------------------------
36e4ed87 | Michael Rauh | Thu, 28 May 2020 14:23:54 +0200

Hide forwarder control messages from hook handleMthrMsg()
if not requested otherwise
------------------------------------------------------------------------
18a878a1 | Michael Rauh | Wed, 27 May 2020 12:10:05 +0200

New job I/O handling mechanism to allow message injection
------------------------------------------------------------------------
9c4ff7ae | Michael Rauh | Wed, 27 May 2020 11:27:50 +0200

Fix indentation of psslurmio.c
------------------------------------------------------------------------


Version psmgmt-5.1.30:
======================
------------------------------------------------------------------------
d1694917 | Norbert Eicker | Mon, 4 May 2020 23:28:10 +0200

Enhance debug when dropping PSP_CC_PLUG_PELOGUE message
------------------------------------------------------------------------
93c53879 | Stephan Krempel | Mon, 4 May 2020 20:51:22 +0200

psslurmgetbind: Adjust output for --membind=none
------------------------------------------------------------------------
8d0b3054 | Michael Rauh | Thu, 30 Apr 2020 16:48:17 +0200

Added psslurm epilogue.finalize example script
------------------------------------------------------------------------
78450b50 | Michael Rauh | Thu, 30 Apr 2020 12:15:37 +0200

Fix print format errors unveiled by cppcheck
------------------------------------------------------------------------
42d9e32d | Stephan Krempel | Tue, 28 Apr 2020 18:52:14 +0200

psslurmpin: Fix printing of memory masks for more than 4 sockets
------------------------------------------------------------------------
be0235fc | Stephan Krempel | Tue, 28 Apr 2020 18:51:12 +0200

psslurmgetbind: Add support for --mem-bind
------------------------------------------------------------------------
c04c2e4e | Stephan Krempel | Tue, 28 Apr 2020 16:33:13 +0200

psslurmpin: Restructuring of memory bind code
------------------------------------------------------------------------
36ec3075 | Stephan Krempel | Fri, 24 Apr 2020 16:41:06 +0200

psslurmpin: Use local variable for hints
------------------------------------------------------------------------
aaf2a6e8 | Stephan Krempel | Thu, 23 Apr 2020 13:44:31 +0200

psslurmgetbind: Support -B option implied cpu-bind
------------------------------------------------------------------------
9487dd29 | Stephan Krempel | Thu, 23 Apr 2020 13:00:52 +0200

psslurmpin: Fix debugging output
------------------------------------------------------------------------
c5377e84 | Stephan Krempel | Wed, 22 Apr 2020 00:14:47 +0200

psslurmpin: Use correct type for task distribution
------------------------------------------------------------------------
b686d23d | Norbert Eicker | Wed, 22 Apr 2020 00:12:09 +0200

Update autogenerated buildfiles
------------------------------------------------------------------------
9d968947 | Stephan Krempel | Tue, 21 Apr 2020 15:49:14 +0200

psslurmgetbind: Handle hint via environment method
------------------------------------------------------------------------
44ece29c | Stephan Krempel | Tue, 21 Apr 2020 15:46:09 +0200

psslurmgetbind: Take defaults in psslurm.conf into account
------------------------------------------------------------------------
bc476faa | Stephan Krempel | Tue, 21 Apr 2020 11:36:23 +0200

psslurmgetbind: Fix name of cpu-bind parameter rank_ldom
------------------------------------------------------------------------
926930d2 | Stephan Krempel | Mon, 20 Apr 2020 17:22:31 +0200

psslurmpin: Implement hint over PSSLURM_HINT and SLURM_HINT

* See psc#349
------------------------------------------------------------------------
9644bf4f | Stephan Krempel | Mon, 20 Apr 2020 13:57:11 +0200

psslurmgetpin: Rename to psslurmgetbind
------------------------------------------------------------------------
7112932b | Stephan Krempel | Mon, 20 Apr 2020 13:46:27 +0200

psslurmgetpin: Fix to work with pinning code using flog/fdbg
------------------------------------------------------------------------
4da05b50 | Stephan Krempel | Mon, 20 Apr 2020 11:37:37 +0200

psslurmpin: Additional comment
------------------------------------------------------------------------
48c0fa41 | Stephan Krempel | Fri, 17 Apr 2020 17:04:05 +0200

psslurmpin: Make defaults for cpu-bind and distribution configurable

This introduces the following new psconfig.conf entries:
 * DEFAULT_CPU_BIND_TYPE  (default cpu-bind type)
 * DEFAULT_SOCKET_DIST    (default socket level distribution)
 * DEFAULT_CORE_DIST      (default core level distribution

The possible values are:
 * DEFAULT_CPU_BIND_TYPE = [none|rank|threads|cores|sockets]
 * DEFAULT_SOCKET_DIST = [block|cyclic|fcyclic]
 * DEFAULT_CORE_DIST = [block|cyclic|fcyclic|inherit]
------------------------------------------------------------------------
c0b96830 | Stephan Krempel | Fri, 17 Apr 2020 16:01:52 +0200

psslurmpin: Unifying function definition format
------------------------------------------------------------------------
9d3d5417 | Stephan Krempel | Thu, 16 Apr 2020 14:23:18 +0200

psslurmpin: Rename setHWthreads to setStepSlots and document it
------------------------------------------------------------------------
4974b378 | Stephan Krempel | Mon, 24 Feb 2020 14:17:57 +0100

psslurmpin: Adjust tests after rebase to master
------------------------------------------------------------------------
4e9dd73d | Stephan Krempel | Mon, 24 Feb 2020 14:16:25 +0100

psslurmgetpin: Adjustments after rebase to master
------------------------------------------------------------------------
2508169d | Stephan Krempel | Tue, 18 Feb 2020 08:39:05 +0100

psslurmgetpin: Filter unsupported negative values to options
------------------------------------------------------------------------
6b608e02 | Stephan Krempel | Tue, 18 Feb 2020 08:21:52 +0100

psslurmgetpin: Set default number of threads per task to 1.
------------------------------------------------------------------------
d8034ac5 | Stephan Krempel | Tue, 18 Feb 2020 08:19:10 +0100

psslurmgetpin: Add error output on missing srun options
------------------------------------------------------------------------
289edb82 | Stephan Krempel | Tue, 18 Feb 2020 08:12:28 +0100

psslurmgetpin: Small fix in help and error output
------------------------------------------------------------------------
ba294948 | Stephan Krempel | Mon, 17 Feb 2020 15:50:22 +0100

psslurmgetpin: Detailed help output
------------------------------------------------------------------------
95482c51 | Stephan Krempel | Wed, 12 Feb 2020 04:27:01 +0100

psslurmpin: Fix output environment variables
------------------------------------------------------------------------
307c03dd | Stephan Krempel | Wed, 12 Feb 2020 03:38:47 +0100

psslurmgetpin: Exit if invalid argument given.
------------------------------------------------------------------------
01ef2706 | Stephan Krempel | Wed, 12 Feb 2020 03:32:38 +0100

psslurmpin: Fix pinning test program
------------------------------------------------------------------------
68aaec5d | Stephan Krempel | Wed, 12 Feb 2020 03:31:45 +0100

psslurmpin: Fix handling of CPU_BIND_ONE_THREAD_PER_CORE
------------------------------------------------------------------------
992819db | Stephan Krempel | Tue, 11 Feb 2020 12:28:16 +0100

psslurmpin: Add more debugging output
------------------------------------------------------------------------
68d95271 | Stephan Krempel | Tue, 11 Feb 2020 12:20:31 +0100

psslurm: Enhance psslurmgetpin
------------------------------------------------------------------------
00189aa2 | Stephan Krempel | Fri, 31 Jan 2020 17:39:51 +0100

psslurm: Add first version of psslurmgetpin tool
------------------------------------------------------------------------
682a419e | Stephan Krempel | Mon, 13 Jan 2020 08:55:26 +0100

psslurmpin: Small fix
------------------------------------------------------------------------
eee42b93 | Stephan Krempel | Thu, 24 Oct 2019 14:34:26 +0200

psslurm: Regenerate Makefile.in
------------------------------------------------------------------------
e2194977 | Stephan Krempel | Thu, 24 Oct 2019 14:24:17 +0200

psslurm: Build psslurm with -std=gnu99
------------------------------------------------------------------------
0b89adc2 | Stephan Krempel | Fri, 27 Sep 2019 15:02:19 +0200

psslurmpin: Complete rework of pinning

We now respect all levels of Slurm's distribution option.
Internally we switched completely to the much easier to handle
iterator approach introduced for ldom_ranks pinning.
Some pinning options now lead to different results than before,
but in general it is more consitent now.
------------------------------------------------------------------------
8ce09e72 | Stephan Krempel | Mon, 19 Feb 2018 14:34:02 +0100

psslurmpin: little cleanup
------------------------------------------------------------------------
dbbdd7b2 | Michael Rauh | Tue, 28 Apr 2020 17:19:07 +0200

Activate spank hook SPANK_INIT_POST_OPT and warn if spank hooks return
an error
------------------------------------------------------------------------
e541ff8a | Michael Rauh | Tue, 28 Apr 2020 16:57:17 +0200

Bugfix: fix unreliable execution of the epilogue.finalize script
 - ensure vars of the env_t structure are null terminated for execve()
 - add additional error reporting
------------------------------------------------------------------------
38f59294 | Norbert Eicker | Fri, 24 Apr 2020 16:22:00 +0200

Start booleanization of rdp.c
------------------------------------------------------------------------
aed69e4d | Norbert Eicker | Fri, 24 Apr 2020 16:02:08 +0200

Improve comments
------------------------------------------------------------------------
798e8bf3 | Norbert Eicker | Fri, 24 Apr 2020 14:07:09 +0200

Improve RDP error logging
------------------------------------------------------------------------
74018c82 | Norbert Eicker | Fri, 24 Apr 2020 12:48:58 +0200

Skip undefined nodes faster in case of split brain
------------------------------------------------------------------------
7c62e828 | Michael Rauh | Thu, 23 Apr 2020 15:33:38 +0200

Improve logging of pspelogue
------------------------------------------------------------------------
410ae5dd | Norbert Eicker | Wed, 22 Apr 2020 00:03:45 +0200

Bugfix: Protocol messed up between psid and psiadmin (#2841)
------------------------------------------------------------------------
64e06397 | Michael Rauh | Mon, 20 Apr 2020 17:40:43 +0200

Fix spank plugin argument parsing
------------------------------------------------------------------------
415c73f7 | Michael Rauh | Thu, 16 Apr 2020 15:18:37 +0200

Fix warnings unveiled by cppcheck
------------------------------------------------------------------------
058c32a7 | Stephan Krempel | Wed, 15 Apr 2020 18:20:10 +0200

psslurm: Preserve partition options, esp. overcommit
------------------------------------------------------------------------
5e8c3860 | Stephan Krempel | Wed, 15 Apr 2020 17:10:02 +0200

psslurm: Add notes about tpp option in mpiexec calls
------------------------------------------------------------------------
2633f6ca | Stephan Krempel | Wed, 15 Apr 2020 17:07:29 +0200

psslurm: Fix potential problem with invalid slot lists in messages
------------------------------------------------------------------------
a9002f5c | Norbert Eicker | Tue, 14 Apr 2020 22:28:10 +0200

More detailed description of PSCPU_print_part()
------------------------------------------------------------------------
25dc4101 | Norbert Eicker | Tue, 14 Apr 2020 22:20:09 +0200

Reorganize to prevent goto
------------------------------------------------------------------------
f48c8313 | Norbert Eicker | Tue, 14 Apr 2020 22:16:41 +0200

Add comment and fix some typos.
------------------------------------------------------------------------
2232b666 | Norbert Eicker | Tue, 14 Apr 2020 22:11:13 +0200

Extend docu of PSIDHOOK_GETRESERVATION and push API version to 125
------------------------------------------------------------------------
fa2d0364 | Norbert Eicker | Tue, 14 Apr 2020 22:10:04 +0200

Fix whitespace/indentation
------------------------------------------------------------------------
e3b2d8e4 | Stephan Krempel | Tue, 14 Apr 2020 16:57:19 +0200

psslurm: Fix reservation creation for multiprog steps
------------------------------------------------------------------------
fca4cea9 | Stephan Krempel | Tue, 14 Apr 2020 16:55:54 +0200

Fix some whitespaces
------------------------------------------------------------------------
fbbd4832 | Stephan Krempel | Tue, 14 Apr 2020 16:48:08 +0200

psslurm: Add debugging output for multiprog step handling
------------------------------------------------------------------------
63e30405 | Stephan Krempel | Fri, 3 Apr 2020 06:12:47 +0200

psslurm: New handling of partition and reservation creation

This especially fixes the bug psc#348 that turned out not to be
specific for the new pinning implementation.

Changes:
1. psslurm now creates the partition the same way as the psid would
   do, so there is only one slot per node in a partition and each
   hardware thread exists only once in the list of HWthreads.
2. psslurm not uses the PSIDHOOK_GETRESERVATION hook to take over
   control of the reservation creation, too. So the reservation will
   now contain the slotsi for the processes as calculated by the
   psslurm pinning and ignoring any tpp value and so the spawning
   code can set correct pinning even with different threads for each
   process spawned.
------------------------------------------------------------------------
9706d428 | Stephan Krempel | Fri, 3 Apr 2020 03:30:54 +0200

Enhance debugging output
------------------------------------------------------------------------
322dc673 | Stephan Krempel | Fri, 3 Apr 2020 03:29:59 +0200

Introduce new hook PSIDHOOK_GETRESERVATION
------------------------------------------------------------------------
60e6bfcc | Stephan Krempel | Fri, 3 Apr 2020 03:27:59 +0200

Fix typo
------------------------------------------------------------------------
41a0f478 | Stephan Krempel | Thu, 19 Mar 2020 14:46:32 +0100

Add missing newline to some warning messages
------------------------------------------------------------------------
5a03568e | Stephan Krempel | Wed, 12 Feb 2020 05:59:02 +0100

psslurm: Replace hwThreads by slots

In particular, this should improve communication efficiency
------------------------------------------------------------------------
79d9f4dc | Michael Rauh | Wed, 8 Apr 2020 15:21:24 +0200

Bugfix: don't set SLURM_NTASKS and SLURM_NPROCS for jobs (pct:#355)
 1. the variables are already in the job environment
 2. the ntasks value of the Slurm procotol is broken
------------------------------------------------------------------------
77c521f9 | Michael Rauh | Mon, 6 Apr 2020 16:05:06 +0200

Add support to replace the file pattern "%x" with the jobname in psslurm
(pct:#353)
------------------------------------------------------------------------
e9032ee5 | Michael Rauh | Thu, 2 Apr 2020 15:13:04 +0200

Fix warnings unveiled by clang and streamlining
------------------------------------------------------------------------
261dd73b | Michael Rauh | Tue, 31 Mar 2020 12:52:00 +0200

Minor improvements of plugin pty functions
------------------------------------------------------------------------
29b002d6 | Norbert Eicker | Fri, 27 Mar 2020 12:13:10 +0100

Use hwloc to detect HW-threads and cores (#2833)

 - Get rid of the homebrew code used for that
------------------------------------------------------------------------
e1b9044e | Norbert Eicker | Fri, 27 Mar 2020 11:43:30 +0100

Check for hwloc library in configure
------------------------------------------------------------------------
27035ad3 | Michael Rauh | Fri, 27 Mar 2020 11:42:03 +0100

Add support for "print" and "unset" in psslurm task prologue
------------------------------------------------------------------------
3b381c1e | Michael Rauh | Fri, 27 Mar 2020 11:04:33 +0100

Bugfix: don't use putenv() with an automatic variable

 - This prevented to export multiple environment variables
   in task prolog
------------------------------------------------------------------------


Version psmgmt-5.1.29-1:
========================
------------------------------------------------------------------------
614f2e0c | Michael Rauh | Tue, 24 Mar 2020 12:11:54 +0100

Add option DISABLE_SPANK to prevent loading of spank plugins in psslurm
------------------------------------------------------------------------
d66d03c0 | Michael Rauh | Mon, 23 Mar 2020 13:51:41 +0100

Let psslurm execute an epilogue finalize script on mother superior
------------------------------------------------------------------------
e30d002b | Norbert Eicker | Fri, 20 Mar 2020 17:59:11 +0100

Bugfix: Avoid RDP-Timer warnings in psidforwarder (jwt:#4473)
------------------------------------------------------------------------
c51bf688 | Norbert Eicker | Thu, 12 Mar 2020 20:44:51 +0100

Bugfix: Add missing newlines to psidforwarder's logs
------------------------------------------------------------------------
d0cae419 | Stephan Krempel | Thu, 12 Mar 2020 16:15:37 +0100

psslurm: Fix typos
------------------------------------------------------------------------
e1728c16 | Stephan Krempel | Thu, 12 Mar 2020 16:13:05 +0100

psslurm: Fix some function comments
------------------------------------------------------------------------


Version psmgmt-5.1.29:
======================
------------------------------------------------------------------------
83c5ecf | Norbert Eicker | Fri, 6 Mar 2020 16:07:51 +0100

Don't be too aggressive on freeing memory
------------------------------------------------------------------------
2ee7eb3d | Michael Rauh | Thu, 5 Mar 2020 18:47:54 +0100

Add support for Slurm PluginDir option in psslurm
 - support relative path to spank plugins
 - make psslurm debug logging available in config parsing
 - automatically unload non spank plugins
 - add support for spank optional flag
------------------------------------------------------------------------
2fbb3f8e | Norbert Eicker | Wed, 4 Mar 2020 23:59:50 +0100

Pass aggressive flag to PSIDHOOK_CLEARMEM

 - Also bump pluginAPIVersion to 124
------------------------------------------------------------------------
3af32fc3 | Norbert Eicker | Wed, 4 Mar 2020 23:57:46 +0100

Fix typo
------------------------------------------------------------------------
4a27ba24 | Norbert Eicker | Wed, 4 Mar 2020 23:40:08 +0100

Bugfix: Don't send infinite SPAWNFAILED messages (jwt:#5160)
------------------------------------------------------------------------
be4baf34 | Norbert Eicker | Wed, 4 Mar 2020 12:38:31 +0100

Add aggressive flag to PSID_clearMem()

 - Free even information on tasks and nodes
 - Flag only set for psidforwarder which shall be save
------------------------------------------------------------------------
644fb2b5 | Michael Rauh | Wed, 26 Feb 2020 16:14:54 +0100

Call PSID_clearMem() for all plugin forwarders
------------------------------------------------------------------------
8eb9482e | Michael Rauh | Fri, 21 Feb 2020 16:25:20 +0100

Let the psgw plugin signal the process group when
stopping the psgwd
------------------------------------------------------------------------
8b398eb0 | Michael Rauh | Fri, 21 Feb 2020 12:27:34 +0100

Improve reporting of node failures to slurmctld
------------------------------------------------------------------------
87e8e298 | Michael Rauh | Wed, 19 Feb 2020 13:25:19 +0100

Add option SLURM_SPANK_CONF to configuration template
------------------------------------------------------------------------
9a514c66 | Michael Rauh | Wed, 19 Feb 2020 13:07:41 +0100

Add missing newline to error message
------------------------------------------------------------------------
d865c203 | Michael Rauh | Fri, 14 Feb 2020 13:20:21 +0100

Update buildsystem
------------------------------------------------------------------------
197a7f4e | Michael Rauh | Fri, 14 Feb 2020 13:17:02 +0100

Cleanup initialize function of the spank API
------------------------------------------------------------------------
b262bdaa | Michael Rauh | Thu, 13 Feb 2020 11:28:39 +0100

Update buildsystem
------------------------------------------------------------------------
fbb9db95 | Michael Rauh | Thu, 13 Feb 2020 11:27:48 +0100

Move spank_test to plugin test folder
------------------------------------------------------------------------
882393b8 | Norbert Eicker | Thu, 13 Feb 2020 09:17:04 +0100

Remove obsolete build dependency systemd-devel on OpenSUSE
------------------------------------------------------------------------
14c79336 | Michael Rauh | Wed, 12 Feb 2020 14:58:40 +0100

Improve naming of the psslurm step forwarders
------------------------------------------------------------------------
bb59545a | Michael Rauh | Wed, 12 Feb 2020 10:34:27 +0100

Add support for spank items S_JOB_PID_TO_GLOBAL_ID, S_JOB_PID_TO_LOCAL_ID,
S_JOB_LOCAL_TO_GLOBAL_ID and S_JOB_GLOBAL_TO_LOCAL_ID
------------------------------------------------------------------------
4e4e26dc | Norbert Eicker | Tue, 11 Feb 2020 19:40:33 +0100

Booleanize psiinfo
------------------------------------------------------------------------
7e2e4278 | Norbert Eicker | Tue, 11 Feb 2020 18:25:19 +0100

Last -Wshadow warnings fixed
------------------------------------------------------------------------
9b35fb69 | Norbert Eicker | Tue, 11 Feb 2020 18:06:18 +0100

Booleanize flags in PSrsrvtn_t
------------------------------------------------------------------------
b9ea6f1b | Norbert Eicker | Tue, 11 Feb 2020 13:24:55 +0100

Bugfix: Fix bug unveiled by -Wshadow

 - This prevented PSID_execScript() and PSID_execFunc() to report failed
   execution to the controlling daemon
------------------------------------------------------------------------
99114faf | Michael Rauh | Tue, 11 Feb 2020 12:49:51 +0100

Update Slurm binding definitions
------------------------------------------------------------------------
edefb13d | Stephan Krempel | Tue, 11 Feb 2020 12:29:17 +0100

psslurm: Print task distribution mask in debugging output
------------------------------------------------------------------------
ae0c05c6 | Norbert Eicker | Tue, 11 Feb 2020 12:30:19 +0100

Streamlining, booleanization, etc.
------------------------------------------------------------------------
226024ef | Norbert Eicker | Tue, 11 Feb 2020 11:00:36 +0100

More -Wshadow warnings fixed
------------------------------------------------------------------------
e46f6833 | Norbert Eicker | Tue, 11 Feb 2020 10:44:40 +0100

Merge upstream bugfix into linenoise
------------------------------------------------------------------------
01294a60 | Norbert Eicker | Tue, 11 Feb 2020 10:42:28 +0100

More -Wshadow warnings fixed
------------------------------------------------------------------------
794662d1 | Michael Rauh | Mon, 10 Feb 2020 14:36:03 +0100

Add support for spank item SPANK_TASK_EXIT
------------------------------------------------------------------------
9a035988 | Norbert Eicker | Mon, 10 Feb 2020 22:12:15 +0100

Fix more -Wshadow warnings
------------------------------------------------------------------------
8f21e8ac | Norbert Eicker | Mon, 10 Feb 2020 22:06:12 +0100

Fix some more -Wshadow warnings
------------------------------------------------------------------------
8081d480 | Norbert Eicker | Mon, 10 Feb 2020 21:32:07 +0100

Revert gcc-10's change to make -fno-common default where required
------------------------------------------------------------------------
cd047f3d | Norbert Eicker | Mon, 10 Feb 2020 21:29:59 +0100

Unify naming of config(-definition) in plugins
------------------------------------------------------------------------
76fbdbe8 | Norbert Eicker | Mon, 10 Feb 2020 12:58:19 +0100

Actually print the right type
------------------------------------------------------------------------
5713cadd | Norbert Eicker | Mon, 10 Feb 2020 11:38:07 +0100

Minor streamlining
------------------------------------------------------------------------
872bd541 | Michael Rauh | Fri, 7 Feb 2020 16:52:05 +0100

Fix segfault introduced in 6955e2cb
------------------------------------------------------------------------
ef7708b7 | Michael Rauh | Thu, 6 Feb 2020 17:46:05 +0100

Fix warnings unveiled by cppcheck
------------------------------------------------------------------------
6955e2cb | Michael Rauh | Thu, 6 Feb 2020 16:50:31 +0100

Refactor psslurmio

 - move forwarder communication to psslurmfwcomm
 - common function naming scheme
 - update documentation
------------------------------------------------------------------------
e43fcf20 | Norbert Eicker | Mon, 3 Feb 2020 20:25:11 +0100

Add new hook PSIDHOOK_FRWRD_CLNT_RES

 - Tell attached plugins about clients exit status
 - Mainly used to implement spank functionality
 - Also bump pluginAPIVersion to 123
------------------------------------------------------------------------
4e9654fe | Norbert Eicker | Mon, 3 Feb 2020 20:21:49 +0100

Rename PSIDHOOK_FRWRD_RESCLIENT to PSIDHOOK_FRWRD_EXIT
------------------------------------------------------------------------
82147651 | Norbert Eicker | Mon, 3 Feb 2020 19:56:01 +0100

Rename PSIDHOOK_FRWRD_CLIENT_STAT to PSIDHOOK_FRWRD_CLNT_RLS
------------------------------------------------------------------------
4e280ca3 | Michael Rauh | Fri, 31 Jan 2020 12:19:34 +0100

Update documentation and minor streamlining of psslurmpelogue
------------------------------------------------------------------------
99f5b5ff | Michael Rauh | Fri, 31 Jan 2020 11:25:24 +0100

Booleanization and update documentation of psslurmlimits
------------------------------------------------------------------------
64085959 | Michael Rauh | Fri, 31 Jan 2020 11:24:51 +0100

Update documentation of psslurmjobcred
------------------------------------------------------------------------
6bd27a7c | Michael Rauh | Fri, 31 Jan 2020 10:11:11 +0100

Update documentation and minor streamlining of psslurmspawn
------------------------------------------------------------------------
a1fc3867 | Michael Rauh | Thu, 30 Jan 2020 17:47:18 +0100

Update documentation of psslurmjob
------------------------------------------------------------------------
2acda3cf | Michael Rauh | Thu, 30 Jan 2020 17:15:41 +0100

Update documentation of psslurmstep
------------------------------------------------------------------------
e8403780 | Michael Rauh | Thu, 30 Jan 2020 15:10:25 +0100

Add support for spank S_JOB_LOCAL_TASK_COUNT
------------------------------------------------------------------------
af675775 | Michael Rauh | Tue, 28 Jan 2020 17:53:51 +0100

Add support for spank S_JOB_TOTAL_TASK_COUNT
------------------------------------------------------------------------
54e5190a | Michael Rauh | Tue, 28 Jan 2020 16:10:38 +0100

Add support for spank S_JOB_NCPUS
------------------------------------------------------------------------
53d1e86c | Michael Rauh | Tue, 28 Jan 2020 12:45:10 +0100

Add support for spank S_JOB_ALLOC_MEM and S_STEP_ALLOC_MEM
------------------------------------------------------------------------
eeec3631 | Michael Rauh | Mon, 27 Jan 2020 17:38:40 +0100

Call spank hook SPANK_USER_INIT in psslurm
------------------------------------------------------------------------
9e891c7b | Michael Rauh | Mon, 27 Jan 2020 16:52:43 +0100

Add documentation to Spank_Hook_Calls_t
------------------------------------------------------------------------
6250c1d2 | Michael Rauh | Fri, 24 Jan 2020 16:29:30 +0100

Update psslurm show command for spank plugins
------------------------------------------------------------------------
90644375 | Michael Rauh | Fri, 24 Jan 2020 15:55:34 +0100

Add support to show spank plugins via psiadmin
------------------------------------------------------------------------
0185dc7c | Michael Rauh | Fri, 24 Jan 2020 14:56:16 +0100

Save spank plugin type and version information
------------------------------------------------------------------------
452cfe42 | Michael Rauh | Fri, 24 Jan 2020 14:30:44 +0100

Declare getVersionItem() and getOtherItem() static
------------------------------------------------------------------------
c2902079 | Michael Rauh | Fri, 24 Jan 2020 11:24:51 +0100

Merge branch 'spank' of git.ccc:/psmgmt into spank
------------------------------------------------------------------------
f5525b28 | Norbert Eicker | Thu, 23 Jan 2020 11:24:33 +0100

Ensure RPM build work without slurm-devel and/or systemd-devel
------------------------------------------------------------------------
27d0b67a | Norbert Eicker | Wed, 22 Jan 2020 19:06:31 +0100

Fix various copyright statements
------------------------------------------------------------------------
2b52d724 | Norbert Eicker | Wed, 22 Jan 2020 19:05:46 +0100

Remove obsolete include
------------------------------------------------------------------------
fbe2b670 | Norbert Eicker | Wed, 22 Jan 2020 17:37:58 +0100

Prevent reading out of Spank_Hook_Table's boundaries
------------------------------------------------------------------------
652681ed | Norbert Eicker | Wed, 22 Jan 2020 17:24:29 +0100

Suppress warning when building without spank
------------------------------------------------------------------------
720a7b1f | Michael Rauh | Wed, 22 Jan 2020 13:50:55 +0100

Merge branch 'master' into spank
------------------------------------------------------------------------
202cd160 | Michael Rauh | Wed, 22 Jan 2020 12:16:54 +0100

Bugfix: fix segfault for long spank cmdline options (jrt:#10196)
------------------------------------------------------------------------
8b09baeb | Norbert Eicker | Tue, 21 Jan 2020 19:26:00 +0100

Remove obsolete tweaks for automounts
------------------------------------------------------------------------
5cca1794 | Michael Rauh | Fri, 17 Jan 2020 12:52:41 +0100

Merge branch 'spank' of git.ccc:/psmgmt into spank
------------------------------------------------------------------------
57bf7912 | Michael Rauh | Fri, 6 Dec 2019 14:19:51 +0100

Udpate build system
------------------------------------------------------------------------
4d18e87c | Michael Rauh | Fri, 6 Dec 2019 14:11:53 +0100

Add spank test plugin
------------------------------------------------------------------------
002a9071 | Michael Rauh | Fri, 6 Dec 2019 13:45:27 +0100

Add support for spank hooks SPANK_INIT and SPANK_EXIT
------------------------------------------------------------------------
e0898ff8 | Michael Rauh | Thu, 5 Dec 2019 15:55:22 +0100

Improve error values in spank item query calls
------------------------------------------------------------------------
4a135e7b | Michael Rauh | Thu, 5 Dec 2019 12:51:25 +0100

Add support for slurm version query in spank
------------------------------------------------------------------------
e1924c10 | Michael Rauh | Mon, 2 Dec 2019 16:14:36 +0100

Update RPM build system
------------------------------------------------------------------------
edff8dc1 | Michael Rauh | Mon, 2 Dec 2019 15:19:45 +0100

Add hooks to call the spank plugins in psslurm forwarder
------------------------------------------------------------------------
484f19dc | Michael Rauh | Mon, 2 Dec 2019 14:45:34 +0100

Update psslurmconfig documentation and fix object definition
------------------------------------------------------------------------
70e1f6ec | Michael Rauh | Mon, 2 Dec 2019 14:36:27 +0100

Add spank config parsing of plugstack.conf
------------------------------------------------------------------------
d420b109 | Michael Rauh | Mon, 2 Dec 2019 14:19:51 +0100

Save job restart count
------------------------------------------------------------------------
91e4f7f5 | Michael Rauh | Mon, 2 Dec 2019 14:18:20 +0100

Add spank function handles and debug mask
------------------------------------------------------------------------
98f459f9 | Michael Rauh | Mon, 2 Dec 2019 13:58:45 +0100

Update the buildsystem
------------------------------------------------------------------------
e69e7488 | Michael Rauh | Mon, 2 Dec 2019 13:56:32 +0100

Add prototype to support the Slurm spank api
------------------------------------------------------------------------
162824d8 | Michael Rauh | Fri, 6 Dec 2019 15:30:00 +0100

Merge branch 'master' into spank
------------------------------------------------------------------------
08a5e73d | Michael Rauh | Fri, 6 Dec 2019 14:19:51 +0100

Udpate build system
------------------------------------------------------------------------
31b757fc | Michael Rauh | Fri, 6 Dec 2019 14:11:53 +0100

Add spank test plugin
------------------------------------------------------------------------
f971ca2f | Michael Rauh | Fri, 6 Dec 2019 13:45:27 +0100

Add support for spank hooks SPANK_INIT and SPANK_EXIT
------------------------------------------------------------------------
0714ab74 | Michael Rauh | Thu, 5 Dec 2019 15:55:22 +0100

Improve error values in spank item query calls
------------------------------------------------------------------------
61dbf1ba | Michael Rauh | Thu, 5 Dec 2019 12:51:25 +0100

Add support for slurm version query in spank
------------------------------------------------------------------------
de542389 | Michael Rauh | Wed, 4 Dec 2019 12:00:20 +0100

Merge branch 'master' into spank
------------------------------------------------------------------------
ead38df8 | Michael Rauh | Mon, 2 Dec 2019 16:14:36 +0100

Update RPM build system
------------------------------------------------------------------------
3ac48885 | Michael Rauh | Mon, 2 Dec 2019 15:21:47 +0100

Merge branch 'master' into spank
------------------------------------------------------------------------
cf605933 | Michael Rauh | Mon, 2 Dec 2019 15:19:45 +0100

Add hooks to call the spank plugins in psslurm forwarder
------------------------------------------------------------------------
d9faeaf5 | Michael Rauh | Mon, 2 Dec 2019 14:45:34 +0100

Update psslurmconfig documentation and fix object definition
------------------------------------------------------------------------
0e78523e | Michael Rauh | Mon, 2 Dec 2019 14:36:27 +0100

Add spank config parsing of plugstack.conf
------------------------------------------------------------------------
77fa7daf | Michael Rauh | Mon, 2 Dec 2019 14:19:51 +0100

Save job restart count
------------------------------------------------------------------------
0731fda9 | Michael Rauh | Mon, 2 Dec 2019 14:18:20 +0100

Add spank function handles and debug mask
------------------------------------------------------------------------
cc7dd2b3 | Michael Rauh | Mon, 2 Dec 2019 13:58:45 +0100

Update the buildsystem
------------------------------------------------------------------------
13da6f34 | Michael Rauh | Mon, 2 Dec 2019 13:56:32 +0100

Add prototype to support the Slurm spank api
------------------------------------------------------------------------


Version psmgmt-5.1.28:
======================
------------------------------------------------------------------------
3c9cecab | Norbert Eicker | Mon, 20 Jan 2020 16:24:04 +0100

Merge branch 'valgrind'
------------------------------------------------------------------------
be6e24fb | Norbert Eicker | Mon, 20 Jan 2020 16:22:06 +0100

Some streamlining.
------------------------------------------------------------------------
1aec5b13 | Michael Rauh | Fri, 17 Jan 2020 10:52:08 +0100

Unifiy prototype of PSID_sendSignal()
------------------------------------------------------------------------
ac84d4c2 | Michael Rauh | Fri, 17 Jan 2020 10:50:31 +0100

Initialize various structures detected by valgrind
------------------------------------------------------------------------
eb360d99 | Stephan Krempel | Thu, 16 Jan 2020 13:37:57 +0100

pspmix: Add OMPI_* variables to client environment (psc#326)
------------------------------------------------------------------------
d893f948 | Stephan Krempel | Thu, 16 Jan 2020 13:36:10 +0100

pspmix: Comment on client object usage
------------------------------------------------------------------------
72a670c8 | Michael Rauh | Tue, 14 Jan 2020 15:50:32 +0100

Fix possible segfault when the TRes database is not configured
------------------------------------------------------------------------
c2b72b28 | Norbert Eicker | Mon, 13 Jan 2020 09:59:04 +0100

When running in VM, recvfrom() might return ENOENT
------------------------------------------------------------------------
cb9b6ff9 | Norbert Eicker | Mon, 13 Jan 2020 09:51:09 +0100

More booleanization of psidstatus.
------------------------------------------------------------------------
6c25b60b | Norbert Eicker | Mon, 13 Jan 2020 09:43:55 +0100

Fix docu comment.
------------------------------------------------------------------------
5a62bac0 | Norbert Eicker | Fri, 10 Jan 2020 20:39:49 +0100

Limit PIDs to 32768 via sysctl configuration (#2826)
------------------------------------------------------------------------
dfe559c9 | Norbert Eicker | Fri, 10 Jan 2020 19:39:23 +0100

Ensure building RPMs works without pam-devel
------------------------------------------------------------------------
645235fb | Michael Rauh | Fri, 27 Dec 2019 21:16:45 +0100

Improve Slurm message reply code of psslurm
------------------------------------------------------------------------
38e5637b | Norbert Eicker | Fri, 20 Dec 2019 17:41:52 +0100

Fix function declaration.
------------------------------------------------------------------------
99ada29e | Michael Rauh | Fri, 20 Dec 2019 14:51:39 +0100

Fix some warnings unveiled by gcc -Wshadow option
------------------------------------------------------------------------
49631e46 | Michael Rauh | Fri, 20 Dec 2019 13:08:08 +0100

Make slurmctld prologue work with the gcc address sanitizer on
------------------------------------------------------------------------
dea9a4f6 | Michael Rauh | Fri, 20 Dec 2019 13:05:57 +0100

Fix format string errors
------------------------------------------------------------------------
95a87e79 | Norbert Eicker | Tue, 10 Dec 2019 12:59:06 +0100

Merge branch 'tm/psgw_py_fixes'
------------------------------------------------------------------------
e09d7dda | Michael Rauh | Mon, 9 Dec 2019 17:03:29 +0100

Revert "Enhancement: set SLURM_NTASKS_PER_NODE if it was not set by sbatch"

This reverts commit 54e5d5738ec88d6c9d9a16aa0bfdcde87f4719fd.
------------------------------------------------------------------------
580655fb | Michael Rauh | Thu, 5 Dec 2019 16:11:19 +0100

Merge branch 'master' into tm/psgw_py_fixes
------------------------------------------------------------------------
99975465 | Thomas Moschny | Fri, 8 Nov 2019 08:42:56 +0100

Cosmetics.
------------------------------------------------------------------------
f2f198e0 | Thomas Moschny | Fri, 8 Nov 2019 08:39:56 +0100

has_key() is deprecated.
------------------------------------------------------------------------
bdf791a6 | Thomas Moschny | Fri, 25 Oct 2019 14:03:43 +0200

Fix a number of pylint warnings.
------------------------------------------------------------------------
4ce457bc | Thomas Moschny | Fri, 25 Oct 2019 13:45:35 +0200

Use more Pythonic way of string formatting.
------------------------------------------------------------------------
3d9c8c18 | Thomas Moschny | Fri, 25 Oct 2019 10:28:39 +0200

Make it explicit that print is used as a function.
------------------------------------------------------------------------
6616eaad | Thomas Moschny | Thu, 24 Oct 2019 19:40:14 +0200

Move main code in its own function.
------------------------------------------------------------------------
0ea08344 | Thomas Moschny | Thu, 24 Oct 2019 19:38:36 +0200

Check for None with 'is'.
------------------------------------------------------------------------
3be5fd15 | Thomas Moschny | Thu, 24 Oct 2019 19:32:07 +0200

Remove unused imports.
------------------------------------------------------------------------
163106fd | Thomas Moschny | Thu, 24 Oct 2019 19:28:40 +0200

Make Python version used explicit.
------------------------------------------------------------------------


Version psmgmt-5.1.27-1:
========================
------------------------------------------------------------------------
61dcae53 | Michael Rauh | Thu, 5 Dec 2019 10:54:41 +0100

Fix possible segfault when accounting data is packed (j3t:#1345)
------------------------------------------------------------------------


Version psmgmt-5.1.27:
======================
------------------------------------------------------------------------
07b2bd1b | Norbert Eicker | Tue, 3 Dec 2019 18:07:31 +0100

Minor cleanup
------------------------------------------------------------------------
d155deac | Norbert Eicker | Tue, 12 Nov 2019 12:19:59 +0100

Fix various format string warning unveiled by cppcheck
------------------------------------------------------------------------
a8de6339 | Norbert Eicker | Tue, 12 Nov 2019 11:49:50 +0100

Fix cppcheck warning
------------------------------------------------------------------------
c09715d8 | Norbert Eicker | Tue, 12 Nov 2019 11:47:37 +0100

Avoid typecast int* -> float* bemoaned by cppcheck
------------------------------------------------------------------------
a93fbcb4 | Norbert Eicker | Tue, 12 Nov 2019 11:23:33 +0100

Fix cppcheck warning on variadic arguments
------------------------------------------------------------------------
9a07e5c3 | Norbert Eicker | Wed, 6 Nov 2019 12:44:04 +0100

Fix warnings unveiled by cppcheck
------------------------------------------------------------------------
3e12cb76 | Norbert Eicker | Wed, 6 Nov 2019 12:16:11 +0100

Let's assume we only support Linux
------------------------------------------------------------------------
4c6af580 | Michael Rauh | Tue, 26 Nov 2019 10:10:09 +0100

Bugfix: fix possible segfault in psgw startup
------------------------------------------------------------------------
6f496867 | Norbert Eicker | Fri, 15 Nov 2019 17:25:47 +0100

Add two new functions to .gdbinit

 - reverse_print_list iterating backwards through the list
 - reverse_print_list_entry iterating backwards through the list
------------------------------------------------------------------------
4a5e5de8 | Michael Rauh | Mon, 11 Nov 2019 11:15:11 +0100

Make --gw_env option work without specifying export
------------------------------------------------------------------------
8ee692a3 | Michael Rauh | Fri, 8 Nov 2019 15:31:33 +0100

Enhancement: add support for accounting of various
min/max task values with 19.05 (pct:#337)
------------------------------------------------------------------------
54e5d573 | Michael Rauh | Wed, 6 Nov 2019 14:05:24 +0100

Enhancement: set SLURM_NTASKS_PER_NODE if it was not set by sbatch
(pct:#339)
------------------------------------------------------------------------
7c8e861e | Michael Rauh | Mon, 21 Oct 2019 15:58:03 +0200

Fixed various problems reported by cppcheck
------------------------------------------------------------------------
80699d72 | Michael Rauh | Mon, 4 Nov 2019 15:01:06 +0100

Add support for slurm.conf SlurmctldHost option (pct:#336)
------------------------------------------------------------------------


Version psmgmt-5.1.26:
======================
------------------------------------------------------------------------
6ca7c789 | Michael Rauh | Wed, 23 Oct 2019 13:07:53 +0200

Bugfix: add missing offset to SLURM_GTIDS for pack jobs (pct:#334)
------------------------------------------------------------------------
30ee1b48 | Norbert Eicker | Wed, 23 Oct 2019 01:22:22 +0200

Bugfix: Make PMI parameters fit into the line (psc:#332)
------------------------------------------------------------------------
c370c956 | Norbert Eicker | Tue, 22 Oct 2019 09:39:14 +0200

Fix implementation of d119dc84

 - Needs to send one answer per rank to make spawner happy
 - Do not spawn suspended tasks
------------------------------------------------------------------------
507b3df2 | Norbert Eicker | Tue, 22 Oct 2019 09:36:28 +0200

Unifyed logging, improved comments, whitespace fixes, etc.
------------------------------------------------------------------------
05efc70c | Norbert Eicker | Tue, 22 Oct 2019 08:28:59 +0200

Consider byte-order when dropping SPAWNREQUEST (jwt:#4282)
------------------------------------------------------------------------
4eaa54f9 | Michael Rauh | Mon, 21 Oct 2019 10:33:10 +0200

Bugfix: use verifyStepPtr() to ensure the step in the callback
is still valid (jrt:#10122)
------------------------------------------------------------------------
ab0f8a3c | Michael Rauh | Fri, 11 Oct 2019 13:34:52 +0200

Bugfix: fix segmentation fault if username resolution failes (jwt:#4243)
------------------------------------------------------------------------
42f468cf | Michael Rauh | Thu, 10 Oct 2019 10:33:50 +0200

Unify gres error reporting
------------------------------------------------------------------------
3f300f2e | Michael Rauh | Wed, 9 Oct 2019 15:23:09 +0200

Show gres IDs at psslurm startup
------------------------------------------------------------------------
270c55af | Michael Rauh | Wed, 9 Oct 2019 15:05:16 +0200

Bugfix: fix segfault in gres environment parsing
------------------------------------------------------------------------
d119dc84 | Michael Rauh | Wed, 9 Oct 2019 11:07:18 +0200

Bugfix: let psslurm delay spawning of processes using the
new mechanism via PSIDHOOK_RECV_SPAWNREQ (jwt:#2515)
------------------------------------------------------------------------
76a05445 | Michael Rauh | Wed, 9 Oct 2019 10:01:45 +0200

Bugfix: ensure dupSlurmMsg() copies the complete structure
------------------------------------------------------------------------
ba3bf654 | Michael Rauh | Tue, 8 Oct 2019 15:09:20 +0200

Make findStepByEnv() public and replace getJobIDbyTask()
------------------------------------------------------------------------
e225341c | Norbert Eicker | Mon, 7 Oct 2019 18:38:31 +0200

Ensure PSI_recvMsg() ignores interupted read() (jwt:#2494)
------------------------------------------------------------------------
93a17a15 | Norbert Eicker | Mon, 7 Oct 2019 12:05:00 +0200

Don't send message to parent known to be dead
------------------------------------------------------------------------
4dccda87 | Stephan Krempel | Wed, 2 Oct 2019 12:20:25 +0200

pspmix: Clearer naming of the task protoype variable
------------------------------------------------------------------------
573bf0f8 | Stephan Krempel | Wed, 2 Oct 2019 12:18:36 +0200

Better documentation of PSIDHOOK_RECV_SPAWNREQ

Clarify that the passed task struct is only a prototype
------------------------------------------------------------------------
949567f5 | Michael Rauh | Tue, 1 Oct 2019 15:47:08 +0200

Only report step timeout message on mother superior
------------------------------------------------------------------------
88241bd4 | Michael Rauh | Mon, 30 Sep 2019 16:52:15 +0200

Bugfix: fix segfault in psslurm when late replies from srun arrive
when the corresponding step is already gone (jrt:10050)
------------------------------------------------------------------------
37c7412e | Michael Rauh | Thu, 26 Sep 2019 17:19:41 +0200

Remove psgw error files if the job was re-queued and started successful
Always write psgw error files if --gw_quiet is not specified
Replace spank option --gw_verbose with --gw_quiet
------------------------------------------------------------------------
4870166b | Michael Rauh | Thu, 26 Sep 2019 14:19:51 +0200

Update psgw error file-name
------------------------------------------------------------------------
b396eddf | Michael Rauh | Wed, 25 Sep 2019 12:55:46 +0200

Bugfix: prevent possible segfault in psgw plugin
------------------------------------------------------------------------
4b60fc6e | Michael Rauh | Tue, 24 Sep 2019 17:33:57 +0200

Merge branch 'master' into gw_psgwd_per_node
------------------------------------------------------------------------
3d523fd5 | Norbert Eicker | Thu, 19 Sep 2019 15:39:20 +0200

Fix potential memory leaks unveiled by scan-build
------------------------------------------------------------------------
9722e7d1 | Norbert Eicker | Thu, 19 Sep 2019 13:43:01 +0200

Suppress warnings emitted by scan-build
------------------------------------------------------------------------
b62f24fd | Norbert Eicker | Thu, 19 Sep 2019 13:16:41 +0200

Ensure to actually exit on PSIlog_exit().
------------------------------------------------------------------------
d561b5e7 | Norbert Eicker | Mon, 16 Sep 2019 16:23:24 +0200

Bugfix: Prevent psgw plugin from crashing the daemon (j3t:#329)
------------------------------------------------------------------------
205696f1 | Michael Rauh | Thu, 12 Sep 2019 15:41:17 +0200

Merge branch 'master' into gw_psgwd_per_node
------------------------------------------------------------------------
46041c2d | Michael Rauh | Thu, 12 Sep 2019 15:37:47 +0200

Improve psgw error messages if no gateway nodes could be reserved
for the allocation
------------------------------------------------------------------------
1491d331 | Michael Rauh | Tue, 10 Sep 2019 16:47:00 +0200

Add option --gw_verbose to report psgw startup errors to file
------------------------------------------------------------------------
cd857074 | Michael Rauh | Tue, 10 Sep 2019 12:03:49 +0200

Merge branch 'master' into gw_psgwd_per_node
------------------------------------------------------------------------
235eed40 | Michael Rauh | Thu, 5 Sep 2019 11:26:35 +0200

Merge branch 'master' into gw_psgwd_per_node
------------------------------------------------------------------------
8a39021a | Michael Rauh | Thu, 5 Sep 2019 11:20:24 +0200

Improve logging of psgw plugin
------------------------------------------------------------------------
c7ede61d | Michael Rauh | Wed, 4 Sep 2019 14:53:56 +0200

Adopt psroute.py to start multiple psgwd on a gateway node
------------------------------------------------------------------------
bdbd0c0c | Michael Rauh | Fri, 30 Aug 2019 17:12:55 +0200

Add option --gw_psgwd_per_node start multiple psgwd on a gateway node
------------------------------------------------------------------------


Version psmgmt-5.1.25:
======================
------------------------------------------------------------------------
24c91453 | Norbert Eicker | Tue, 17 Sep 2019 15:39:06 +0200

Merge branch 'psslurm-1905'
------------------------------------------------------------------------
16f51a0a | Norbert Eicker | Mon, 16 Sep 2019 15:29:51 +0200

Prevent unnecessary calls to Selector_awaitWrite()
------------------------------------------------------------------------
fad3e0ff | Michael Rauh | Fri, 13 Sep 2019 14:59:32 +0200

Merge branch 'master' into psslurm-1905
------------------------------------------------------------------------
75b634fc | Stephan Krempel | Thu, 12 Sep 2019 14:44:26 +0200

Cleanup PMIx environment variables to fix interactive jobs

* Fixes jrt:#9831
------------------------------------------------------------------------
435c993d | Stephan Krempel | Wed, 11 Sep 2019 22:46:59 +0200

pspmix: Reduce timeout for PSID_HOOK_EXEC_FORWARDER

In PSID_HOOK_EXEC_FORWARDER the forwarders are waiting for the
environment to set for the clients. Reduce the timeout here from
10 to 3 seconds not to hit slurm internal timeouts. (jwt:#3515)
------------------------------------------------------------------------
d7d12e4d | Michael Rauh | Tue, 10 Sep 2019 12:02:37 +0200

Make switchUser() available to all plugins via pluginhelper
------------------------------------------------------------------------
0621026f | Michael Rauh | Sat, 7 Sep 2019 11:41:42 +0200

Let pspelogue forward SLURM_SUBMIT_DIR to prologue and epilogue
------------------------------------------------------------------------
ceea6599 | Michael Rauh | Tue, 3 Sep 2019 17:04:47 +0200

Bugfix: fix segmentation fault in psslurm when
multiple step jobs are signaled (juwels:#3999)
------------------------------------------------------------------------
056d0890 | Michael Rauh | Thu, 29 Aug 2019 10:24:30 +0200

Refactor psslurmio and consolidate step input/output redirection
------------------------------------------------------------------------
c97d3811 | Michael Rauh | Thu, 22 Aug 2019 11:31:34 +0200

Use job energy accounting in psslurm
------------------------------------------------------------------------
43f6c989 | Michael Rauh | Thu, 22 Aug 2019 11:28:27 +0200

Improve some comments in psslurm
------------------------------------------------------------------------
af75791f | Michael Rauh | Thu, 22 Aug 2019 11:25:46 +0200

Add basic energy accounting for jobs in psaccount
------------------------------------------------------------------------
9120623f | Michael Rauh | Mon, 19 Aug 2019 16:53:19 +0200

Improve documentation and typo in psaccountjob
------------------------------------------------------------------------
bb7d8b36 | Michael Rauh | Mon, 19 Aug 2019 16:09:23 +0200

Add energy configuration to psaccount.conf template
------------------------------------------------------------------------
40a556c2 | Michael Rauh | Mon, 19 Aug 2019 15:41:55 +0200

Use new psaccount energy monitoring in psslurm
------------------------------------------------------------------------
c0acfb8d | Michael Rauh | Mon, 19 Aug 2019 15:32:49 +0200

Add psaccountenergy.[ch] to buildsystem
------------------------------------------------------------------------
28d06332 | Michael Rauh | Mon, 19 Aug 2019 15:31:02 +0200

Add basic node energy monitoring to psaccount
------------------------------------------------------------------------
2da4dfdf | Michael Rauh | Fri, 9 Aug 2019 16:29:40 +0200

Update GRES environment and credential unpacking for 19.05
------------------------------------------------------------------------
84c4f115 | Michael Rauh | Fri, 9 Aug 2019 14:23:54 +0200

Merge branch 'master' into psslurm-1905
------------------------------------------------------------------------
45ee85a2 | Michael Rauh | Fri, 9 Aug 2019 14:14:27 +0200

Enhancement: add support for new Slurm gpu submit options to psslurm
------------------------------------------------------------------------
fd450008 | Stephan Krempel | Tue, 6 Aug 2019 15:29:28 +0200

psslurm: Make SLURM_CPU_BIND_TYPE reflect the actually used pinning
------------------------------------------------------------------------
c999e34a | Michael Rauh | Tue, 30 Jul 2019 14:52:06 +0200

Merge branch 'master' into psslurm-1905
------------------------------------------------------------------------
d97252c2 | Michael Rauh | Mon, 8 Jul 2019 15:49:55 +0200

Merge branch 'master' into psslurm-1905
------------------------------------------------------------------------
442a8019 | Michael Rauh | Mon, 8 Jul 2019 15:47:15 +0200

Bugfix: correct invalid pack node-list in rare conditions
Enhancement: improve pack debug logging
------------------------------------------------------------------------
ac8c648f | Michael Rauh | Wed, 3 Jul 2019 11:29:20 +0200

Merge branch 'master' into psslurm-1905
------------------------------------------------------------------------
9a5091c5 | Michael Rauh | Fri, 28 Jun 2019 16:18:23 +0200

Merge branch 'master' into psslurm-1905
------------------------------------------------------------------------
70252c84 | Michael Rauh | Tue, 25 Jun 2019 17:14:46 +0200

Update job pack handling
------------------------------------------------------------------------
63faf052 | Michael Rauh | Mon, 17 Jun 2019 13:29:52 +0200

Improve logging messages and comments in psslurmauth
------------------------------------------------------------------------
8342f4f8 | Michael Rauh | Mon, 17 Jun 2019 12:28:58 +0200

Update unpack BCast credential
------------------------------------------------------------------------
bdcf9844 | Michael Rauh | Fri, 14 Jun 2019 14:23:15 +0200

Update various protocol pack functions
------------------------------------------------------------------------
dca88e72 | Michael Rauh | Thu, 13 Jun 2019 15:05:32 +0200

gids are not transmitted with launch requests anymore
------------------------------------------------------------------------
15148841 | Michael Rauh | Thu, 13 Jun 2019 12:13:37 +0200

Drop support for 17.02 protocol version
------------------------------------------------------------------------
9472f7d2 | Michael Rauh | Thu, 13 Jun 2019 11:09:31 +0200

Merge branch 'master' into psslurm-1905
------------------------------------------------------------------------
eef44ef7 | Michael Rauh | Thu, 13 Jun 2019 10:26:22 +0200

Update request launch tasks
------------------------------------------------------------------------
36792209 | Michael Rauh | Thu, 13 Jun 2019 10:23:02 +0200

Update username credential verification
------------------------------------------------------------------------
ebd09378 | Michael Rauh | Thu, 13 Jun 2019 10:22:19 +0200

Add 19.05 protocol definition
------------------------------------------------------------------------
fccf6a3e | Michael Rauh | Fri, 7 Jun 2019 11:16:15 +0200

Merge branch 'master' into psslurm-1905
------------------------------------------------------------------------
94434c39 | Michael Rauh | Mon, 3 Jun 2019 17:25:43 +0200

Update Slurm protocol type print function
------------------------------------------------------------------------
70eec8e8 | Michael Rauh | Mon, 3 Jun 2019 16:48:42 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
e9038f44 | Michael Rauh | Mon, 27 May 2019 16:14:08 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
a9846da5 | Michael Rauh | Tue, 21 May 2019 14:16:03 +0200

Add psslurmaccount.[ch] to rpm buildsystem
------------------------------------------------------------------------
266f1284 | Michael Rauh | Tue, 21 May 2019 12:10:19 +0200

Cleanup and update documentation
------------------------------------------------------------------------
3aab1a7f | Michael Rauh | Tue, 21 May 2019 11:39:51 +0200

Implement tresBind and tresFreq
------------------------------------------------------------------------
9cd39448 | Michael Rauh | Tue, 21 May 2019 11:18:15 +0200

Update TRes documentation
------------------------------------------------------------------------
1a917173 | Michael Rauh | Thu, 16 May 2019 13:28:47 +0200

Actually use database TRes IDs
------------------------------------------------------------------------
f11437fd | Michael Rauh | Thu, 16 May 2019 10:26:08 +0200

Add support for RESPONSE_NODE_REGISTRATION
------------------------------------------------------------------------
9f78939e | Michael Rauh | Thu, 16 May 2019 10:19:21 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
43f907d9 | Michael Rauh | Fri, 10 May 2019 17:23:01 +0200

Adjust accounting to tres units
------------------------------------------------------------------------
08712e33 | Michael Rauh | Thu, 9 May 2019 15:32:02 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
94ca9654 | Michael Rauh | Mon, 6 May 2019 14:44:22 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
41d8ee69 | Michael Rauh | Mon, 6 May 2019 12:30:41 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
940dcd1d | Michael Rauh | Mon, 29 Apr 2019 14:20:37 +0200

Update buildsystem
------------------------------------------------------------------------
1c540429 | Michael Rauh | Mon, 29 Apr 2019 14:19:57 +0200

Add first version of TRes support
------------------------------------------------------------------------
2bad49ee | Michael Rauh | Thu, 25 Apr 2019 16:50:18 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
b2b8c3ff | Michael Rauh | Thu, 25 Apr 2019 11:58:41 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
fcbcc6e1 | Michael Rauh | Mon, 15 Apr 2019 15:16:03 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
d1fd6eaa | Michael Rauh | Wed, 3 Apr 2019 15:47:01 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
a9e7b1a5 | Michael Rauh | Mon, 1 Apr 2019 14:59:08 +0200

Merge branch 'master' into psslurm-1808
------------------------------------------------------------------------
80cd20f0 | Michael Rauh | Wed, 19 Dec 2018 15:43:56 +0100

First steps to support 18.08
------------------------------------------------------------------------


Version psmgmt-5.1.24:
======================
------------------------------------------------------------------------
75e8f214 | Norbert Eicker | Tue, 30 Jul 2019 17:28:42 +0200

Fix one warning emmited by clang-8.0.1
------------------------------------------------------------------------
359389aa | Stephan Krempel | Fri, 26 Jul 2019 14:56:32 +0200

pspmix: Fix debugging output
------------------------------------------------------------------------
e145860e | Stephan Krempel | Thu, 25 Jul 2019 13:56:10 +0200

pspmix: Unify the spelling of "PMIx jobserver"
------------------------------------------------------------------------
25c4234e | Stephan Krempel | Thu, 25 Jul 2019 13:54:13 +0200

pspmix: Fix handling of unintentionally terminated jobserver

* Do not call shutdownForwarder() for already gone jobserver
  forwarder to avoid sending of broken messages to the
  master psid. (psc:#320)
* Better debugging output and comments
------------------------------------------------------------------------
4b961964 | Norbert Eicker | Wed, 24 Jul 2019 18:31:15 +0200

Ensure to send forwarder messages to valid TIDs (psc:#320)
------------------------------------------------------------------------
0cf4c0ad | Norbert Eicker | Tue, 23 Jul 2019 18:35:55 +0200

More prevention from signals to obsoleted tasks (jwt:#3709)
------------------------------------------------------------------------
1c8d7faa | Norbert Eicker | Tue, 23 Jul 2019 18:25:21 +0200

Enable psiadmin to count and reset obsoleteTasks
------------------------------------------------------------------------
96b2c25f | Norbert Eicker | Tue, 23 Jul 2019 18:23:00 +0200

Allow to count and clean obsoleteTasks remotely
------------------------------------------------------------------------
cf8aa065 | Norbert Eicker | Tue, 23 Jul 2019 18:20:41 +0200

Regularly cleanup obsoleteTasks
------------------------------------------------------------------------
f1c9521f | Norbert Eicker | Tue, 23 Jul 2019 18:18:54 +0200

Provide ability to count and clean obsoleteTasks
------------------------------------------------------------------------
d9af2f3d | Norbert Eicker | Mon, 22 Jul 2019 18:55:45 +0200

More booleanization
------------------------------------------------------------------------
bb966acf | Norbert Eicker | Mon, 22 Jul 2019 18:54:31 +0200

Prevent sending signals to obsoleted children
------------------------------------------------------------------------
bc6895a3 | Norbert Eicker | Fri, 19 Jul 2019 23:05:55 +0200

Merge remote-tracking branch 'refs/remotes/origin/master'
------------------------------------------------------------------------
fbde50ef | Norbert Eicker | Fri, 19 Jul 2019 23:03:07 +0200

Some more booleanization
------------------------------------------------------------------------
596b6206 | Norbert Eicker | Fri, 19 Jul 2019 22:52:18 +0200

More handling of obsolete tasks (jwt:#3709)
------------------------------------------------------------------------
d869a39e | Norbert Eicker | Fri, 19 Jul 2019 22:48:29 +0200

Introduce a list of obsolete tasks

 - List will hold task structures supplanted by structures for processes
   that happen to have the same PID. Task in this list shall be
   short-lived
------------------------------------------------------------------------
f60a5b83 | Norbert Eicker | Fri, 19 Jul 2019 22:44:46 +0200

Prepare to use PSnodes_ID_t = -2 to flag obsolete clients

 - Also booleanize PSC_setDaemonFlag()
------------------------------------------------------------------------
607d1d20 | Norbert Eicker | Fri, 19 Jul 2019 22:42:11 +0200

Add obsolete flag to task structure
------------------------------------------------------------------------
5f80aeb0 | Norbert Eicker | Fri, 19 Jul 2019 22:38:07 +0200

Beautify whitespace
------------------------------------------------------------------------
f757e3ba | Norbert Eicker | Fri, 19 Jul 2019 22:36:50 +0200

Add a comment on obsoleteTasks to come soon
------------------------------------------------------------------------
26bed479 | Norbert Eicker | Fri, 19 Jul 2019 20:56:56 +0200

Booleanize PSID_checkPrivilege()
------------------------------------------------------------------------
1281313a | Stephan Krempel | Fri, 19 Jul 2019 15:51:49 +0200

pspmix: More debugging output in fence handling
------------------------------------------------------------------------
32151d3a | Norbert Eicker | Thu, 18 Jul 2019 16:21:07 +0200

Cleanup some obsolete code
------------------------------------------------------------------------
4116ce91 | Norbert Eicker | Thu, 18 Jul 2019 15:54:45 +0200

Prepare for obsolete tasks

 - Also some cleanup and streamlining
------------------------------------------------------------------------
0ba5a90d | Norbert Eicker | Thu, 18 Jul 2019 13:32:47 +0200

Minor streamlining and fixing typo
------------------------------------------------------------------------
1a54c430 | Norbert Eicker | Tue, 16 Jul 2019 18:01:22 +0200

Use direct reference to forwarder's task structure
------------------------------------------------------------------------
e0eaf2d1 | Norbert Eicker | Tue, 16 Jul 2019 12:40:53 +0200

Pass task structure instead of its ID to PStask_cleanup()
------------------------------------------------------------------------
3f6c784f | Norbert Eicker | Tue, 16 Jul 2019 09:14:43 +0200

Booleanize pstask
------------------------------------------------------------------------
a6036ebc | Norbert Eicker | Wed, 10 Jul 2019 14:34:54 +0200

Actually break recursion when sending CC_MSG to daemon (psc:#320)
------------------------------------------------------------------------
2d757921 | Michael Rauh | Mon, 8 Jul 2019 16:15:05 +0200

Bugfix: let mother superior answer terminate requests correct if
it is waiting for other nodes (juwels:#3712)
------------------------------------------------------------------------


Version psmgmt-5.1.23:
======================
------------------------------------------------------------------------
3366e729 | Stephan Krempel | Wed, 3 Jul 2019 11:29:47 +0200

pspmix: Avoid warnings by ignoring control messages

Avoid the warning about unexpected PSP_CC_MSG messages formerly printed by
the jobserver which are actually plugin forwarder control messages.
------------------------------------------------------------------------
c3731e2e | Michael Rauh | Tue, 2 Jul 2019 15:59:15 +0200

Bugfix: ensure SIGALRM is unblocked in pspelogue (juwels:#3664)
------------------------------------------------------------------------
014236ce | Michael Rauh | Fri, 28 Jun 2019 14:32:31 +0200

Add accelerator bind types to psslurm
------------------------------------------------------------------------
892db3f9 | Michael Rauh | Fri, 28 Jun 2019 14:09:21 +0200

First steps to support GRES cores in psslurm
------------------------------------------------------------------------
b6efb158 | Michael Rauh | Fri, 28 Jun 2019 11:11:07 +0200

Improve psslurm I/O message debugging
------------------------------------------------------------------------
3d653b67 | Norbert Eicker | Thu, 27 Jun 2019 14:20:52 +0200

Ensure noiseless use of psserial in child processes
------------------------------------------------------------------------
ba8926f0 | Stephan Krempel | Mon, 24 Jun 2019 14:29:10 +0200

pspmix: Fix potenital race in modex data handling
------------------------------------------------------------------------
c69759ac | Stephan Krempel | Mon, 24 Jun 2019 13:10:50 +0200

pspmix: Add missing call output and clarify server not found output
------------------------------------------------------------------------
8f029a91 | Stephan Krempel | Mon, 17 Jun 2019 15:46:47 +0200

pspmix: Fix modex response handling
------------------------------------------------------------------------
e209fe97 | Stephan Krempel | Fri, 14 Jun 2019 16:14:57 +0200

pspmix: Fix race in fence handling

List of fences is now organised in a FIFO queue so it cannot
happen anymore, that a fence_out message deletes a fence object
from the list for which a fence_in is still open.
------------------------------------------------------------------------
b4193276 | Stephan Krempel | Fri, 14 Jun 2019 13:25:38 +0200

pspmix: Better debugging output in fence handling
------------------------------------------------------------------------
b54b1927 | Stephan Krempel | Fri, 14 Jun 2019 16:11:06 +0200

pspmix: Disable printing process map every time
------------------------------------------------------------------------
3213c39b | Michael Rauh | Thu, 13 Jun 2019 11:06:50 +0200

Bugfix: fix possible segmentation fault in Slurm protocol
error reporting
------------------------------------------------------------------------
7094322e | Michael Rauh | Tue, 11 Jun 2019 16:59:25 +0200

psgw: *new* default location of the routing file is the
current working directory of the job submit command
including srun, sbatch and salloc (pct:#307)
------------------------------------------------------------------------
563a223e | Michael Rauh | Fri, 7 Jun 2019 10:33:04 +0200

Added support for SLURM 18.08 protocol

- The SLURM protocol can be changed using the SLURM_PROTO_VERSION
      option of the psslurm configuration
- Standard protocol is set to automatic detection
- Additionally psslurm supports protocol 17.11 and 17.02
------------------------------------------------------------------------
8e480c0e | Michael Rauh | Mon, 3 Jun 2019 16:37:22 +0200

Improve psslurm protocol logging
------------------------------------------------------------------------


Version psmgmt-5.1.22:
======================
------------------------------------------------------------------------
ac4ce036 | Michael Rauh | Mon, 27 May 2019 16:13:23 +0200

Documentation and cleanup of psslurmforwarder.[ch]
------------------------------------------------------------------------
76af5075 | Michael Rauh | Mon, 27 May 2019 14:11:40 +0200

Add function strStepID() to easily print step IDs in psslurm
------------------------------------------------------------------------
2d9c10b7 | Michael Rauh | Mon, 27 May 2019 13:35:11 +0200

Bugfix: every mother superior of a pack job has to send
REQUEST_STEP_COMPLETE to the slurmctld (j3t:#1293)
Enhancement: improved some psslurm log messages
------------------------------------------------------------------------
2ccc6d5b | Stephan Krempel | Fri, 24 May 2019 16:12:15 +0200

pspmix: Log interesting environment variables if set
------------------------------------------------------------------------
40f9c7fd | Stephan Krempel | Fri, 24 May 2019 15:54:24 +0200

pspmix: Remove unused debug variable
------------------------------------------------------------------------
745888de | Stephan Krempel | Thu, 16 May 2019 03:19:06 +0200

pspmix: Returning PMIX_OPERATION_SUCCEEDED in server_fencenb_cb()

The handling will be fixed in pmix 3.1.3 so we can use it and
throw away the ugly workaround.
------------------------------------------------------------------------
4978bc1d | Stephan Krempel | Tue, 21 May 2019 13:47:43 +0200

psconfig parser: avoid "cannot convert" messages for missing keys
------------------------------------------------------------------------
5434bd73 | Stephan Krempel | Thu, 16 May 2019 03:12:51 +0200

pspmix: Fix handling of invalid namespace in sendModexDataRequest()
------------------------------------------------------------------------
fb382af6 | Stephan Krempel | Thu, 16 May 2019 03:11:18 +0200

pspmix: Fix passing of uid and gid to PMIx_server_init()
------------------------------------------------------------------------
b13adc74 | Stephan Krempel | Thu, 16 May 2019 03:10:14 +0200

pspmix: Consolidate some debugging output
------------------------------------------------------------------------
c6ea6790 | Michael Rauh | Wed, 15 May 2019 16:35:54 +0200

Merge branch 'psmgmt-5.1.21-1'
------------------------------------------------------------------------
34f14d92 | Michael Rauh | Thu, 9 May 2019 15:17:07 +0200

Added automatic Slurm protocol detection in psslurm

- Set psslurm configuration option "SLURM_PROTO_VERSION = auto" to activate
- Automatic detection is the new default for SLURM_PROTO_VERSION
- Added new configuration option SINFO_BINARY to specify the absolute path
to the sinfo binary
------------------------------------------------------------------------
5cf15a73 | Norbert Eicker | Wed, 8 May 2019 13:32:38 +0200

Improve some log messages
------------------------------------------------------------------------
3ca31ca3 | Michael Rauh | Tue, 7 May 2019 11:37:19 +0200

Let job start fail in psslurm if the user ID cannot be resolved (#2765)
------------------------------------------------------------------------
f18dfae8 | Michael Rauh | Mon, 6 May 2019 14:15:12 +0200

Fixed some minor issues unveiled by cppcheck
------------------------------------------------------------------------
21b6be69 | Michael Rauh | Mon, 6 May 2019 13:43:16 +0200

Fix some NULL pointer format errors unveiled by gcc 9.1.0
------------------------------------------------------------------------


Version psmgmt-5.1.21-1:
========================
------------------------------------------------------------------------
86419527 | Michael Rauh | Wed, 15 May 2019 15:02:57 +0200

Remove dependency of psgw to psslurm
------------------------------------------------------------------------


Version psmgmt-5.1.21:
======================
------------------------------------------------------------------------
f77ab048 | Michael Rauh | Thu, 2 May 2019 11:39:52 +0200

Don't remove pspelouge config in pelogue needed by psgw callback
------------------------------------------------------------------------
8425f588 | Stephan Krempel | Tue, 30 Apr 2019 15:59:10 +0200

pspmix: Make configurable by file and psiadmin
------------------------------------------------------------------------
896256fe | Norbert Eicker | Mon, 29 Apr 2019 18:59:51 +0200

Fix whitespace typos
------------------------------------------------------------------------
413d5428 | Norbert Eicker | Mon, 29 Apr 2019 11:41:41 +0200

Lift required pmix-Version to 3.1.3
------------------------------------------------------------------------
78e65663 | Michael Rauh | Thu, 25 Apr 2019 16:47:15 +0200

Added Uint64Array and Int64Array support to psserial
------------------------------------------------------------------------
0731617c | Michael Rauh | Thu, 25 Apr 2019 11:13:13 +0200

Improve log output in pelogue
------------------------------------------------------------------------
f4dbd524 | Stephan Krempel | Wed, 24 Apr 2019 12:29:42 +0200

PSConfig parser: Restore old tolerance for missing resource limits
------------------------------------------------------------------------
9fdc8d2b | Michael Rauh | Tue, 23 Apr 2019 16:51:10 +0200

Bugfix: fix segfault in pelogue plugin on race condition
------------------------------------------------------------------------
9d562cac | Norbert Eicker | Tue, 23 Apr 2019 16:44:05 +0200

autoreconf with automake-1.16.1 and autoconf-2.69
------------------------------------------------------------------------
fb4d0e95 | Norbert Eicker | Thu, 18 Apr 2019 14:49:08 +0200

Make psid less chatty.
------------------------------------------------------------------------
86767fc4 | Stephan Krempel | Tue, 16 Apr 2019 14:05:17 +0200

Update NEWS with changes from pt#2631

- Renaming NodeNo to Psid.NodeId
- Introducing Psid.Domain
------------------------------------------------------------------------
6f2715ff | Norbert Eicker | Mon, 15 Apr 2019 10:55:46 +0200

Fix incompatibility preventing buildbot's success
------------------------------------------------------------------------
12bea356 | Stephan Krempel | Fri, 12 Apr 2019 16:11:20 +0200

Introduce psid domain concept. (pt#2631)

If Psid.Domain is set for the local host object in psconfig,
only other hosts are included in the psid network having the
same Psid.Domain set. (Works only in the psconfig version)
------------------------------------------------------------------------
7807323a | Stephan Krempel | Thu, 11 Apr 2019 14:20:31 +0200

Enhance error checking in psconfig parser.
------------------------------------------------------------------------
00bb2c58 | Michael Rauh | Thu, 11 Apr 2019 18:04:20 +0200

Update the buildsystem for psgwkvs.c
------------------------------------------------------------------------
236a2f45 | Michael Rauh | Thu, 11 Apr 2019 17:58:52 +0200

Add rudimentary support of psiadmin plugin commands to psgw
------------------------------------------------------------------------
fd5f8271 | Michael Rauh | Thu, 11 Apr 2019 16:21:28 +0200

Fixed some minor issues unveiled by cppcheck
------------------------------------------------------------------------
9c7e43c3 | Michael Rauh | Thu, 11 Apr 2019 15:50:05 +0200

Update buildsystem for "plugin02.py"
------------------------------------------------------------------------
5576e7ad | Michael Rauh | Thu, 11 Apr 2019 15:48:48 +0200

Add psgw route plugin "plugin02.py"
------------------------------------------------------------------------
bdbb9ff6 | Michael Rauh | Thu, 11 Apr 2019 15:32:31 +0200

Allow to specify a relative path for routing plugins
------------------------------------------------------------------------
f11eb7d2 | Michael Rauh | Thu, 11 Apr 2019 13:18:08 +0200

Allow to specify absolute path for routing plugins
------------------------------------------------------------------------
c9c2828b | Michael Rauh | Thu, 11 Apr 2019 11:33:09 +0200

Export SLURM_JOB_ID to the psgwd environment to enable the PSHC
to detect leftover psgwd processes
------------------------------------------------------------------------
86a98cb0 | Michael Rauh | Wed, 10 Apr 2019 17:16:20 +0200

Ensure a plugin configuration exists when a new job is added to pelogue
------------------------------------------------------------------------
3e7b55b7 | Michael Rauh | Tue, 9 Apr 2019 12:28:17 +0200

Update an existing pelogue plugin configuration rather than adding it
multiple times
------------------------------------------------------------------------
e0e044a5 | Norbert Eicker | Mon, 8 Apr 2019 22:10:56 +0200

Update copyright statements
------------------------------------------------------------------------
56dd415a | Stephan Krempel | Mon, 8 Apr 2019 13:55:39 +0200

psconfig: Use Psid.NodeId in favour of NodeNo.

NodeNo is now deprecated and could be removed in upcoming versions.
For the moment, print a warning if it is still used.
------------------------------------------------------------------------
c2d140bb | Norbert Eicker | Fri, 5 Apr 2019 11:31:33 +0200

Fix warnings highlighted by gcc-8.3 and streamlining
------------------------------------------------------------------------
157f3e6c | Norbert Eicker | Fri, 5 Apr 2019 11:09:20 +0200

Fix warnings highlighted by gcc-8.3
------------------------------------------------------------------------
e91271e9 | Norbert Eicker | Fri, 5 Apr 2019 10:45:08 +0200

Add macro MIN returning the minimum to pscommon.h
------------------------------------------------------------------------


Version psmgmt-5.1.20-1:
========================
------------------------------------------------------------------------
172c72ea | Norbert Eicker | Fri, 5 Apr 2019 09:57:21 +0200

Streamline the changes of 86fbb0e5
------------------------------------------------------------------------
86fbb0e5 | Stephan Krempel | Thu, 4 Apr 2019 16:22:54 +0200

Fix handling of SLURM_MPI_TYPE=none (srun --mpi=none)
------------------------------------------------------------------------


Version psmgmt-5.1.20:
======================
------------------------------------------------------------------------
5f00eec6 | Michael Rauh | Tue, 2 Apr 2019 12:57:32 +0200

Report node failure in step error output (pct:#298)
------------------------------------------------------------------------
6ea5619c | Stephan Krempel | Mon, 1 Apr 2019 15:50:31 +0200

Remove special handling for pspmix in loadPlugin()

This is cleaner on our side, but for the moment requires a patched version
of pmix with fixed dependencies in the MCA modules.
------------------------------------------------------------------------
00904032 | Stephan Krempel | Mon, 1 Apr 2019 15:47:55 +0200

Fix pinning.

_GNU_SOURCE needs to be defined before the first header includes
features.h. To ensure, define it at the very beginning.
------------------------------------------------------------------------
6245d441 | Michael Rauh | Mon, 1 Apr 2019 14:49:13 +0200

Add psgw plugin to buildsystem
------------------------------------------------------------------------
a5ca0dca | Michael Rauh | Mon, 1 Apr 2019 14:27:15 +0200

Add modular job start support consisting of following parts

  - psgw plugin to request resources and start
  the psgwd and prologue on the gateway nodes
  - psgw_spank plugin to extend the SLURM command
  interface of srun, sbatch and salloc
  - route scripts to write the routing file
------------------------------------------------------------------------
52a10ccb | Stephan Krempel | Tue, 26 Mar 2019 15:49:54 +0100

Allow not to build pspmix by configure option.

Using configure option --disable-pspmix allows to build
psmgmt without building the pspmix plugin and thus without
having the libpmix headers available.
------------------------------------------------------------------------
02543166 | Stephan Krempel | Tue, 26 Mar 2019 13:28:16 +0100

Fix comment.
------------------------------------------------------------------------
1602a52e | Stephan Krempel | Tue, 26 Mar 2019 13:27:17 +0100

Update copyright information in pspmix and pluginvector.
------------------------------------------------------------------------
ff83e26c | Stephan Krempel | Mon, 25 Mar 2019 17:54:50 +0100

Put pspmix in a separate package.

Avoid requirement for libpmix in the main package.
------------------------------------------------------------------------
d8748ad0 | Stephan Krempel | Mon, 25 Mar 2019 17:36:39 +0100

Squashed commit of the branch pspmix.

This adds the pspmix plugin developed in the pspmix branch.
------------------------------------------------------------------------
bce640c4 | Stephan Krempel | Mon, 25 Mar 2019 14:41:31 +0100

Fix using of feature test macro for sched.h

In psidspawn.h no macro is needed since cpu_set_t gets always defined.
Especially, defining __GNU_USE leads to conflicts if the header is
included anywhere after a header using features.h.
In psidspawn.c the correct macro to set is _GNU_SOURCE (see CPU_SET(3)).
------------------------------------------------------------------------
7c013842 | Stephan Krempel | Mon, 25 Mar 2019 12:08:24 +0100

Introduce PSSLURM_PMI_TYPE

This new environment variable is used to choose the PMI to be used by
psslurm. psslurm needs it to choose the correct options for the
internal call of mpiexec. This is needed to support PMIx and SimplePMI
in parallel.
------------------------------------------------------------------------
b82bb7fb | Stephan Krempel | Tue, 19 Feb 2019 10:55:43 +0100

Fix potential memory leak in psenv
------------------------------------------------------------------------
f928e164 | Norbert Eicker | Tue, 19 Mar 2019 09:14:30 +0100

Documentation improvements
------------------------------------------------------------------------
e48acb29 | Stephan Krempel | Mon, 4 Mar 2019 15:30:18 +0100

Declare PSID_findJobByLoggerTid() non-static to use it in hook
------------------------------------------------------------------------
fab953e7 | Norbert Eicker | Fri, 15 Feb 2019 23:51:46 +0100

Streamlining spawner.c
------------------------------------------------------------------------
d603f7f1 | Norbert Eicker | Fri, 15 Feb 2019 23:39:27 +0100

Fix typo
------------------------------------------------------------------------
67061cc9 | Norbert Eicker | Fri, 15 Feb 2019 23:30:13 +0100

Update copyright date
------------------------------------------------------------------------
f0bd233f | Norbert Eicker | Fri, 15 Feb 2019 19:08:26 +0100

Streamlining psidspawn.c
------------------------------------------------------------------------
d1a085db | Norbert Eicker | Thu, 14 Feb 2019 17:35:20 +0100

Pass daemon fd within the task structure to forwarders
------------------------------------------------------------------------
0b747f2e | Stephan Krempel | Thu, 14 Feb 2019 12:53:40 +0100

Fix sending reservation created and released messages
------------------------------------------------------------------------
dba352bc | Norbert Eicker | Thu, 14 Feb 2019 12:50:25 +0100

Streamline send_RESRELEASED() and send_RESCREATED()
------------------------------------------------------------------------
f447d394 | Stephan Krempel | Thu, 14 Feb 2019 12:49:58 +0100

Send reservation notification messages only once per node.

Send the reservation creation and release notification messages
(PSP_DD_RESCREATED and PSP_DD_RESRELEASED) only once per node
involved in the reservation, even if loop-nodes-first set.
------------------------------------------------------------------------
5dad8e77 | Stephan Krempel | Wed, 13 Feb 2019 10:35:47 +0100

Send PSP_DD_RESCREATED and PSP_DD_RESRELEASED  only once per node.

Send the reservation creation and release notification messages
only once per node involved in the reservation, even if
loop-nodes-first set.
------------------------------------------------------------------------
2e3df9d1 | Norbert Eicker | Thu, 14 Feb 2019 12:02:59 +0100

Improve psidhook

 - Make initHook obsolete by initialzing implicitely in PSIDhook_add()
 - Booleanize
------------------------------------------------------------------------
1be93acf | Stephan Krempel | Mon, 21 Jan 2019 11:40:25 +0100

Add PSP_DD_RESCREATED and PSP_DD_RESRELEASED string identification
------------------------------------------------------------------------
b350d6eb | Stephan Krempel | Thu, 17 Jan 2019 10:35:17 +0100

Add --pmix option to mpiexec
------------------------------------------------------------------------
9228ef73 | Stephan Krempel | Thu, 17 Jan 2019 10:30:01 +0100

Get rid of some unnecessary global variables in spawner code
------------------------------------------------------------------------
79597a45 | Stephan Krempel | Tue, 15 Jan 2019 11:48:48 +0100

Rearrange handling of mother messages in pluginforwarder
------------------------------------------------------------------------
fdc9b013 | Stephan Krempel | Tue, 15 Jan 2019 11:43:38 +0100

Move hook PSIDHOOK_EXEC_CLIENT_USER after child born
------------------------------------------------------------------------
9a3a3c4e | Stephan Krempel | Tue, 15 Jan 2019 11:42:29 +0100

Introduce PSIDHOOK_RECV_SPAWNREQ
------------------------------------------------------------------------
814e6bd9 | Stephan Krempel | Fri, 7 Dec 2018 06:40:40 +0100

Set task->fd to daemonfd before HOOK_EXEC_FORWARDER
------------------------------------------------------------------------
92e6f0f4 | Stephan Krempel | Tue, 15 Jan 2019 11:24:15 +0100

Add reservation id to task structure
------------------------------------------------------------------------
224e38ef | Stephan Krempel | Tue, 15 Jan 2019 11:21:36 +0100

Add job creation and destruction hook
------------------------------------------------------------------------
dea795dd | Stephan Krempel | Tue, 15 Jan 2019 11:15:35 +0100

Introduce psjob management

psjob is used to hold information of reservations a node is part of.
The reservation information is distributed whenever a reservation is created
and managed on the involved nodes in a psjob structure indentified by
the TID of the logger of the job. The jobs are managed in a list of local jobs
and each of them contains the list of its reservation information.
------------------------------------------------------------------------
9997c38a | Norbert Eicker | Tue, 19 Mar 2019 14:57:15 +0100

Break infinite loop when sending PSP_CC_MSG to daemon (j3t:#1305)
------------------------------------------------------------------------
72f9d8b4 | Norbert Eicker | Thu, 7 Mar 2019 10:49:53 +0100

More typos and docu improvements
------------------------------------------------------------------------
10eb1dc7 | Norbert Eicker | Thu, 7 Mar 2019 10:38:11 +0100

Fix typo in comment
------------------------------------------------------------------------


Version psmgmt-5.1.19:
======================
------------------------------------------------------------------------
97b29e2d | Norbert Eicker | Tue, 5 Mar 2019 12:45:41 +0100

Fix some incorrect prototypes
------------------------------------------------------------------------
94dc8080 | Michael Rauh | Fri, 1 Mar 2019 13:49:43 +0100

Undo most of commit 1cf24e78 which does not fix the segfault
------------------------------------------------------------------------
24fd2229 | Michael Rauh | Fri, 1 Mar 2019 13:30:44 +0100

Enhancement: export SLURM_GID, SLURM_JOB_STARTTIME and SLURM_PACK_JOBID
to epilogue
------------------------------------------------------------------------
dad2235d | Michael Rauh | Wed, 27 Feb 2019 12:56:32 +0100

Use effective user ID to test working directory in psslurm (pct:#293)
------------------------------------------------------------------------
afe4a553 | Michael Rauh | Wed, 27 Feb 2019 11:00:17 +0100

Improved psslurm plugin interface

	- add new command show tasks
	- add pack information to allocations,jobs and steps
	- minor code improvements
------------------------------------------------------------------------
c836eed3 | Michael Rauh | Mon, 25 Feb 2019 17:22:53 +0100

Add psslurm show command resolveIDs (juwelstrac:#2360)
------------------------------------------------------------------------
b4b309c0 | Michael Rauh | Mon, 25 Feb 2019 16:34:35 +0100

Additional improvements of psslurm error messages
------------------------------------------------------------------------
5e0c85c0 | Michael Rauh | Mon, 25 Feb 2019 15:51:00 +0100

Improve psslurm error messages related to the local node identification
------------------------------------------------------------------------
1cf24e78 | Michael Rauh | Fri, 22 Feb 2019 11:06:24 +0100

Bugfix: fix segfault when initializing of psaccount fails
------------------------------------------------------------------------
7a252c99 | Norbert Eicker | Wed, 13 Feb 2019 22:37:52 +0100

Extract node information more efficiently in mpiexec
------------------------------------------------------------------------
e5c7ed73 | Michael Rauh | Tue, 12 Feb 2019 11:41:27 +0100

Re-enable coredump capability after seteuid() in psslurm (#2769)
------------------------------------------------------------------------
3301d513 | Michael Rauh | Tue, 12 Feb 2019 11:16:24 +0100

Set the local node offline using psexec if forking
new processes fails (pct:#299)
------------------------------------------------------------------------
8723ff32 | Michael Rauh | Tue, 5 Feb 2019 17:38:04 +0100

Drop support for prologue started via psslurm
	- Use pspelogue started in slurmctld prologue
	- Fix for hanging job packs (pct:#296)
	- Warning: this breaks compability with old psslurm versions
------------------------------------------------------------------------
4cd64083 | Michael Rauh | Fri, 8 Feb 2019 12:39:11 +0100

Completely fix issue of commit e2d9a4b6
------------------------------------------------------------------------
2f459eb5 | Michael Rauh | Tue, 5 Feb 2019 12:26:03 +0100

Improve debug logging of psslurm
------------------------------------------------------------------------
74eb21f5 | Norbert Eicker | Wed, 30 Jan 2019 17:49:00 +0100

Re-enable coredump capability after setuid() et al. (#2769)
------------------------------------------------------------------------
5edc8956 | Michael Rauh | Wed, 30 Jan 2019 14:28:48 +0100

Protect PMI_BARRIER_ROUNDS from user modification in psslurm (pct:#251)
------------------------------------------------------------------------
e2d9a4b6 | Michael Rauh | Tue, 29 Jan 2019 13:07:03 +0100

Bugfix: fix interactive jobs using gres resources (juwelstrac:#2365)
------------------------------------------------------------------------
cd058ecb | Norbert Eicker | Fri, 18 Jan 2019 15:07:30 +0100

Merge remote-tracking branch 'refs/remotes/origin/master'
------------------------------------------------------------------------
c41b1dff | Michael Rauh | Thu, 17 Jan 2019 17:04:08 +0100

Bugfix: correct resolve array check
------------------------------------------------------------------------
5301c497 | Thomas Moschny | Thu, 17 Jan 2019 10:46:47 +0100

Use a designated initializer instead of a compound literal.

Designated initializers are allowed in C99, and as a GNU extension
also in C90. On the other hand, initialization of objects with static
storage duration by compound literals is a GNU extension not allowed
in C99 (because the initializer is not a constant.)

In short, this change should allow compiling with CentOS7's gcc 4.8
with and without -std=gnu99.
------------------------------------------------------------------------
4f1cfbfa | Norbert Eicker | Thu, 17 Jan 2019 18:14:32 +0100

Bugfix: Check if file-descriptor is valid (#2766)
------------------------------------------------------------------------


Version psmgmt-5.1.18:
======================
------------------------------------------------------------------------
d098a294 | Thomas Moschny | Fri, 4 Jan 2019 16:31:10 +0100

Remove obsolete logic for supporting old slurm versions.
------------------------------------------------------------------------
c5d78836 | Norbert Eicker | Tue, 11 Dec 2018 19:46:37 +0100

Remove one obsolete #define
------------------------------------------------------------------------
0b4e99df | Norbert Eicker | Mon, 10 Dec 2018 00:16:32 +0100

Bugfix: Thou shalt not use daemon funtions within the forwarder
------------------------------------------------------------------------
31f1e9b9 | Michael Rauh | Sat, 8 Dec 2018 15:53:59 +0100

Add support for arbitrary script path to psexec

	- Additionally add protocol version support
	- Warning: this breaks compability with old psexec versions
------------------------------------------------------------------------
196a4e35 | Michael Rauh | Sat, 8 Dec 2018 12:19:06 +0100

Improve log messages of pelogue
------------------------------------------------------------------------
b108df98 | Michael Rauh | Sat, 8 Dec 2018 12:17:24 +0100

Add swap files with ending .swo to gitignore
------------------------------------------------------------------------
b16ce8c9 | Norbert Eicker | Fri, 7 Dec 2018 16:24:44 +0100

Improve psserial's usablility for multiple users
------------------------------------------------------------------------
1e40ebd7 | Michael Rauh | Tue, 4 Dec 2018 17:13:48 +0100

Bugfix: fix wrong status reporting of pack leader job (pct:#287)
------------------------------------------------------------------------
43c8e72c | Michael Rauh | Fri, 30 Nov 2018 18:10:34 +0100

Remove obsolete expandHostList() and range2List()
------------------------------------------------------------------------
abe1c065 | Michael Rauh | Fri, 30 Nov 2018 16:57:52 +0100

Use traverseHostList() in psslurmconfig.c
------------------------------------------------------------------------
c115cb08 | Michael Rauh | Fri, 30 Nov 2018 13:42:33 +0100

Use traverseHostList() in psslurmgres.c
------------------------------------------------------------------------
2d1ebe09 | Michael Rauh | Fri, 30 Nov 2018 12:59:18 +0100

Add option --psid_resolve to pspelogue (#2749)
------------------------------------------------------------------------
103b96a0 | Michael Rauh | Thu, 29 Nov 2018 16:51:18 +0100

Use traverseHostList() in psslurmpscomm.c

	- Warning: psslurm configuration option WEAK_NODEID_CHECK is
	no longer supported
------------------------------------------------------------------------
1a5ae752 | Michael Rauh | Thu, 29 Nov 2018 14:48:23 +0100

Fix problems unloading pelogue and psslurm
------------------------------------------------------------------------
b19daa41 | Michael Rauh | Thu, 29 Nov 2018 14:46:19 +0100

Make getNodeIDbyName() usable by convHLtoPSnodes()
------------------------------------------------------------------------
d64fda8f | Michael Rauh | Thu, 29 Nov 2018 11:01:51 +0100

First steps to replace expandHostList() with traverseHostList()
------------------------------------------------------------------------
94582bc2 | Michael Rauh | Thu, 29 Nov 2018 10:52:51 +0100

Add function traverseHostList() to replace expandHostList() (#2747)
------------------------------------------------------------------------
b75fc76b | Michael Rauh | Thu, 22 Nov 2018 15:29:59 +0100

Prevent double execution of offline script if prologue fails on
mother superior
------------------------------------------------------------------------
c7d1e4ab | Michael Rauh | Wed, 21 Nov 2018 15:51:00 +0100

Correct fix for sscanf() in pshostlist introduced in ce0ac740d
------------------------------------------------------------------------
e12e1b6d | Michael Rauh | Wed, 21 Nov 2018 15:24:07 +0100

Remove needless check unveiled by cppcheck
------------------------------------------------------------------------
0c14d3ae | Michael Rauh | Wed, 21 Nov 2018 12:15:02 +0100

Bugfix: fix broken requeue logic for batch jobs (juwelstrac:#2045)
------------------------------------------------------------------------
6341fd94 | Norbert Eicker | Tue, 20 Nov 2018 18:52:20 +0100

Fix various cppcheck warnings including the use of alloca
------------------------------------------------------------------------
a945669d | Norbert Eicker | Tue, 20 Nov 2018 18:51:37 +0100

Fix signed warning indicated by cppcheck
------------------------------------------------------------------------
874c6d07 | Norbert Eicker | Tue, 20 Nov 2018 18:50:23 +0100

Fix void pointer arithmetics indicated by cppcheck
------------------------------------------------------------------------
5dff0d35 | Norbert Eicker | Tue, 20 Nov 2018 18:46:57 +0100

Fix scope-warning indicated by cppcheck
------------------------------------------------------------------------
0bc68075 | Norbert Eicker | Tue, 20 Nov 2018 18:46:03 +0100

Fix whitespace formatting
------------------------------------------------------------------------
8eedc8d6 | Michael Rauh | Tue, 20 Nov 2018 16:12:46 +0100

Added version incompatibility warning for psmgmt 5.1.17 to NEWS
------------------------------------------------------------------------
5c828e1f | Norbert Eicker | Tue, 20 Nov 2018 13:03:50 +0100

Bugfix: Prevent infinite recursion in CHILDDEAD handling (#2740)
------------------------------------------------------------------------
5a24225e | Norbert Eicker | Mon, 19 Nov 2018 11:51:00 +0100

Merge branch 'cppcheck'
------------------------------------------------------------------------
d260d5c8 | Norbert Eicker | Mon, 19 Nov 2018 11:50:09 +0100

Minor streamlining of cppcheck-induced fixes
------------------------------------------------------------------------
879d4f26 | Michael Rauh | Fri, 16 Nov 2018 14:41:14 +0100

Let pelogue call hook PSIDHOOK_PELOGUE_RES
------------------------------------------------------------------------
636c1806 | Michael Rauh | Fri, 16 Nov 2018 13:08:01 +0100

Add logging function fdbg() to psslurm
------------------------------------------------------------------------
0f7d4036 | Michael Rauh | Tue, 13 Nov 2018 15:52:23 +0100

Clarify calculation precedence pointed out by cppchec
------------------------------------------------------------------------
0cbc0894 | Michael Rauh | Tue, 13 Nov 2018 15:50:57 +0100

Remove dead code unveiled by cppcheck
------------------------------------------------------------------------
a3747024 | Michael Rauh | Tue, 13 Nov 2018 15:34:05 +0100

Remove some needless code pointed out by cppcheck
------------------------------------------------------------------------
c6df2e95 | Michael Rauh | Tue, 13 Nov 2018 15:20:28 +0100

Fix some logic errors unveiled by cppcheck
------------------------------------------------------------------------
ce0ac740 | Michael Rauh | Tue, 13 Nov 2018 15:09:17 +0100

Fix some string format errors unveiled by cppcheck
------------------------------------------------------------------------
ac25bf9c | Michael Rauh | Tue, 13 Nov 2018 15:06:29 +0100

Fix some logic errors unveiled by cppcheck
------------------------------------------------------------------------
d01475a7 | Michael Rauh | Tue, 13 Nov 2018 14:00:15 +0100

Fix redundant checks and NULL pointer dereference unveiled by cppcheck
------------------------------------------------------------------------
89490136 | Michael Rauh | Tue, 13 Nov 2018 13:44:37 +0100

Fix some string format errors unveiled by cppcheck
------------------------------------------------------------------------
d6dcd648 | Michael Rauh | Tue, 13 Nov 2018 13:31:56 +0100

Fix some logic errors unveiled by cppcheck
------------------------------------------------------------------------
d2686193 | Michael Rauh | Tue, 13 Nov 2018 13:16:21 +0100

Fix some string format error unveiled by cppcheck
------------------------------------------------------------------------
6d670093 | Michael Rauh | Tue, 13 Nov 2018 13:04:40 +0100

Fix some logic errors unveiled by cppcheck
------------------------------------------------------------------------
3253d82f | Michael Rauh | Tue, 13 Nov 2018 12:43:25 +0100

Clarify calculation precedence pointed out by cppcheck
------------------------------------------------------------------------
6588d75b | Michael Rauh | Tue, 13 Nov 2018 12:40:04 +0100

Fix some string format errors unveiled by cppcheck
------------------------------------------------------------------------
e7726876 | Michael Rauh | Mon, 12 Nov 2018 11:16:33 +0100

Fix typo in psslurm error message
------------------------------------------------------------------------


Version psmgmt-5.1.17:
======================
------------------------------------------------------------------------
97192ec3 | Norbert Eicker | Fri, 9 Nov 2018 16:39:44 +0100

Remove some superfluous and bad code
------------------------------------------------------------------------
5d9766fd | Norbert Eicker | Fri, 9 Nov 2018 16:27:43 +0100

Change fix of memory loss from realloc()
------------------------------------------------------------------------
bcbe9515 | Michael Rauh | Fri, 9 Nov 2018 14:58:05 +0100

Fix some memory lost upon failure of realloc() unveiled by cppcheck
------------------------------------------------------------------------
0e085d60 | Michael Rauh | Fri, 9 Nov 2018 12:09:26 +0100

Ensure va_list is closed by va_end() unveiled by cppcheck
------------------------------------------------------------------------
244e9f9f | Michael Rauh | Fri, 9 Nov 2018 12:07:25 +0100

Fix integer overflow unveiled by cppcheck
------------------------------------------------------------------------
7091119f | Michael Rauh | Fri, 9 Nov 2018 12:03:58 +0100

Fix memory leak unveiled by cppcheck
------------------------------------------------------------------------
117a4c4c | Michael Rauh | Fri, 9 Nov 2018 11:58:13 +0100

Prevent resource leak unveiled by cppcheck
------------------------------------------------------------------------
6a14cb20 | Michael Rauh | Fri, 9 Nov 2018 11:47:12 +0100

Prevent resource leak unveiled by cppcheck
------------------------------------------------------------------------
b3658d2d | Norbert Eicker | Thu, 8 Nov 2018 18:48:43 +0100

Bugfix: Take actual operator precedence into account
------------------------------------------------------------------------
7754c647 | Michael Rauh | Wed, 7 Nov 2018 17:22:14 +0100

Fix logic error in psslurm unveiled by clang
------------------------------------------------------------------------
ff8aa2e5 | Stephan Krempel | Wed, 7 Nov 2018 16:34:00 +0100

Merge branch 'knl'
------------------------------------------------------------------------
fddc1614 | Michael Rauh | Wed, 7 Nov 2018 16:32:19 +0100

Fix documentation in pluginforwarder.h
------------------------------------------------------------------------
d9ac31a6 | Norbert Eicker | Wed, 7 Nov 2018 11:26:24 +0100

Fix typo introduced in 30aac4bd
------------------------------------------------------------------------
7d34866c | Stephan Krempel | Tue, 6 Nov 2018 15:51:17 +0100

Adjust pinning to use unconverted step core bitmap
------------------------------------------------------------------------
60b9eb76 | Michael Rauh | Tue, 6 Nov 2018 13:45:51 +0100

Pass step core bitmap without conversation to pinning code in psslurm
------------------------------------------------------------------------
68aae4b3 | Michael Rauh | Tue, 6 Nov 2018 13:36:27 +0100

Don't parse unused job core bitmap in psslurm
------------------------------------------------------------------------
30aac4bd | Norbert Eicker | Tue, 6 Nov 2018 12:39:40 +0100

Optimize addStrBuf(), str2Buf() and strn2Buf()

 - Get rid of the unnecessary strncpy(). Nevertheless, this family of
   functions still scales as N^2 due to the unavoidable call to strlen().
------------------------------------------------------------------------
9d196561 | Michael Rauh | Mon, 8 Oct 2018 11:37:01 +0200

Add PSIDHOOK_PELOGUE_RES
    - called by pelogue for slurmctld prologue requests
    - used by psgw to request additional resources
------------------------------------------------------------------------
3c8b8c79 | Michael Rauh | Mon, 5 Nov 2018 14:31:27 +0100

Added PSIDHOOK_PSSLURM_FINALLOC
    - called in psslurm right before deletion of an allocation
    - used by psgw to cleanup used resources
------------------------------------------------------------------------
5ebb423f | Michael Rauh | Mon, 29 Oct 2018 16:20:46 +0100

Export environment variables with prefix _PSSLURM_ENV_ from prologue
to user processes
------------------------------------------------------------------------
7d6ef7a9 | Michael Rauh | Thu, 25 Oct 2018 13:19:04 +0200

Use SLURM_PACK_JOB_NODELIST for pack jobs in pspelogue (jrt:#8923)

  - The prologue script will only be executed for the pack job leader
  using the pack joblist
  - The prologue of the pack follower will be used to distribute the
  allocation, but no script will be called
  - The prologue exit status for every node in the pack will be returned
  in the pack job leader
  - Added protocol version support for messages between pspelogue and pelogue
------------------------------------------------------------------------
6467cbdf | Michael Rauh | Tue, 23 Oct 2018 12:56:32 +0200

Check mandatory configuration options in pelogue
------------------------------------------------------------------------
c2782830 | Michael Rauh | Fri, 26 Oct 2018 11:56:24 +0200

Bugfix: prevent memory corruption in pelogue drop handler for
fragmented messages
------------------------------------------------------------------------
15679a55 | Michael Rauh | Fri, 19 Oct 2018 17:21:37 +0200

Let psexec return output from scripts
------------------------------------------------------------------------
512263cb | Stephan Krempel | Thu, 11 Oct 2018 10:16:11 +0200

Fix segfault in spawner for gdb, valgrind or mpichComp option set
------------------------------------------------------------------------
967e87ba | Stephan Krempel | Fri, 12 Oct 2018 15:27:57 +0200

Fix error msg in psid forwarder
------------------------------------------------------------------------
bb602879 | Michael Rauh | Mon, 1 Oct 2018 13:50:45 +0200

Bugfix: Ensure errno will not get overwritten in different
functions (juwelstrac:#1189)
------------------------------------------------------------------------
27babe90 | Michael Rauh | Wed, 26 Sep 2018 18:49:52 +0200

Enhancement: let psslurm handle arbitrarily RCP response messages
(e.g. RESPONSE_JOB_INFO)
------------------------------------------------------------------------
b7e89064 | Michael Rauh | Mon, 24 Sep 2018 13:39:43 +0200

Enhancement: ensure hanging jobs get released after MAX_TERM_REQUESTS
------------------------------------------------------------------------


Version psmgmt-5.1.16-1:
========================
------------------------------------------------------------------------
1e25758a | Norbert Eicker | Wed, 19 Sep 2018 14:54:07 +0200

Bugfix: Initialize PS_DataBuffer_t correctly (jwt:#1230)
------------------------------------------------------------------------


Version psmgmt-5.1.16:
======================
------------------------------------------------------------------------
881bb275 | Michael Rauh | Mon, 17 Sep 2018 13:51:16 +0200

Bugfix: use array pack index to build a composite partition
------------------------------------------------------------------------
25afa665 | Michael Rauh | Mon, 17 Sep 2018 11:51:43 +0200

Bugfix: fix reverse hostname lookup which broke tree communication
------------------------------------------------------------------------
99c3e3f3 | Norbert Eicker | Mon, 10 Sep 2018 16:46:22 +0200

Minor correction of the NEWS information
------------------------------------------------------------------------
9f36c6e5 | Michael Rauh | Mon, 10 Sep 2018 14:49:36 +0200

Merge branch 'ticket-pct-126'
------------------------------------------------------------------------
52bbaf9c | Norbert Eicker | Thu, 6 Sep 2018 16:24:21 +0200

More accurate tracking of initialization of PSitems_t
------------------------------------------------------------------------


Version psmgmt-5.1.15-1:
========================
------------------------------------------------------------------------
f5ee3faa | Michael Rauh | Mon, 10 Sep 2018 14:27:44 +0200

Bugfix: workaround for orphan jobs using job packs (pct:#126)
------------------------------------------------------------------------


Version psmgmt-5.1.15:
======================
------------------------------------------------------------------------
7b279f24 | Norbert Eicker | Wed, 5 Sep 2018 17:23:02 +0200

Bugfix: Ensure correct byte-order between pspam and PAM module
------------------------------------------------------------------------
d5c15a64 | Norbert Eicker | Wed, 5 Sep 2018 17:17:16 +0200

Bugfix: Ensure list is initialized in PSitems_clearMem()
------------------------------------------------------------------------
cea7c1f1 | Michael Rauh | Wed, 5 Sep 2018 13:56:52 +0200

Bugfix segfault with sub pack groups (j3t:#1246,#1247)
------------------------------------------------------------------------
f4eafa47 | Norbert Eicker | Tue, 4 Sep 2018 16:34:06 +0200

Rename createNewPartition()

 -  createNewPartition() -> createPartition() since the old one is gone
------------------------------------------------------------------------
1f49d4cc | Norbert Eicker | Tue, 4 Sep 2018 13:12:35 +0200

Drop support for daemon protocol prior to 411

 - Version 411 was released in psmgmt-5.0.47-0 at 20th February 2015
------------------------------------------------------------------------
ca3271dc | Norbert Eicker | Tue, 4 Sep 2018 12:57:08 +0200

Drop support for daemon protocol prior to 407

 - Version 407 was released in psmgmt-5.0.30-0 at 16th February 2011
------------------------------------------------------------------------
75d6148d | Norbert Eicker | Fri, 31 Aug 2018 19:47:56 +0200

Merge branch 'master' into spawning
------------------------------------------------------------------------
64439f22 | Norbert Eicker | Fri, 31 Aug 2018 19:44:57 +0200

Merge branch 'master' into spawning
------------------------------------------------------------------------
c7dca907 | Norbert Eicker | Fri, 31 Aug 2018 19:43:29 +0200

Refactor psaccountproc to make use of PSitems
------------------------------------------------------------------------
acbac040 | Norbert Eicker | Fri, 31 Aug 2018 19:12:05 +0200

Improve comments
------------------------------------------------------------------------
fc3bb20c | Norbert Eicker | Fri, 31 Aug 2018 19:01:11 +0200

Refactor PSsignal to make use of PSitems
------------------------------------------------------------------------
3d839730 | Norbert Eicker | Fri, 31 Aug 2018 18:32:58 +0200

Further booleanization of Timer
------------------------------------------------------------------------
26af800e | Michael Rauh | Fri, 31 Aug 2018 13:56:05 +0200

Add "_SLURM_SPANK_OPTION_*" to default filter of pspelogue
------------------------------------------------------------------------
99343a37 | Norbert Eicker | Fri, 31 Aug 2018 13:54:46 +0200

Refactor Selector to make use of PSitems
------------------------------------------------------------------------
98e9ca0e | Norbert Eicker | Thu, 30 Aug 2018 19:01:18 +0200

Refactor PSIDrsrvtn to make use of PSitems
------------------------------------------------------------------------
44064a03 | Stephan Krempel | Thu, 30 Aug 2018 15:45:16 +0200

psslurm: Fix memory leak in pinning
------------------------------------------------------------------------
0d9aa742 | Norbert Eicker | Thu, 30 Aug 2018 13:55:04 +0200

Refactor PSIDFlwCntrl to make use of PSitems
------------------------------------------------------------------------
bdc4be1f | Norbert Eicker | Thu, 30 Aug 2018 12:46:46 +0200

Update comments
------------------------------------------------------------------------
adb694dc | Norbert Eicker | Thu, 30 Aug 2018 12:38:07 +0200

Streameline psidtimer.h
------------------------------------------------------------------------
9b772f9f | Norbert Eicker | Thu, 30 Aug 2018 12:34:19 +0200

Improve documentation of PSitems
------------------------------------------------------------------------
c6a4b7fb | Michael Rauh | Thu, 30 Aug 2018 12:26:14 +0200

Fix logical errors unveiled by scan-build
------------------------------------------------------------------------
dd2cc3a8 | Norbert Eicker | Thu, 30 Aug 2018 12:14:41 +0200

Refactor PSIDMsgbuf to make use of PSitems
------------------------------------------------------------------------
23c9b10e | Norbert Eicker | Wed, 29 Aug 2018 13:36:48 +0200

Do not install psitems.h
------------------------------------------------------------------------
9ae9b52d | Norbert Eicker | Wed, 29 Aug 2018 12:52:49 +0200

Merge branch 'master' into spawning
------------------------------------------------------------------------
6f2c4c04 | Norbert Eicker | Wed, 29 Aug 2018 12:47:21 +0200

Enhance psserial for multile message handling

 - Allow to receive multiple messages from the same sending host (but
   different sender senders) concurrently
 - First user of the PSitems mechanics including clearMem
------------------------------------------------------------------------
5b000180 | Norbert Eicker | Wed, 29 Aug 2018 12:39:00 +0200

Introduce PSitems to abstract chunks of items

 - Dynamically manage items to be allocated in chunks of 128 kB
 - Allow for garbage collection
 - Foresees to aggresively clear memory after fork()
------------------------------------------------------------------------
625ce92f | Michael Rauh | Thu, 9 Aug 2018 14:15:58 +0200

Merge branch 'master' into spawning
------------------------------------------------------------------------
972ddcad | Norbert Eicker | Fri, 3 Aug 2018 00:47:21 +0200

Merge branch 'master' into spawning
------------------------------------------------------------------------
97fabc9f | Norbert Eicker | Fri, 3 Aug 2018 00:37:37 +0200

Push protocol version to actualled enable fragmented spawns
------------------------------------------------------------------------
6d7f903c | Norbert Eicker | Fri, 3 Aug 2018 00:32:56 +0200

Implement daemon side of serialization layer handling of spawn

 - Implement handling of fragmented PSP_CD_SPAWNREQUEST messages
 - Introduce PSP_DD_SPAWNLOC messages
 - Make handling of signedness more consistent
------------------------------------------------------------------------
da3989ef | Norbert Eicker | Fri, 3 Aug 2018 00:02:30 +0200

Limit the number of spawned processes in PSI_sendSpawnReq() by parameter
------------------------------------------------------------------------
7b9f1412 | Norbert Eicker | Fri, 3 Aug 2018 00:01:16 +0200

Fix bookkeeping if timesUsed has to be corrected in releaseThreads()
------------------------------------------------------------------------
f9662288 | Norbert Eicker | Thu, 2 Aug 2018 22:21:26 +0200

Improve logging for releaseThreads()
------------------------------------------------------------------------
4f0107f7 | Norbert Eicker | Thu, 2 Aug 2018 21:37:31 +0200

Enable libpsi to utilize the serialization layer for spawning

 - Introduce PSI_sendSpawnReq()
 - More consisten handling of signedness
------------------------------------------------------------------------
d6d45401 | Norbert Eicker | Thu, 2 Aug 2018 21:09:45 +0200

Utilize the serialization layer for task handling

 - Introduce PStask_sendTask() and PStask_sendStrV()
 - Allow to ignore workingdir in PStask_decodeTask()
 - Fix various potential problems in PStask_clone()
 - Make handling of signedness more consistent
------------------------------------------------------------------------
b94b4511 | Norbert Eicker | Thu, 2 Aug 2018 14:03:34 +0200

Introduce PSP_DD_SPAWNLOC to the daemon-daemon protocol
------------------------------------------------------------------------
6e235007 | Norbert Eicker | Thu, 2 Aug 2018 14:01:58 +0200

Fix some warning on signedness
------------------------------------------------------------------------
662f1e78 | Norbert Eicker | Mon, 30 Jul 2018 17:36:18 +0200

Extract PS_SendDB_t into its own header file
------------------------------------------------------------------------
d925f0de | Norbert Eicker | Mon, 30 Jul 2018 17:33:48 +0200

Straighten some includes
------------------------------------------------------------------------
c1fcae1a | Norbert Eicker | Mon, 30 Jul 2018 16:26:29 +0200

Merge branch 'master' into spawning

Conflicts:
	lib/psi/psispawn.c
------------------------------------------------------------------------
09c4a0db | Norbert Eicker | Fri, 27 Jul 2018 19:38:06 +0200

Let autoreconf do its job
------------------------------------------------------------------------
f1c95977 | Norbert Eicker | Fri, 27 Jul 2018 19:30:55 +0200

Booleanize psilog
------------------------------------------------------------------------
eebd00f9 | Norbert Eicker | Fri, 27 Jul 2018 19:25:36 +0200

Prepare for next gen spawning mechanism
------------------------------------------------------------------------
9c9af336 | Norbert Eicker | Fri, 27 Jul 2018 19:24:37 +0200

Refactor pspmi plugin to use PSI_sendSpawnMsg()
------------------------------------------------------------------------
a64c9f9a | Norbert Eicker | Fri, 27 Jul 2018 19:22:51 +0200

Introduce PSI_sendSpawnMsg()
------------------------------------------------------------------------


Version psmgmt-5.1.14:
======================
------------------------------------------------------------------------
4b6d540a | Thomas Moschny | Tue, 28 Aug 2018 17:33:40 +0200

Remove cast disliked by EL7's gcc 4.8.5 for stdc>89.
------------------------------------------------------------------------
26c6cf78 | Thomas Moschny | Tue, 28 Aug 2018 17:06:25 +0200

Fix list macro usage.
------------------------------------------------------------------------
d16804bd | Thomas Moschny | Thu, 23 Aug 2018 14:57:25 +0200

Change the LIBEXECDIR define to PKGLIBEXECDIR, which is more precise.
------------------------------------------------------------------------
4c736d48 | Michael Rauh | Wed, 22 Aug 2018 14:13:42 +0200

Some minor improvement in error handling starting a job pack
------------------------------------------------------------------------
8be76142 | Michael Rauh | Wed, 22 Aug 2018 11:50:16 +0200

Enhancement: use hash table and binary search to convert
hostnames to PS nodeIDs and vice versa
------------------------------------------------------------------------
a9569540 | Michael Rauh | Fri, 17 Aug 2018 14:35:57 +0200

Bugfix: fix pinning with different TPP for job packs
(pct:#272, pct:#273)
------------------------------------------------------------------------
d0f795b2 | Michael Rauh | Mon, 13 Aug 2018 17:47:44 +0200

Bugfix: Fix Slurm option cpus-per-task and in combination
with job packs (pct:#272)
------------------------------------------------------------------------
1b9b210c | Michael Rauh | Fri, 10 Aug 2018 12:40:08 +0200

Report errors spawning a jobscript in psslurm to the user (pct:#262)
------------------------------------------------------------------------


Version psmgmt-5.1.13:
======================
------------------------------------------------------------------------
5240dbc1 | Michael Rauh | Wed, 8 Aug 2018 12:38:20 +0200

Let psslurm drop messages if munge service is not available (#2727)
------------------------------------------------------------------------
cd13dc78 | Michael Rauh | Tue, 7 Aug 2018 13:08:32 +0200

Finalize support for slurmctld parallel prologue

  - Allocation information is distributed from the slurmctld prologue
    via pelogue to psslurm
  - The prologue and epilogue is now tracked in the allocation for jobs
    and steps
  - Every node is starting a local epilogue when receiving a terminate
    request and sending the result to the allocation leader
  - The allocation leader will track the epilogue results and offline
    unresponsive nodes
  - The psslurm configuration options DISABLE_PROLOGUE and
    DISABLE_EPILOGUE were removed
  - If slurmctld prologue is not used psslurm will automatically start
    the parallel prologue the usual way
------------------------------------------------------------------------
3c32abc1 | Michael Rauh | Mon, 6 Aug 2018 10:42:05 +0200

Add timing information to psslurm tree forwarding
debug mask PSSLURM_LOG_FWD
------------------------------------------------------------------------
1eeb6a7c | Michael Rauh | Fri, 3 Aug 2018 15:22:30 +0200

Add MEASURE_RPC configuration option to psslurm
------------------------------------------------------------------------
c742a5ae | Michael Rauh | Fri, 3 Aug 2018 14:27:00 +0200

Add MEASURE_MUNGE configuration option to psslurm
------------------------------------------------------------------------
65017b16 | Michael Rauh | Fri, 3 Aug 2018 14:24:07 +0200

Add psMungeMeasure() to psmunge for measuring encode/decode times
spend in libmunge
------------------------------------------------------------------------


Version psmgmt-5.1.12-1:
========================
------------------------------------------------------------------------
37dbdb24 | Michael Rauh | Thu, 2 Aug 2018 13:06:54 +0200

Bugfix: report all known jobs/steps in node registration status (#jrt:8639)
------------------------------------------------------------------------


Version psmgmt-5.1.12:
======================
------------------------------------------------------------------------
5dc1bf77 | Norbert Eicker | Mon, 30 Jul 2018 10:59:10 +0200

Don't determine the protocol version in dospawn's main loop
------------------------------------------------------------------------
f260a17a | Norbert Eicker | Fri, 27 Jul 2018 16:25:33 +0200

More detailed error reporting in PSI_sendMsg()
------------------------------------------------------------------------
11e00f4a | Norbert Eicker | Fri, 27 Jul 2018 14:32:24 +0200

Print user-visible message if execv() fails (juwelstrac:#629)
------------------------------------------------------------------------
66f521a3 | Michael Rauh | Fri, 27 Jul 2018 13:12:57 +0200

Bugfix: make sure srun terminates if spawning of processes gets
interrupted (juwels:#683)
------------------------------------------------------------------------
9ee86402 | Norbert Eicker | Thu, 26 Jul 2018 14:52:46 +0200

Get rid of obsolete tests in dospawn()
------------------------------------------------------------------------
0038c612 | Norbert Eicker | Wed, 25 Jul 2018 18:09:34 +0200

Add the actual psBlackHole plugin (#2721)
------------------------------------------------------------------------
7e99593d | Norbert Eicker | Wed, 25 Jul 2018 18:08:21 +0200

Add machinery for psBlackHole plugin (#2721)
------------------------------------------------------------------------
e29a437e | Norbert Eicker | Mon, 23 Jul 2018 17:46:07 +0200

Push build environment to automake 1.16.1
------------------------------------------------------------------------
19b05db0 | Michael Rauh | Mon, 23 Jul 2018 10:52:32 +0200

Use host tag to identify the local gres configuration (juwels:#440)
------------------------------------------------------------------------
09391d6f | Michael Rauh | Wed, 18 Jul 2018 13:49:14 +0200

Added prologue/epilogue configuration options to psslurm.conf.template (#2719)
------------------------------------------------------------------------
0b9bbd2d | Michael Rauh | Wed, 18 Jul 2018 13:29:35 +0200

Undo commit 4c3672325793
------------------------------------------------------------------------
4c367232 | Michael Rauh | Wed, 18 Jul 2018 13:19:21 +0200

Remove obsolete configuration options from psslurm
------------------------------------------------------------------------
eb7c475c | Michael Rauh | Wed, 18 Jul 2018 13:17:26 +0200

Add missing configuration options to psslurm.conf.template (#2719)
------------------------------------------------------------------------
7c16cca9 | Michael Rauh | Tue, 17 Jul 2018 16:17:46 +0200

Remove ChangeLog-History from build system
------------------------------------------------------------------------
4219e0ab | Michael Rauh | Tue, 17 Jul 2018 14:05:22 +0200

Remove ChangeLog-History from Makefile.sources
------------------------------------------------------------------------
b029e533 | Michael Rauh | Tue, 17 Jul 2018 13:55:50 +0200

Remove obsolete ChangeLog-History of psslurm (#2720)
------------------------------------------------------------------------
5ed8c38a | Michael Rauh | Mon, 16 Jul 2018 14:51:36 +0200

Bugfix: fix memory corruption in psslurm if forwarded messages get dropped
------------------------------------------------------------------------
e18e4036 | Michael Rauh | Fri, 13 Jul 2018 13:14:14 +0200

Actually forward ENV_PSID_BATCH to mpiexec called by psslurm
------------------------------------------------------------------------
28204562 | Michael Rauh | Fri, 13 Jul 2018 12:40:44 +0200

Bugfix: evaluate ENFORCE_BATCH_START also in handleCreatePart()
------------------------------------------------------------------------
eff3c683 | Michael Rauh | Thu, 12 Jul 2018 17:15:35 +0200

Use local addresses to identify the host configuration in psslurm.conf
------------------------------------------------------------------------
9ff7daa6 | Norbert Eicker | Thu, 12 Jul 2018 09:17:45 +0200

Prevent mpiexec et al. from unnecessary resolving (#2710)
------------------------------------------------------------------------
07fc7879 | Norbert Eicker | Thu, 12 Jul 2018 09:16:25 +0200

Merge branch 'master' of git.ccc:/psmgmt
------------------------------------------------------------------------
252dc9f3 | Norbert Eicker | Wed, 11 Jul 2018 16:36:08 +0200

Merge remote-tracking branch 'refs/remotes/origin/master'
------------------------------------------------------------------------
eeb9b3ef | Michael Rauh | Wed, 11 Jul 2018 16:34:45 +0200

Bugfix: set correct node ID for unused slurmBackupController
------------------------------------------------------------------------
83391c66 | Michael Rauh | Wed, 11 Jul 2018 15:06:30 +0200

Bugfix: use dynamic memory allocation for psexec environment
------------------------------------------------------------------------
41fd986b | Norbert Eicker | Wed, 11 Jul 2018 10:55:51 +0200

Some streamlining
------------------------------------------------------------------------
89f04f6e | Norbert Eicker | Wed, 11 Jul 2018 09:46:40 +0200

Make isLocalNode() functionality public (#2711)

 - Refactor isLocalNode() from config_parsing.c and old_config_parsing.c
   into libpscommon
 - New function PSC_isLocalIP() provides requested functionality
------------------------------------------------------------------------
c0543aa3 | Stephan Krempel | Tue, 10 Jul 2018 13:04:53 +0200

PSConfig: Ignore host objects without NodeName set

* Silently ignore host objects without NodeName set.
* Throw error if the local node is not configured giving
  hints for the possible reasons.

Closes pt#2631
------------------------------------------------------------------------
15ea4522 | Michael Rauh | Fri, 6 Jul 2018 10:27:59 +0200

Accept fully qualified host names in slurm.conf
------------------------------------------------------------------------
e1c1a407 | Michael Rauh | Thu, 5 Jul 2018 14:59:23 +0200

Add PSIDHOOK_PELOGUE_START
    - called in pelogue before executing a prologue/epilogue script
    - used by psslurm to get allocation information
------------------------------------------------------------------------
88186ce2 | Michael Rauh | Fri, 29 Jun 2018 16:48:10 +0200

Use host lookup table also for resolving node IDs in psslurm
------------------------------------------------------------------------


Version psmgmt-5.1.11:
======================
------------------------------------------------------------------------
2f0cdf52 | Michael Rauh | Mon, 25 Jun 2018 10:02:33 +0200

Remove obsolete code from handleSignalTasks()
------------------------------------------------------------------------
d2db121a | Michael Rauh | Tue, 19 Jun 2018 12:57:09 +0200

Bugfix: fix reporting of invalid jobids leading to orphan jobs (#3565)
------------------------------------------------------------------------
640520e2 | Michael Rauh | Tue, 12 Jun 2018 17:12:56 +0200

Bugfix: disable prologue for batch jobs if DISABLE_PROLOGUE option is
given
------------------------------------------------------------------------
fdd80ed6 | Michael Rauh | Mon, 4 Jun 2018 16:50:11 +0200

Bugfix: use correct output rank for pack jobs (introduced in a7f1c09ed6fb3)
------------------------------------------------------------------------
86bb20d2 | Michael Rauh | Mon, 4 Jun 2018 09:16:50 +0200

Added missing psslurmalloc.[ch] to rpm
------------------------------------------------------------------------
8a028db7 | Michael Rauh | Fri, 1 Jun 2018 10:18:06 +0200

Cleanup and improved documentation of Job_t, Step_t and Alloc_t
------------------------------------------------------------------------
ebe20303 | Michael Rauh | Wed, 23 May 2018 16:26:03 +0200

Minor cleanup
------------------------------------------------------------------------
14d3c049 | Michael Rauh | Wed, 23 May 2018 16:13:51 +0200

Update buildsystem for psslurmalloc
------------------------------------------------------------------------
4c280f94 | Michael Rauh | Wed, 23 May 2018 16:12:24 +0200

Move allocation code to psslurmalloc
------------------------------------------------------------------------
4c51d4ca | Stephan Krempel | Tue, 22 May 2018 17:02:28 +0200

psconfig parser: try to cut hostname to short

If the host object generated from the result of gethostname()
is not found, try to cut the hostname to its short version.
------------------------------------------------------------------------
8eefb482 | Michael Rauh | Thu, 17 May 2018 17:27:00 +0200

Remove PMI environment variables if MPI support is disabled via
"--mpi=none" (psc:#251)
------------------------------------------------------------------------
04f962b5 | Michael Rauh | Thu, 17 May 2018 15:21:18 +0200

Use ControlAddr and BackupAddr also for TCP/IP connections
------------------------------------------------------------------------
1e830ac4 | Michael Rauh | Thu, 17 May 2018 14:16:55 +0200

Added support for NodeAddr, ControlAddr, and BackupAddr options
of slurm.conf (#2687)

 - The PS node ID is resolved for every node defined in slurm.conf at
   initialisation of psslurm
 - The created lookup table is used to convert Slurm compressed
   hostlists to ParaStation nodes
 - New psslurm config option WEAK_NODEID_CHECK allows nodes defined in
   slurm.conf to have no corresponding PS node ID
------------------------------------------------------------------------
80de1c91 | Michael Rauh | Fri, 11 May 2018 12:47:56 +0200

Prevent possible segmentation fault when psslurm is loaded
------------------------------------------------------------------------
9f81f63f | Norbert Eicker | Tue, 17 Apr 2018 17:54:34 +0200

Ensure pslog-protocol will not mess up (#1321)
------------------------------------------------------------------------
0a61bc84 | Norbert Eicker | Tue, 17 Apr 2018 17:43:07 +0200

Fix docu comment
------------------------------------------------------------------------
1ac1c696 | Norbert Eicker | Wed, 11 Apr 2018 19:37:33 +0200

Hedge pspelogue communication

 - Ensure pspelogue and pelogue plugin have a common understanding of
   the protocol
------------------------------------------------------------------------
5a1e201f | Norbert Eicker | Wed, 11 Apr 2018 19:28:24 +0200

Catch possible segfault unveiled by scan-build
------------------------------------------------------------------------
6dc60900 | Norbert Eicker | Wed, 11 Apr 2018 19:26:56 +0200

Fix logical error unveiled by scan-build
------------------------------------------------------------------------
a0f12ab4 | Norbert Eicker | Wed, 11 Apr 2018 19:23:28 +0200

Fix PID-identification in psmom plugin
------------------------------------------------------------------------
552dd4c0 | Norbert Eicker | Wed, 11 Apr 2018 19:22:47 +0200

Prevent use-after-free in jail plugin unveiled by scan-build
------------------------------------------------------------------------
127f15fe | Norbert Eicker | Wed, 11 Apr 2018 19:21:32 +0200

Prevent memory-leak in (short-running) pspelogue unveiled by scan-build
------------------------------------------------------------------------
625b28ed | Norbert Eicker | Wed, 11 Apr 2018 19:20:48 +0200

Booleanize appendRange()
------------------------------------------------------------------------
41e148c0 | Norbert Eicker | Wed, 11 Apr 2018 19:18:03 +0200

Prevent zero-sized array unveiled by scan-build
------------------------------------------------------------------------
398cdd89 | Norbert Eicker | Wed, 11 Apr 2018 19:16:58 +0200

Avoid unnecessary check
------------------------------------------------------------------------
91c4db6e | Norbert Eicker | Wed, 11 Apr 2018 15:32:33 +0200

Fix warning unveiled by Clang6
------------------------------------------------------------------------
61804863 | Norbert Eicker | Fri, 6 Apr 2018 15:02:06 +0200

Retire signal() from psmom plugin (#516)
------------------------------------------------------------------------
8e680cba | Norbert Eicker | Fri, 6 Apr 2018 14:59:19 +0200

Retire signal() from libpsi (#516)
------------------------------------------------------------------------
d8cffd3d | Norbert Eicker | Fri, 6 Apr 2018 14:44:26 +0200

Retire signal() from libplugincommon (#516)
------------------------------------------------------------------------
91c60917 | Norbert Eicker | Fri, 6 Apr 2018 14:39:09 +0200

Retire signal() from psid (#516)
------------------------------------------------------------------------
bcb1af24 | Norbert Eicker | Fri, 6 Apr 2018 14:27:20 +0200

Retire signal() from various programs (#516)
------------------------------------------------------------------------
0bd8418b | Norbert Eicker | Fri, 6 Apr 2018 14:26:19 +0200

Retire signal() from psaccounter
------------------------------------------------------------------------
b55af567 | Norbert Eicker | Fri, 6 Apr 2018 14:25:10 +0200

Retire signal() from pspelogue
------------------------------------------------------------------------
37a45c56 | Norbert Eicker | Fri, 6 Apr 2018 14:23:50 +0200

Retire signal() from mpiexec et al combined with streamlining
------------------------------------------------------------------------
73b133e9 | Norbert Eicker | Fri, 6 Apr 2018 14:22:50 +0200

Minor streamlining
------------------------------------------------------------------------
50f5d1f6 | Norbert Eicker | Fri, 6 Apr 2018 14:21:43 +0200

Retire signal() from psilogger
------------------------------------------------------------------------
041c360f | Norbert Eicker | Fri, 6 Apr 2018 10:10:44 +0200

Retire signal() from psiadmin

 - Also do some booleanization
------------------------------------------------------------------------
37b48d9a | Norbert Eicker | Fri, 6 Apr 2018 09:53:00 +0200

Let all signals in psid be handled via file descriptor
------------------------------------------------------------------------
622cbfde | Norbert Eicker | Thu, 5 Apr 2018 18:36:23 +0200

Introduce PSC_setSigHandler to retire signal() (#516)
------------------------------------------------------------------------


Version psmgmt-5.1.10:
======================
------------------------------------------------------------------------
2a52c23f | Norbert Eicker | Thu, 5 Apr 2018 13:47:46 +0200

Fix potential memory leaks
------------------------------------------------------------------------
7a4c0e9e | Norbert Eicker | Thu, 5 Apr 2018 13:16:24 +0200

Yet another format update for the changelog
------------------------------------------------------------------------
a7f4db20 | Norbert Eicker | Thu, 5 Apr 2018 13:06:46 +0200

Yet another update to README
------------------------------------------------------------------------
0594c55e | Norbert Eicker | Thu, 5 Apr 2018 12:37:18 +0200

Fix protocol between pspelogue and pelogue plugin
------------------------------------------------------------------------
b7f93424 | Norbert Eicker | Thu, 5 Apr 2018 12:28:58 +0200

Add some more docu
------------------------------------------------------------------------
63a15cc8 | Norbert Eicker | Wed, 4 Apr 2018 19:11:51 +0200

Merge pspelogue from the corresponding branch
------------------------------------------------------------------------
0663afef | Norbert Eicker | Wed, 4 Apr 2018 19:00:18 +0200

Move environment handling from plugincommon to pscommon
------------------------------------------------------------------------
54abfbf6 | Norbert Eicker | Wed, 4 Apr 2018 17:14:46 +0200

Minor cleanup
------------------------------------------------------------------------
9a737cee | Norbert Eicker | Wed, 4 Apr 2018 14:56:23 +0200

Remove superfluous include
------------------------------------------------------------------------
17667df2 | Norbert Eicker | Wed, 4 Apr 2018 14:52:22 +0200

Move hostlist handling from plugincommon to pscommon
------------------------------------------------------------------------
595c6048 | Norbert Eicker | Wed, 4 Apr 2018 13:00:34 +0200

Get rid of sys_siglist
------------------------------------------------------------------------
25d37aa4 | Norbert Eicker | Tue, 3 Apr 2018 16:50:03 +0200

Bugfix: Buffer handling of psserial must be initialized
------------------------------------------------------------------------
c4816694 | Norbert Eicker | Thu, 29 Mar 2018 21:24:27 +0200

Bugfix: Ensure correct use PSC_concat()
------------------------------------------------------------------------
a7f1c09e | Norbert Eicker | Thu, 29 Mar 2018 21:17:55 +0200

Merge branch 'psserial'

 - fix various conflicts in:
	lib/plugincommon/Makefile.in
	lib/pscommon/Makefile.in
	plugins/pelogue/Makefile.in
	plugins/psslurm/src/psslurm/psslurmcomm.c
	plugins/psslurm/src/psslurm/psslurmconfig.c
	plugins/psslurm/src/psslurm/psslurmgres.c
	plugins/psslurm/src/psslurm/psslurmio.c
	plugins/psslurm/src/psslurm/psslurmpack.c
	plugins/psslurm/src/psslurm/psslurmpin.c
	plugins/psslurm/src/psslurm/psslurmproto.c
	plugins/psslurm/src/psslurm/psslurmpscomm.c
	plugins/psslurm/src/psslurm/psslurmpscomm.h
------------------------------------------------------------------------
a76f1d9f | Norbert Eicker | Thu, 29 Mar 2018 18:01:41 +0200

Enhancement: Introduce jail plugin (#2666)
------------------------------------------------------------------------
6790e17a | Norbert Eicker | Thu, 29 Mar 2018 10:55:28 +0200

Push automake to 1.16.1
------------------------------------------------------------------------
b80eab50 | Norbert Eicker | Wed, 28 Mar 2018 17:51:18 +0200

Prevent sending fragments to empty nodeists
------------------------------------------------------------------------
7a4efeb3 | Norbert Eicker | Wed, 28 Mar 2018 16:47:16 +0200

Bugfix: Only free() a buffer if it's actually a buffer
------------------------------------------------------------------------
75c6562e | Norbert Eicker | Wed, 28 Mar 2018 15:00:46 +0200

Move psserial to libpscommon
------------------------------------------------------------------------
cbd60bcf | Norbert Eicker | Wed, 28 Mar 2018 14:02:46 +0200

Bugfix: Avoid double free() if loading psmunge fails
------------------------------------------------------------------------
0f8483d6 | Norbert Eicker | Wed, 28 Mar 2018 06:55:55 +0200

Push automake to 1.16.1
------------------------------------------------------------------------
c360e158 | Norbert Eicker | Tue, 27 Mar 2018 20:37:05 +0200

Get rid of dependeny on pluginlog in psserial
------------------------------------------------------------------------
eeba8ff4 | Norbert Eicker | Tue, 27 Mar 2018 18:48:21 +0200

Get rid of dependeny on pluginmalloc in psserial
------------------------------------------------------------------------
96a1fa59 | Norbert Eicker | Tue, 27 Mar 2018 13:08:42 +0200

Fix potential memory leak
------------------------------------------------------------------------
6f6e7cb6 | Norbert Eicker | Tue, 27 Mar 2018 12:11:12 +0200

Remove now obsolete add*ToMsgBuf() from psserial
------------------------------------------------------------------------
4da1f612 | Norbert Eicker | Tue, 27 Mar 2018 12:05:59 +0200

Retire remaining add*ToMsgBuf() from psmom
------------------------------------------------------------------------
0d723129 | Norbert Eicker | Tue, 27 Mar 2018 11:47:27 +0200

Allow to insert gaps of arbitrary size via PSP_putMsgBuf()
------------------------------------------------------------------------
475e7719 | Norbert Eicker | Mon, 26 Mar 2018 13:38:59 +0200

Simplify definition of PSLog_headerSize
------------------------------------------------------------------------
48cfe4bb | Norbert Eicker | Mon, 26 Mar 2018 13:25:40 +0200

Retire add*ToMsgBuf() from psslurm
------------------------------------------------------------------------
c2a278ca | Norbert Eicker | Mon, 26 Mar 2018 13:17:16 +0200

Add default string to strJobState()
------------------------------------------------------------------------
0b41b1fc | Norbert Eicker | Thu, 22 Mar 2018 16:42:44 +0100

Major streamlining
------------------------------------------------------------------------
01bdcb06 | Norbert Eicker | Thu, 22 Mar 2018 14:42:05 +0100

Retire most add*ToMsgBuf() from psmom
------------------------------------------------------------------------
ba9c6eb4 | Norbert Eicker | Thu, 22 Mar 2018 12:58:34 +0100

Retire add*ToMsgBuf() from pelogue
------------------------------------------------------------------------
5a7aaedd | Norbert Eicker | Thu, 22 Mar 2018 10:11:59 +0100

Take a shortcut if messages consists of just on fragment
------------------------------------------------------------------------
dee228c7 | Norbert Eicker | Thu, 22 Mar 2018 09:34:30 +0100

Update psserial documentation
------------------------------------------------------------------------
f3802af6 | Michael Rauh | Mon, 19 Mar 2018 17:30:57 +0100

Minor cleanup and documentation of psslurmenv
------------------------------------------------------------------------
382ce39f | Michael Rauh | Mon, 19 Mar 2018 15:22:44 +0100

Detect the use of compression in psslurm bcast request
------------------------------------------------------------------------
a78269f6 | Michael Rauh | Mon, 19 Mar 2018 14:42:32 +0100

Minor cleanup and documentation of psslurmcomm
------------------------------------------------------------------------
30a81ea9 | Norbert Eicker | Mon, 19 Mar 2018 12:37:07 +0100

Fix offset when creating pointer from used variable
------------------------------------------------------------------------
7b1a28a1 | Michael Rauh | Mon, 19 Mar 2018 11:54:43 +0100

Add documentation to psslurmbcast.h
------------------------------------------------------------------------
18224731 | Michael Rauh | Fri, 16 Mar 2018 16:31:25 +0100

Removed SLURM protocol switch from buildsystem
------------------------------------------------------------------------
6fcdb643 | Michael Rauh | Fri, 16 Mar 2018 16:18:06 +0100

Added support for SLURM 17.11 protocol including job packs

- This drops support for SLURM 16.05 protocol
- Standard protocol is SLURM 17.02
- The SLURM protocol can be changed using the SLURM_PROTO_VERSION
  option of the psslurm configuration
------------------------------------------------------------------------
6239b3eb | Norbert Eicker | Mon, 12 Mar 2018 23:14:26 +0100

Fix copyright
------------------------------------------------------------------------
41010f2a | Norbert Eicker | Mon, 12 Mar 2018 23:03:18 +0100

Make addSlurmAccData() and addSlurmPids() private

 - Some streamlining of psslurmproto.c
------------------------------------------------------------------------
e641c588 | Norbert Eicker | Mon, 12 Mar 2018 22:44:42 +0100

Major streamlining of psslurmpscomm.c
------------------------------------------------------------------------
83fa0168 | Norbert Eicker | Mon, 12 Mar 2018 22:09:24 +0100

Avoid excessive allocation of memory in psserial

 - Do not statically allocate 256 kB per communication partner
 - Check if the expected fragment was received
 - Allow receive buffers to grow dynamically in fragmentation layer
------------------------------------------------------------------------
73bc2430 | Norbert Eicker | Mon, 12 Mar 2018 22:08:32 +0100

Avoid double copy
------------------------------------------------------------------------
1712a0c6 | Norbert Eicker | Thu, 8 Mar 2018 20:13:56 +0100

Fix various warning unvieled by gcc-8
------------------------------------------------------------------------
fa5e5b67 | Norbert Eicker | Thu, 8 Mar 2018 16:42:11 +0100

Fix gcc-8 warnings by introducing inline-wrappers
------------------------------------------------------------------------
0a04dfb4 | Norbert Eicker | Tue, 6 Mar 2018 00:05:40 +0100

Reorganize handling of fragment headers
------------------------------------------------------------------------
eb2eb93d | Norbert Eicker | Mon, 5 Mar 2018 22:24:11 +0100

Rename some variables and streamline
------------------------------------------------------------------------
324fe4cb | Norbert Eicker | Mon, 5 Mar 2018 22:17:12 +0100

Streamlining
------------------------------------------------------------------------
c141877a | Norbert Eicker | Mon, 5 Mar 2018 21:03:51 +0100

Fix sendBuf handling in psserial

 - This shall also fix potential use after free() errors in the PAM module
------------------------------------------------------------------------
c970be5d | Norbert Eicker | Mon, 5 Mar 2018 20:59:10 +0100

Minor streamlining
------------------------------------------------------------------------
ea853832 | Norbert Eicker | Mon, 5 Mar 2018 18:35:28 +0100

Booleanize and streamline
------------------------------------------------------------------------
7edf7686 | Norbert Eicker | Mon, 5 Mar 2018 18:25:12 +0100

Document how to correctly initialize PS_SendDB_t
------------------------------------------------------------------------
d057af55 | Michael Rauh | Thu, 1 Mar 2018 15:48:28 +0100

Make sure unknown jobs get released for REQUEST_KILL_TIMELIMIT
------------------------------------------------------------------------
d4fabda1 | Michael Rauh | Wed, 28 Feb 2018 15:48:30 +0100

Changed psslurm CPU load reporting to one minute average (psc:#265)
------------------------------------------------------------------------
13ba34ec | Norbert Eicker | Mon, 26 Feb 2018 23:01:43 +0100

Disable kvsprovider if --pmidisable is given (psc:#264)
------------------------------------------------------------------------
e8caf1d6 | Norbert Eicker | Mon, 19 Feb 2018 18:13:12 +0100

Use the actual NODE_DOWN hook in psserial

 - Determine if running within psid and use the actual hook if possible
 - Send fragments earlier
 - Improve docu comments
------------------------------------------------------------------------
6e880de6 | Norbert Eicker | Mon, 19 Feb 2018 11:51:50 +0100

Make psslurmpscomm's hook private

 - Also improve some docu comments
 - Combined with some streamlining of psslurm
------------------------------------------------------------------------
f1d60600 | Norbert Eicker | Mon, 19 Feb 2018 10:16:35 +0100

Streamline psnodes.h
------------------------------------------------------------------------
0a78de7a | Norbert Eicker | Sun, 18 Feb 2018 23:42:11 +0100

Some streamlining in pelogue
------------------------------------------------------------------------
0283e63d | Norbert Eicker | Sun, 18 Feb 2018 23:34:31 +0100

Some streamlining in psslurm

 - Rename letAllStepsRun() to startAllSteps()
 - Rename disPrologue to disablePrologue
 - Add @doctodos
------------------------------------------------------------------------
89b4b870 | Norbert Eicker | Sun, 18 Feb 2018 23:31:53 +0100

Streamline logging output
------------------------------------------------------------------------
876f46af | Norbert Eicker | Tue, 13 Feb 2018 12:33:56 +0100

Go back to automake 1.15.1.

 - This has effects on configure and aclocal.m4
------------------------------------------------------------------------
bf42f373 | Norbert Eicker | Tue, 13 Feb 2018 08:18:46 +0100

Rename PELOGUE_LOG_PSPELOGUE to PELOGUE_LOG_VERB
------------------------------------------------------------------------
3dee7c1e | Michael Rauh | Mon, 5 Feb 2018 09:48:19 +0100

Rework fragmentation layer to send message fragments instantly. Use
pre-allocated buffers for non fragmented messages to avoid memory
fragmentation.
------------------------------------------------------------------------
57d7b7b4 | Michael Rauh | Mon, 5 Feb 2018 10:18:05 +0100

Rename plugincomm to psserial
------------------------------------------------------------------------
01859343 | Michael Rauh | Fri, 19 Jan 2018 10:58:03 +0100

First steps to add support for slurmctld parallel prologue
------------------------------------------------------------------------
cee0eb74 | Michael Rauh | Fri, 19 Jan 2018 10:35:58 +0100

Add caller info to pelogueconfig
------------------------------------------------------------------------
944557a0 | Michael Rauh | Fri, 19 Jan 2018 10:24:04 +0100

Cleanup pelogue log masks
------------------------------------------------------------------------


Version psmgmt-5.1.9:
=====================
------------------------------------------------------------------------
7e780921 | Norbert Eicker | Tue, 13 Feb 2018 10:26:38 +0100

Merge branch 'psslurm-pinning'

------------------------------------------------------------------------
464291dc | Michael Rauh | Mon, 12 Feb 2018 15:43:18 +0100

Move verbose step launch infos to printLaunchTasksInfos()

------------------------------------------------------------------------
ce8c4b30 | Michael Rauh | Mon, 12 Feb 2018 15:34:00 +0100

Cleanup setting accounting options for jobs and steps in psslurm

------------------------------------------------------------------------
1c2b9410 | Norbert Eicker | Fri, 9 Feb 2018 10:20:13 +0100

Merge branch 'pn/ticket_2621'

------------------------------------------------------------------------
f49c1e10 | Michael Rauh | Wed, 7 Feb 2018 15:40:04 +0100

Adopted psslurm to changed signal handling beginning with Slurm
version 17.02.8 (psc:#22, psc:#133)

------------------------------------------------------------------------
d217867a | Norbert Eicker | Wed, 31 Jan 2018 10:52:05 +0100

Fix CPU frequency determination for ARM platforms

------------------------------------------------------------------------
9430fc2a | Norbert Eicker | Tue, 30 Jan 2018 15:57:00 +0100

More whitespace fixes

------------------------------------------------------------------------
dd63b40a | Peter Niessen | Mon, 29 Jan 2018 16:53:58 +0100

changed indentation from 2 to 4 spaces

------------------------------------------------------------------------
55f8208b | Stephan Krempel | Thu, 18 Jan 2018 14:39:30 +0100

psslurmpin: make test program controllable by cmdline parameters

------------------------------------------------------------------------
0f655837 | Stephan Krempel | Thu, 18 Jan 2018 13:53:59 +0100

Merge branch 'master' into pinning

------------------------------------------------------------------------
4c11bc5a | Stephan Krempel | Thu, 18 Jan 2018 13:50:33 +0100

psslurm: Add pinning documentation

------------------------------------------------------------------------
e0cec36f | Stephan Krempel | Thu, 18 Jan 2018 13:37:04 +0100

psslurmpin: Add implementation for cpuBindType CPU_BIND_LDRANK

------------------------------------------------------------------------
5477f62f | Stephan Krempel | Thu, 18 Jan 2018 13:34:19 +0100

psslurmpin: Add test program for local pinning tests

With test_psslurmpin one can simulate different pinning scenarios
and see the resulting pinning.

------------------------------------------------------------------------
fcf92370 | Stephan Krempel | Thu, 18 Jan 2018 13:32:21 +0100

psslurmpin: Introduce pininfo struct

------------------------------------------------------------------------
e83c43fb | Stephan Krempel | Thu, 18 Jan 2018 13:30:14 +0100

psslurmpin: Introduce pinToAllThreads()

pinToAllThreads() will replace pinToAllSockets() using nodeinfo struct

------------------------------------------------------------------------
279af782 | Stephan Krempel | Thu, 18 Jan 2018 13:28:11 +0100

psslurmpin: Introduce thread iterator

------------------------------------------------------------------------
eb5a3a94 | Stephan Krempel | Thu, 18 Jan 2018 13:24:18 +0100

psslurmpin: Introduce nodeinfo structure

------------------------------------------------------------------------
b305561e | Norbert Eicker | Thu, 18 Jan 2018 09:58:57 +0100

Fix typo

------------------------------------------------------------------------
02ca9893 | Stephan Krempel | Tue, 16 Jan 2018 14:30:27 +0100

Merge branch 'master' into pinning

------------------------------------------------------------------------
74ed33ce | Stephan Krempel | Sat, 13 Jan 2018 01:41:35 +0100

Merge branch 'master' into pinning

------------------------------------------------------------------------
7b49c18c | Peter Niessen | Tue, 9 Jan 2018 12:55:23 +0100

Handle absence of Frequency statements in /proc/cpuinfo (#2621)

------------------------------------------------------------------------
399d8ea0 | Peter Niessen | Tue, 19 Dec 2017 15:08:43 +0100

make sure that missing cpu MHz lines don't segfault

------------------------------------------------------------------------
cabb1903 | Stephan Krempel | Mon, 24 Jul 2017 15:50:06 +0200

psslurm: Modified socket and ldom pinning

------------------------------------------------------------------------


Version psmgmt-5.1.8:
=====================
------------------------------------------------------------------------
3398e973 | Norbert Eicker | Wed, 17 Jan 2018 23:11:04 +0100

Update README describing the release process

------------------------------------------------------------------------
d829f864 | Norbert Eicker | Wed, 17 Jan 2018 17:07:35 +0100

Define SLURM_PROTOCOL_1605 only exactly for v16.05

------------------------------------------------------------------------
917b0900 | Norbert Eicker | Wed, 17 Jan 2018 17:03:48 +0100

Fix #ifdef to work for SLURM 16.05 and higher

------------------------------------------------------------------------
6a608ad3 | Norbert Eicker | Tue, 16 Jan 2018 22:41:28 +0100

Push automake to version 1.15.1

------------------------------------------------------------------------
66fc74ba | Norbert Eicker | Tue, 16 Jan 2018 22:39:11 +0100

Merge branch 'psslurm-devel-1702'

------------------------------------------------------------------------
07d7fe9d | Norbert Eicker | Tue, 16 Jan 2018 22:37:33 +0100

Update buildsystem to support SLURM 17.02 and 16.05

 - This drops support for SLURM 14.05 protocol
 - Standard protocol is SLURM 17.02 from now on

------------------------------------------------------------------------
63343f87 | Norbert Eicker | Tue, 16 Jan 2018 22:33:44 +0100

Fix typo in comment

------------------------------------------------------------------------
77c52327 | Norbert Eicker | Tue, 16 Jan 2018 22:02:16 +0100

Minor streamlining and fixing typos

------------------------------------------------------------------------
556345db | Norbert Eicker | Tue, 16 Jan 2018 19:46:08 +0100

Fix missing includes

------------------------------------------------------------------------
f7fbc37e | Norbert Eicker | Tue, 16 Jan 2018 19:44:59 +0100

Fix missing include

------------------------------------------------------------------------
5d4fb7b5 | Norbert Eicker | Tue, 16 Jan 2018 18:31:25 +0100

Remove reference to SIGUNUSED

 - SIGUNUSED was removed from glibc 2.26
 - Take the opportunity to streamline psmomsignal

------------------------------------------------------------------------
fe1b874a | Norbert Eicker | Mon, 15 Jan 2018 21:43:06 +0100

Fix missing include unveiled by gcc 7

------------------------------------------------------------------------
bece7420 | Norbert Eicker | Mon, 15 Jan 2018 21:26:55 +0100

Fix various bug and warnings highlighted by gcc 7

------------------------------------------------------------------------
77654777 | Norbert Eicker | Mon, 15 Jan 2018 21:24:58 +0100

Fix various bugs and warnings highlighted by gcc 7

 - In addition do some streamlining of psmomconv and psmomlist

------------------------------------------------------------------------
e446c797 | Norbert Eicker | Mon, 15 Jan 2018 20:41:51 +0100

Fix two warnings issued by gcc 7

------------------------------------------------------------------------
055bd6dc | Norbert Eicker | Mon, 15 Jan 2018 19:02:03 +0100

Fix various 'fall through' warnings from gcc 7

------------------------------------------------------------------------
1d5c9ea6 | Norbert Eicker | Mon, 15 Jan 2018 19:00:57 +0100

Fix 'fall through' warnings from gcc 7

 - In addition rename label from error to cleanup to avoid ambiguity

------------------------------------------------------------------------
cf06f160 | Norbert Eicker | Mon, 15 Jan 2018 18:24:31 +0100

Prevent warning from gcc 7

 - Write down check for any bits set more explicitely
 - Booleanize the pscpu toolbox

------------------------------------------------------------------------
e8f04a9a | Michael Rauh | Fri, 12 Jan 2018 12:57:55 +0100

Merge branch 'master' into psslurm-devel-1702

------------------------------------------------------------------------
d69d21ef | Michael Rauh | Fri, 12 Jan 2018 10:55:55 +0100

Fix merge error

------------------------------------------------------------------------
6ae6c4af | Michael Rauh | Fri, 29 Sep 2017 16:34:28 +0200

Let psiadmin change the debug mask of the pelogue plugin

------------------------------------------------------------------------
fbbbdff2 | Michael Rauh | Thu, 11 Jan 2018 15:19:55 +0100

Merge branch 'master' into psslurm-devel-1702

------------------------------------------------------------------------
a8295869 | Michael Rauh | Mon, 18 Sep 2017 16:36:49 +0200

Bugfix: fix segmentation fault in psslurm step callback (jrt:#6980)

------------------------------------------------------------------------
76d3cf2e | Stephan Krempel | Mon, 24 Jul 2017 15:50:06 +0200

psslurm: Modified socket and ldom pinning

------------------------------------------------------------------------
d3497c9e | Norbert Eicker | Thu, 21 Dec 2017 12:37:48 +0100

Streamlining and request for docu of psslurmgres etc.

------------------------------------------------------------------------
6ee9922c | Norbert Eicker | Tue, 5 Dec 2017 17:54:50 +0100

Remove obsolete psslurmjobinfo stuff

------------------------------------------------------------------------
fd022700 | Norbert Eicker | Tue, 5 Dec 2017 15:50:52 +0100

Streamlining and request for docu of psslurmtask etc.

------------------------------------------------------------------------
a3da5ee0 | Norbert Eicker | Tue, 5 Dec 2017 13:20:12 +0100

Streamlining and request for docu of psslurmjobcred

------------------------------------------------------------------------
eb28319a | Norbert Eicker | Tue, 5 Dec 2017 13:10:39 +0100

Streamlining and request for docu of psslurmjob

------------------------------------------------------------------------
dd3e53e9 | Norbert Eicker | Tue, 5 Dec 2017 09:57:47 +0100

Streamlining and request for docu of psslurmstep

------------------------------------------------------------------------
0e316dec | Norbert Eicker | Tue, 5 Dec 2017 09:21:11 +0100

Streamlining and request for docu of psslurmbcast

------------------------------------------------------------------------
0eb6feef | Michael Rauh | Fri, 10 Nov 2017 11:22:02 +0100

Get rid of string jobid and job history in psslurm

------------------------------------------------------------------------
e7c346dc | Michael Rauh | Thu, 9 Nov 2017 10:53:35 +0100

Move bcast implementation to psslurmbcast

------------------------------------------------------------------------
cd9ebbe7 | Michael Rauh | Tue, 7 Nov 2017 13:54:47 +0100

Remove unused pmiSrunPort and pmiStepNodes from Step_t

------------------------------------------------------------------------
a1ad05cb | Michael Rauh | Tue, 7 Nov 2017 10:15:35 +0100

Cleanup JobCred_t

------------------------------------------------------------------------
32fe4e2b | Michael Rauh | Mon, 6 Nov 2017 14:04:24 +0100

Move step implementation to psslurmstep

------------------------------------------------------------------------
d57585bc | Michael Rauh | Fri, 3 Nov 2017 16:54:47 +0100

Remove unused fields from Step_t

------------------------------------------------------------------------
d701f45b | Michael Rauh | Fri, 3 Nov 2017 16:31:57 +0100

Move JobCred_t to psslurmjobcred.h

------------------------------------------------------------------------
109a08b3 | Michael Rauh | Fri, 3 Nov 2017 16:04:55 +0100

Move IO_Opt_t to psslurmio

------------------------------------------------------------------------
90319301 | Michael Rauh | Fri, 3 Nov 2017 12:14:46 +0100

Move task code from psslurmjob to psslurmtasks

------------------------------------------------------------------------
b40a9a9d | Michael Rauh | Thu, 2 Nov 2017 16:54:31 +0100

Remove obsolete RLimits_t in psslurmjob

------------------------------------------------------------------------
0d50f1ec | Michael Rauh | Thu, 2 Nov 2017 13:31:49 +0100

Improve plugin config parsing

------------------------------------------------------------------------
5c135f44 | Michael Rauh | Fri, 27 Oct 2017 13:22:55 +0200

Added missing includes for peloguekvs.c

------------------------------------------------------------------------
c288c3ef | Michael Rauh | Thu, 26 Oct 2017 15:58:36 +0200

Bugfix: fix segmentation fault if epilogue start messages
    get dropped (jrt:#7129)

------------------------------------------------------------------------
5c412790 | Michael Rauh | Thu, 26 Oct 2017 15:55:56 +0200

Show active and registered jobs in pelogue show query

------------------------------------------------------------------------
3c5722b5 | Michael Rauh | Thu, 26 Oct 2017 12:07:35 +0200

Clear psid message registration in psslurm and pelogue if
    no old message handler is found

------------------------------------------------------------------------
ab9858b8 | Michael Rauh | Thu, 26 Oct 2017 11:56:53 +0200

Move psid message registration into pslurmpscomm

------------------------------------------------------------------------
951f133c | Michael Rauh | Tue, 24 Oct 2017 13:50:59 +0200

Let pelogue handle PSP_CD_UNKNOWN messages

------------------------------------------------------------------------
cefa65be | Michael Rauh | Tue, 24 Oct 2017 13:17:01 +0200

First step to support multiple Slurm protocol versions

------------------------------------------------------------------------
1fdab425 | Michael Rauh | Mon, 23 Oct 2017 16:36:07 +0200

Remove obsolete addInt2StringList() function

------------------------------------------------------------------------
13f24801 | Michael Rauh | Mon, 23 Oct 2017 16:25:09 +0200

Let psslurm handle PSP_CD_UNKNOWN messages

Fix some typos

------------------------------------------------------------------------
056bc3b6 | Michael Rauh | Mon, 23 Oct 2017 15:24:01 +0200

Remove obsolete message types in psslurm

------------------------------------------------------------------------
b22c8fe4 | Norbert Eicker | Fri, 20 Oct 2017 17:58:16 +0200

Merge branch 'psmgmt-5.1.7'

------------------------------------------------------------------------
e249f183 | Norbert Eicker | Fri, 20 Oct 2017 13:43:50 +0200

Ignore flow-control messages withing libpsi (#261)

------------------------------------------------------------------------
bc2a6e08 | Michael Rauh | Thu, 12 Oct 2017 16:27:46 +0200

Added pack function for RESPONSE_LAUNCH_TASKS messages

------------------------------------------------------------------------
2ed57ec9 | Norbert Eicker | Mon, 9 Oct 2017 18:49:54 +0200

Create error messaage for unhandled messages

------------------------------------------------------------------------
60b31d73 | Michael Rauh | Thu, 5 Oct 2017 17:26:16 +0200

Improved debug output in psslurm

------------------------------------------------------------------------
2e26f7d6 | Michael Rauh | Mon, 2 Oct 2017 16:44:22 +0200

Fix two warnings found by clang's scan-build

------------------------------------------------------------------------
916df887 | Norbert Eicker | Wed, 27 Sep 2017 13:30:01 +0200

Ensure that psslurm implements correct interfaces

------------------------------------------------------------------------
fa3ebc0d | Michael Rauh | Wed, 27 Sep 2017 12:59:53 +0200

Added support for RPC DAEMON_STATUS in psslurm (pct:#134)

------------------------------------------------------------------------
3e566056 | Michael Rauh | Tue, 26 Sep 2017 13:47:27 +0200

Added support for RPC REQUEST_SHUTDOWN in psslurm (pct:#178)

------------------------------------------------------------------------
525f6f44 | Michael Rauh | Tue, 26 Sep 2017 12:28:20 +0200

Fix rpm build by removing obsolete file psslurmkvs.h

------------------------------------------------------------------------
5081356a | Michael Rauh | Tue, 26 Sep 2017 12:15:15 +0200

Make various lists private in psslurmjob.c

------------------------------------------------------------------------
4323282f | Michael Rauh | Mon, 18 Sep 2017 16:36:49 +0200

Bugfix: fix segmentation fault in psslurm step callback (jrt:#6980)

------------------------------------------------------------------------
a3774470 | Michael Rauh | Fri, 15 Sep 2017 16:02:55 +0200

Adopt new timeout exit codes from 17.02

------------------------------------------------------------------------
1ae48d6d | Stephan Krempel | Mon, 24 Jul 2017 15:50:06 +0200

psslurm: Modified socket and ldom pinning

------------------------------------------------------------------------
4d3a0cd5 | Michael Rauh | Thu, 14 Sep 2017 10:22:51 +0200

Merge branch 'master' into psslurm-devel-1702

------------------------------------------------------------------------
a9c32165 | Michael Rauh | Tue, 12 Sep 2017 09:48:57 +0200

Better differentiation between nodelist and hostlist in psslurm

------------------------------------------------------------------------
3a923c62 | Thomas Moschny | Fri, 4 Aug 2017 10:44:18 +0200

Fix building the psconfig-less RPM.

------------------------------------------------------------------------
0eab6f8a | Norbert Eicker | Thu, 3 Aug 2017 08:09:17 +0200

Merge branch 'mpiexec'

------------------------------------------------------------------------
9056e8e8 | Norbert Eicker | Thu, 3 Aug 2017 07:58:26 +0200

Improve fixes done in 75f3605c

------------------------------------------------------------------------
75f3605c | Thomas Moschny | Wed, 2 Aug 2017 18:25:36 +0200

Fix two cppcheck memleakOnRealloc errors.

------------------------------------------------------------------------
ac79cd92 | Norbert Eicker | Mon, 31 Jul 2017 18:20:22 +0200

Bugfix: Seems that SLURM steps need the logger sometimes

------------------------------------------------------------------------
c1d172ed | Michael Rauh | Mon, 31 Jul 2017 17:15:22 +0200

Update regression test suite:

    commit 5652b4326a35f3c8b15948094aff3017fc72bafb (dorian/pstest)
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Fri Jul 28 18:15:00 2017 +0200

	Created new test sbatch-env-notmem for Slurm 17.02

	For Slurm 17.04 the env var SLURM_MEM_PER_NODE is exported
	only when "--mem" is used during submission. This test
	checks if without the "--mem" options the env var is not
	set as expected.

    commit cb96cc72bf650cc88434b88a5a91587a59793c0d
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Fri Jul 28 18:13:14 2017 +0200

	Created new test sbatch-env-mem for Slurm 17.02

	For Slurm 17.04 the env var SLURM_MEM_PER_NODE is exported
	only when "--mem" is used during submission. This test
	checks if it set correctly.

    commit a8715e1d885e390bd92ebbbdd99aec414f49c104
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Fri Jul 28 18:09:42 2017 +0200

	Fix test unbuffered-stdout for Slurm 17.02

	For Slurm 17.02, srun with "--unbuffered" option prints an extra
	newline/return special char in stdout. Test is aware of this now.

    commit d7f7214352fd6ca25c25d752305107b239239124
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Fri Jul 28 18:08:05 2017 +0200

	Fix test timeout-exit-15 for Slurm 17.02

	When a jobstep is cancelled (e.g. reached timeout) then the exit
	code will 0:15 instead of 0:1. Test now expects the correct rc.

    commit c1301d7c12627d064b01e94e00252770fef80715
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Fri Jul 28 18:07:15 2017 +0200

	Fix test signal-3 for Slurm 17.02

	When a jobstep is cancelled (e.g. reached timeout) then the exit
	code will 0:15 instead of 0:1. Test now expects the correct rc.

    commit 51c9360ebf61ca4061760d4ea98d1f8773b22def
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Fri Jul 28 18:05:46 2017 +0200

	Fix test sbatch-env ti support Slurm 17.02

	For test "sbatch-env" vanilla Slurm version 17.02
	is not exporting by defautl env var SLURM_MEM_PER_NODE,
	but only if we give the "--mem" to sbatch. Removed the
	check for this env var (created other tests).

    commit 835ea80741db19b3437cd222533cc7a2dbc535ef
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Fri Jul 28 18:02:47 2017 +0200

	Fix eval.py of test debugger-test to support Slurm 17.02

	When a jobstep is cancelled (e.g. reached timeout) then the exit
	code will 0:15 instead of 0:1. Test now expects the correct rc.

    commit c630198a9bcf118f72f270724f5e7ccb7008524a
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Fri Jul 28 17:58:25 2017 +0200

	Fix eval.py of test accounting-2 for Slurm 17.02

	When a jobstep is cancelled (e.g. reached timeout) then the exit
	code will 0:15 instead of 0:1. Also some times (most probably
	because of some race conditions = bug) the order of sending
	SIGTERM to kill the processes is wrong and the jobsteps will
	fail instead of be cancelled normally. This test accepts (at
	least for now) the failed state (rc) also as correct/expected.

    commit 04e8a9148f7727d0f4463ba10f4591e6cdb6cca0
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Fri Jul 28 17:30:53 2017 +0200

	Fix test accounting-1 for Slurm 17.02

	When a jobstep is cancelled (e.g. reached timeout) then the exit
	code will 0:15 instead of 0:1. Test now expects the correct rc.

    commit 643c2b9c53ba6097bc3988068322533e17ed0951
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Thu Jun 8 12:49:47 2017 +0200

	add doc notes update the tests state from scripts

    commit 709e1cc9bcfd90e1f71671abdab35254a4a99b4e
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Tue Jun 6 11:08:52 2017 +0200

	add docs, how to push changes to partec repo

------------------------------------------------------------------------
3e675326 | Norbert Eicker | Mon, 31 Jul 2017 14:53:43 +0200

Bugfix: Ensure timer does not expire in localtime() (#2636)

------------------------------------------------------------------------
262822f8 | Norbert Eicker | Mon, 31 Jul 2017 14:44:54 +0200

Start improving psaccounter

 - Use list_t
 - Improve logging

------------------------------------------------------------------------
0bfed462 | Norbert Eicker | Mon, 31 Jul 2017 12:36:26 +0200

Improve documentation of getMemFromBuf().

------------------------------------------------------------------------
a05a3331 | Norbert Eicker | Sun, 30 Jul 2017 22:28:32 +0200

More use of PSP_put/getMsgBuf in psidstatus

------------------------------------------------------------------------
318235a6 | Norbert Eicker | Sun, 30 Jul 2017 22:20:05 +0200

Finally use false-flag for selected message types

 - Test only for messages of type PSP_DD_DAEMONCONNECT and
   PSP_DD_DAEMONESTABLISHED

------------------------------------------------------------------------
cd37b346 | Norbert Eicker | Fri, 21 Jul 2017 09:48:40 +0200

Streamline kvs

------------------------------------------------------------------------
de5b5a97 | Norbert Eicker | Fri, 21 Jul 2017 09:10:52 +0200

Streamline kvscommon

------------------------------------------------------------------------
39a7c44c | Norbert Eicker | Wed, 19 Jul 2017 15:03:17 +0200

Make header files accessible for autotools

------------------------------------------------------------------------
0137285e | Norbert Eicker | Wed, 19 Jul 2017 15:02:30 +0200

Extract providerloop from libpskvs

------------------------------------------------------------------------
6e2d8186 | Norbert Eicker | Wed, 19 Jul 2017 13:24:22 +0200

Restructure libpskvs

------------------------------------------------------------------------
12aaae5e | Norbert Eicker | Tue, 18 Jul 2017 18:40:12 +0200

Enhance efficiency of environment propagation

------------------------------------------------------------------------
51622b89 | Norbert Eicker | Tue, 18 Jul 2017 13:10:00 +0200

Booleanize psispawn.c

 - More formatting beautification

------------------------------------------------------------------------
039dd652 | Norbert Eicker | Tue, 18 Jul 2017 11:57:30 +0200

Adapt psslurm plugin to new mpiexec

------------------------------------------------------------------------
78a2628e | Norbert Eicker | Tue, 18 Jul 2017 11:56:33 +0200

Adapt pspmi plugin to new mpiexec

------------------------------------------------------------------------
1d92404e | Norbert Eicker | Tue, 18 Jul 2017 11:53:24 +0200

Continue splitting up mpiexec

 - Extract kvsprovider into its own executable
 - Major re-organization of common parts
 - Rename environment.[ch] -> common.[ch]

------------------------------------------------------------------------
92059ceb | Norbert Eicker | Tue, 18 Jul 2017 09:50:05 +0200

Always check for PMI consistency

------------------------------------------------------------------------
485fdb92 | Norbert Eicker | Tue, 18 Jul 2017 09:46:19 +0200

Bugfix: Handle executable names including ')' correctly

------------------------------------------------------------------------
cda9ba36 | Norbert Eicker | Fri, 14 Jul 2017 00:43:01 +0200

Enhancement: Allow to set the task-group via PSI_spawnService()

------------------------------------------------------------------------
ffaa63ea | Norbert Eicker | Thu, 13 Jul 2017 17:51:26 +0200

Use ENV_NUM_SERVICE_PROCS instead of its value

------------------------------------------------------------------------
d8fdc187 | Michael Rauh | Tue, 11 Jul 2017 11:30:30 +0200

Merge branch 'master' into psslurm-devel-1702

------------------------------------------------------------------------
e4952ae3 | Norbert Eicker | Fri, 7 Jul 2017 17:07:10 +0200

Drop spawner's unneeded dependency on libpskvs

------------------------------------------------------------------------
d274c4f9 | Norbert Eicker | Fri, 7 Jul 2017 13:52:52 +0200

Get rid of testacct's libpse dependency

------------------------------------------------------------------------
7c3456d6 | Norbert Eicker | Fri, 7 Jul 2017 13:40:58 +0200

Reorganize buildsystem in bin directory

------------------------------------------------------------------------
335ae89e | Norbert Eicker | Fri, 7 Jul 2017 12:50:40 +0200

Start using SUBDIRS for build-system in bin

------------------------------------------------------------------------
fb5db414 | Norbert Eicker | Fri, 7 Jul 2017 11:48:06 +0200

Extract spawner part of mpiexec into its own executable

------------------------------------------------------------------------
9772040e | Norbert Eicker | Thu, 6 Jul 2017 21:26:22 +0200

Extract mpiexec's environment setup into its own src

------------------------------------------------------------------------
2682f8dd | Michael Rauh | Mon, 3 Jul 2017 10:22:12 +0200

Merge branch 'master' into psslurm-devel-1702

------------------------------------------------------------------------
550c635f | Michael Rauh | Fri, 30 Jun 2017 10:57:27 +0200

Hide connection reset with debug mask PSSLURM_LOG_COMM

------------------------------------------------------------------------
fdacff84 | Michael Rauh | Thu, 29 Jun 2017 16:35:13 +0200

Cleanup associated selector and timer if a message buffer gets deleted

------------------------------------------------------------------------
b1c48ae0 | Michael Rauh | Tue, 27 Jun 2017 13:07:24 +0200

Switch to non-blocking read/write for Slurm messages (psc:#255).
Store and resend important Slurm messages if the slurmctld
    is temporally unavailable (jrt:#3389).

------------------------------------------------------------------------
639f3b33 | Michael Rauh | Tue, 27 Jun 2017 13:04:13 +0200

Merge branch 'master' into psslurm-devel-1702

------------------------------------------------------------------------
1da330e2 | Michael Rauh | Tue, 16 May 2017 17:45:14 +0200

First implementation of the 17.02 protocol.
Move more pack/unpack code into psslurmpack.
Minor cleanup.

------------------------------------------------------------------------


Version psmgmt-5.1.7:
=====================
------------------------------------------------------------------------
4cd673e2 | Norbert Eicker | Fri, 28 Jul 2017 17:16:02 +0200

Switch off false-flag testing from 1d7d6332047 again

 - Check might lead to further trouble in ressource handling

------------------------------------------------------------------------
9c40ec2d | Norbert Eicker | Fri, 28 Jul 2017 16:28:01 +0200

Start to booleanize psidnodes

 - Start with isUp
 - Get rid of now obsolete public PSIDnodes_validID()

------------------------------------------------------------------------
9e74e5c3 | Norbert Eicker | Fri, 28 Jul 2017 16:26:58 +0200

Unify PS ID range check in PSC_validNode()

------------------------------------------------------------------------
3861b6ac | Norbert Eicker | Tue, 25 Jul 2017 18:51:32 +0200

Fix sender when forwarding PSP_DD_CHILDDEAD message

------------------------------------------------------------------------
cd923d4f | Norbert Eicker | Tue, 25 Jul 2017 13:45:02 +0200

Improve error log verbosity

------------------------------------------------------------------------
4779050f | Norbert Eicker | Sun, 23 Jul 2017 16:33:33 +0200

Bugfix: Remote daemons might forward msgs remote to them

 - This shall fix the consistency checks introduced in 1d7d6332047

------------------------------------------------------------------------
57af07c3 | Norbert Eicker | Sun, 23 Jul 2017 16:32:49 +0200

Add more consistency checks for node's ParaStation ID

------------------------------------------------------------------------
1d7d6332 | Norbert Eicker | Fri, 21 Jul 2017 16:57:49 +0200

Enhancement: Check for false flag RDP msg (jrt:#6829)

------------------------------------------------------------------------
34aeac8f | Norbert Eicker | Fri, 21 Jul 2017 16:05:04 +0200

Prevent illegal nodes in clearRDPMsgs() (jrt:#6829)

------------------------------------------------------------------------
fd3d4fa8 | Norbert Eicker | Fri, 21 Jul 2017 16:02:00 +0200

Fix whitespace formatting

------------------------------------------------------------------------
3332a5d6 | Michael Rauh | Thu, 20 Jul 2017 15:19:39 +0200

Bugfix: cleanup steps properly if master superior node disappears

------------------------------------------------------------------------
50ac4ed4 | Stephan Krempel | Wed, 12 Jul 2017 17:41:07 +0200

Better output on config errors

------------------------------------------------------------------------
103156cd | Michael Rauh | Tue, 11 Jul 2017 17:32:46 +0200

Added the TID of the psilogger to the psiadmin show steps query of psslurm

------------------------------------------------------------------------
526c451a | Michael Rauh | Tue, 11 Jul 2017 10:10:49 +0200

Bugfix: don't let reusing PIDs for the psilogger in a single job
    corrupt psslurms task management (jrt:#6713)

------------------------------------------------------------------------
a6240760 | Norbert Eicker | Fri, 7 Jul 2017 17:14:40 +0200

Enhancement: More efficient extension of buffers

------------------------------------------------------------------------


Version psmgmt-5.1.6:
=====================
------------------------------------------------------------------------
449a60cf | Norbert Eicker | Wed, 28 Jun 2017 14:28:42 +0200

Major reorganization of mpiexec

 - Move all parameters parsed from command-line into a single struct
 - Command-line parser now in a separate module

------------------------------------------------------------------------
4e7dba0c | Norbert Eicker | Wed, 28 Jun 2017 14:07:30 +0200

Get rid of obsolete dependency on ps_search_libs.m4

------------------------------------------------------------------------
713cd20f | Norbert Eicker | Fri, 23 Jun 2017 16:32:51 +0200

Mark PSI_execLogger() as noreturn.

------------------------------------------------------------------------
3697e830 | Norbert Eicker | Wed, 14 Jun 2017 13:27:18 +0200

Omit useless parenthesis

------------------------------------------------------------------------
84e088cc | Norbert Eicker | Wed, 7 Jun 2017 10:19:55 +0200

Allow to pass extra info to per-node environment creator

------------------------------------------------------------------------
a586b157 | Norbert Eicker | Tue, 6 Jun 2017 17:51:49 +0200

More consistent use of argv as const char *[]

------------------------------------------------------------------------
900c483d | Norbert Eicker | Fri, 5 May 2017 16:42:54 +0200

Start moving parameters into struct

------------------------------------------------------------------------
4218bd6a | Norbert Eicker | Thu, 13 Apr 2017 22:32:39 +0200

Prepare struct to hold all mpiexec's parameters

------------------------------------------------------------------------
0aa8fc32 | Norbert Eicker | Thu, 13 Apr 2017 15:17:11 +0200

Streamline all start programs

 - Get rid of SVN revision strings
 - Rename PSE_checkNodeEnv() -> PSE_checkAndSetNodeEnv()
 - Rename PSE_checkNodeEnv() -> PSE_checkAndSetSortEnv()

------------------------------------------------------------------------
9e1df745 | Norbert Eicker | Wed, 12 Apr 2017 21:44:06 +0200

Fix whitespace formatting

------------------------------------------------------------------------
cb723977 | Norbert Eicker | Wed, 12 Apr 2017 21:40:03 +0200

Remove support of priviledged options

 - --admin and --login was broken for some time anyhow
 - thus, most probably this was not used at all
 - implementation was clashing with actual functionality
 - if this functionality is required at all I propose to have a
   specialized tool for it

------------------------------------------------------------------------
ac1c14f2 | Norbert Eicker | Wed, 12 Apr 2017 18:40:37 +0200

Bugfix: mpiexec's --admin option broke

------------------------------------------------------------------------
a433cffe | Norbert Eicker | Wed, 12 Apr 2017 13:44:13 +0200

Move mpiexec.c into its own subdirectory

------------------------------------------------------------------------
e3479a24 | Norbert Eicker | Wed, 5 Jul 2017 12:29:11 +0200

Bit of streamlining on KVS provider

------------------------------------------------------------------------
c0410a79 | Norbert Eicker | Wed, 5 Jul 2017 12:28:29 +0200

Be less sloppy when doing ASan tests

------------------------------------------------------------------------
892b354c | Norbert Eicker | Wed, 5 Jul 2017 12:24:40 +0200

Bugfix: Avoid potential buffer overflow in kvsprovider

------------------------------------------------------------------------
2023c697 | Norbert Eicker | Tue, 4 Jul 2017 19:01:49 +0200

Bugfix: Fix two off by one errors in psiadmin

------------------------------------------------------------------------
ca92260f | Norbert Eicker | Tue, 4 Jul 2017 18:36:36 +0200

Bugfix: Avoid buffer overflow in debug output

------------------------------------------------------------------------
f279e3ea | Norbert Eicker | Tue, 4 Jul 2017 18:12:33 +0200

Bugfix: Ensure allocated memory is large enough

------------------------------------------------------------------------
95084014 | Norbert Eicker | Tue, 4 Jul 2017 17:35:38 +0200

Update comments on address sanitizing

------------------------------------------------------------------------
a839ff0e | Norbert Eicker | Mon, 3 Jul 2017 19:34:16 +0200

Merge remote-tracking branch 'refs/remotes/origin/master'

------------------------------------------------------------------------
2cbd5404 | Norbert Eicker | Mon, 3 Jul 2017 19:30:50 +0200

Adjust documentation comment

------------------------------------------------------------------------
294a8db4 | Norbert Eicker | Mon, 3 Jul 2017 19:27:28 +0200

Add some comments on address sanitizing

------------------------------------------------------------------------
6eb738bc | Norbert Eicker | Mon, 3 Jul 2017 18:40:34 +0200

Merge remote-tracking branch 'refs/remotes/origin/master'

------------------------------------------------------------------------
65095012 | Michael Rauh | Mon, 3 Jul 2017 16:25:23 +0200

First implementation of the 17.02 protocol.
Move more pack/unpack code into psslurmpack.
Minor cleanup.

------------------------------------------------------------------------
0641b3ab | Norbert Eicker | Mon, 3 Jul 2017 18:36:31 +0200

Bugfix: Rectify pointer issues in pspmi

 - Fix various issues with pointer arithemtics
 - Fix several double free()
 - Problems pop up when more then one info is used in
   MPI_Comm_spawn()

------------------------------------------------------------------------
30260e2d | Norbert Eicker | Mon, 3 Jul 2017 18:19:10 +0200

Bugfix: Fix potential buffer-overflow

------------------------------------------------------------------------
cf90fba1 | Michael Rauh | Fri, 30 Jun 2017 13:14:41 +0200

Merge branch 'master' of git.ccc:/psmgmt

------------------------------------------------------------------------
1d654df2 | Norbert Eicker | Wed, 28 Jun 2017 18:45:04 +0200

Bugfix: allow psidforwarder to create coredumps again

------------------------------------------------------------------------
57aee36d | Norbert Eicker | Wed, 28 Jun 2017 18:35:09 +0200

Bugfix: prevent stuck psid

 - If no node of matching HW-type is found for MPI_Comm_spawn() psid might
   get stuck in an endless loop

------------------------------------------------------------------------
12a980b1 | Michael Rauh | Fri, 30 Jun 2017 12:56:14 +0200

Improved documentation

------------------------------------------------------------------------
535e1010 | Michael Rauh | Fri, 30 Jun 2017 10:57:27 +0200

Hide connection reset with debug mask PSSLURM_LOG_COMM

------------------------------------------------------------------------
71a4395f | Michael Rauh | Thu, 29 Jun 2017 16:35:13 +0200

Cleanup associated selector and timer if a message buffer gets deleted

------------------------------------------------------------------------
8f3714e7 | Michael Rauh | Tue, 27 Jun 2017 17:12:33 +0200

Switch to non-blocking read/write for Slurm messages (psc:#255).
Store and resend important Slurm messages if the slurmctld
    is temporally unavailable (jrt:#3389).

------------------------------------------------------------------------
c1475653 | Michael Rauh | Thu, 8 Jun 2017 10:06:37 +0200

Update regression test suite:

    commit 06512a3f4465b41f8dc96ab025be515c087e55bc (dorian/pstest)
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Tue Jun 6 10:56:47 2017 +0200

	Fix a bug in jobid extraction logic

	Fixed regular expression used for jobid extraction from the ouput
	of the job submission in regtest.py.

    commit d1cde69796c178cb4dc7f85e0d54fc933c37ec71
    Author: Chrysovalantis Paschoulas <c.paschoulas@fz-juelich.de>
    Date:   Tue Jun 6 10:30:26 2017 +0200

	added some docs

    commit 7f6639718c1763d45cc255c8bafe160f302e5d28
    Author: Dorian Krause <d.krause@fz-juelich.de>
    Date:   Mon Jun 5 16:33:35 2017 +0200

	Fix typo in the README

    commit 69d1620f37807038edcee1d83425878e4314bced
    Author: Dorian Krause <d.krause@fz-juelich.de>
    Date:   Mon Jun 5 16:30:17 2017 +0200

	Adjust README to Gitlab MD

    commit 8fd83bfcc7b377140665afb2278ba11c382aff68
    Author: Dorian Krause <d.krause@fz-juelich.de>
    Date:   Mon Jun 5 16:27:44 2017 +0200

	Update patches
------------------------------------------------------------------------


Version psmgmt-5.1.5:
=====================
------------------------------------------------------------------------
29e292d2 | Norbert Eicker | Fri, 26 May 2017 14:08:29 +0200

Bugfix: Prevent inheritance of forwarder processes (#2629)

 - Inheriting forwarder processes might lead to leftover task structures
 - Kept references to child tasks must not be stored in assignedSigs list

------------------------------------------------------------------------
ce8286bd | Norbert Eicker | Tue, 23 May 2017 18:02:42 +0200

Improved logging

------------------------------------------------------------------------
2a946f7c | Norbert Eicker | Tue, 23 May 2017 17:18:15 +0200

Bugfix: Check that task is still present (#2629)

------------------------------------------------------------------------
54f2e166 | Michael Rauh | Mon, 22 May 2017 13:14:26 +0200

Don't try to pack empty data if slurm message forwarding fails

------------------------------------------------------------------------
4b13e88b | Michael Rauh | Thu, 18 May 2017 16:03:53 +0200

Bugfix: Ensure jobs get released if mother superior is unkown (jrt:#6645)

------------------------------------------------------------------------
bb1b42bf | Norbert Eicker | Mon, 15 May 2017 18:32:09 +0200

Bugfix: Catch rare race-condition

 - If SIGTERM is catched by a child before signal handlers are reset to
   default psid might loose proper handling of master socket (jrt:#6680)

------------------------------------------------------------------------
d2434ac7 | Thomas Moschny | Tue, 4 Apr 2017 11:21:56 +0200

IWYU prep: Add missing #includes to make header files self-contained.

Superfluous #includes will be removed later.

------------------------------------------------------------------------
fea3e78a | Norbert Eicker | Wed, 5 Apr 2017 12:40:58 +0200

Merge branch 'ticket-6426'

------------------------------------------------------------------------
a5c53710 | Norbert Eicker | Tue, 4 Apr 2017 19:00:05 +0200

Fix one compiler warning

------------------------------------------------------------------------
e3b0f0cc | Norbert Eicker | Thu, 9 Mar 2017 14:02:23 +0100

First draft of a more scalable passing of children

------------------------------------------------------------------------
396acfd3 | Norbert Eicker | Tue, 4 Apr 2017 17:25:12 +0200

Further improvements of delegateStat debug plugin

------------------------------------------------------------------------
88bf250d | Norbert Eicker | Tue, 4 Apr 2017 17:17:55 +0200

Bugfix: Release resources assigned to failed spawns

------------------------------------------------------------------------
16e3dc25 | Norbert Eicker | Tue, 4 Apr 2017 17:03:06 +0200

Bugfix: Correct release of overcommited resources

------------------------------------------------------------------------
62d8e0ea | Norbert Eicker | Tue, 4 Apr 2017 16:54:13 +0200

More improvements of delegateStat debug plugin

------------------------------------------------------------------------
522f49e2 | Norbert Eicker | Tue, 4 Apr 2017 15:59:08 +0200

Replace magic numbers by errno constants

------------------------------------------------------------------------
6480753b | Michael Rauh | Tue, 4 Apr 2017 14:49:24 +0200

Merge branch 'master' of git.ccc:/psmgmt

------------------------------------------------------------------------
1e799508 | Norbert Eicker | Fri, 31 Mar 2017 18:11:13 +0200

Bugfixing of delegateStat plugin

------------------------------------------------------------------------
e151cd5d | Norbert Eicker | Fri, 31 Mar 2017 17:46:03 +0200

Fix delegateStat's dependency on libplugincommon

------------------------------------------------------------------------
e2d9d401 | Norbert Eicker | Fri, 31 Mar 2017 17:32:40 +0200

Add new plugin to peek into resource delegates

------------------------------------------------------------------------
d4152ca6 | Michael Rauh | Fri, 31 Mar 2017 16:09:23 +0200

Merge branch 'master' of git.ccc:/psmgmt

------------------------------------------------------------------------
b38ea36f | Michael Rauh | Fri, 31 Mar 2017 16:07:20 +0200

Ensure srun will get an exit notification for all tasks (#6421)

------------------------------------------------------------------------


Version psmgmt-5.1.4:
=====================
------------------------------------------------------------------------
d831b85 | Michael Rauh | Wed, 5 Apr 2017 11:55:01 +0200

Bugfix: counting in CUDA_VISIBLE_DEVICES starts with zero

------------------------------------------------------------------------


Version psmgmt-5.1.3:
=====================
------------------------------------------------------------------------
8c04060 | Norbert Eicker | Thu, 30 Mar 2017 14:57:54 +0200

Improve shutdown logic of psslurm plugin

------------------------------------------------------------------------
6948c87 | Norbert Eicker | Thu, 30 Mar 2017 14:52:44 +0200

Improve shutdown logic of pelogue plugin

------------------------------------------------------------------------
f03ae33 | Michael Rauh | Thu, 30 Mar 2017 11:39:16 +0200

Fix merge error introduced in 9eca02b3733063

------------------------------------------------------------------------
9eca02b | Michael Rauh | Thu, 30 Mar 2017 11:05:31 +0200

Merge branch 'master' of git.ccc:/psmgmt

------------------------------------------------------------------------
60c29f6 | Thomas Moschny | Wed, 29 Mar 2017 15:13:20 +0200

Fix source file list.

------------------------------------------------------------------------
af99c85 | Thomas Moschny | Wed, 29 Mar 2017 14:20:08 +0200

Regenerate autoconf files as needed.

------------------------------------------------------------------------
d6dd03b | Thomas Moschny | Wed, 29 Mar 2017 14:11:37 +0200

Change defaults for CGROUP_{ROOT,NAME} if systemd is used.

See also #2566.

------------------------------------------------------------------------
dbcb92a | Thomas Moschny | Wed, 29 Mar 2017 11:36:05 +0200

Allow psid to manage its own cgroup hierarchy, without systemd interfering.

------------------------------------------------------------------------
9c3aa9c | Thomas Moschny | Mon, 27 Mar 2017 16:40:48 +0200

Remove unused function.

------------------------------------------------------------------------
e5acb8d | Thomas Moschny | Mon, 27 Mar 2017 16:40:03 +0200

Fix prototype warnings.

------------------------------------------------------------------------
0ececa8 | Michael Rauh | Thu, 30 Mar 2017 10:59:48 +0200

Reworked shutdown process of psslurm and pelogue. This also fixes
jrt:#6401

------------------------------------------------------------------------
c83a62c | Michael Rauh | Tue, 21 Mar 2017 12:13:11 +0100

Bugfix for jrt:#6536 introduced in 89783b4dda7f88b9f5

------------------------------------------------------------------------
bdd1fe9 | Michael Rauh | Mon, 20 Mar 2017 16:50:36 +0100

Fix segfault on psslurm unloading without a gres configuration

------------------------------------------------------------------------
4fa2e06 | Michael Rauh | Mon, 20 Mar 2017 11:14:01 +0100

Suppress warning messages for admin users starting jobs
using mpiexec (pt:#2617)

------------------------------------------------------------------------
1b244aa | Michael Rauh | Fri, 10 Mar 2017 17:20:15 +0100

Improved error output for invalid slurm protocol version

------------------------------------------------------------------------
d130b57 | Norbert Eicker | Wed, 8 Mar 2017 08:26:54 +0100

Beautify documentation comments

------------------------------------------------------------------------


Version psmgmt-5.1.2:
=====================
------------------------------------------------------------------------
0e50ac2 | Norbert Eicker | Tue, 7 Mar 2017 17:07:54 +0100

Cleanup psslurmcomm

 - Streamline various log messages
 - Rename saveForwardedMsgRes() to saveFrwrdMsgRes()

------------------------------------------------------------------------
2441fd3 | Stephan Krempel | Tue, 7 Mar 2017 10:39:09 +0100

psslurm: fix segfault in broken connection handling

Fixes jrt:#6428

------------------------------------------------------------------------
89783b4 | Stephan Krempel | Tue, 7 Mar 2017 10:37:34 +0100

psslurm: better error output in message forwarding

------------------------------------------------------------------------
3cb5030 | Norbert Eicker | Mon, 6 Mar 2017 12:41:19 +0100

Fix typos in docu comments

------------------------------------------------------------------------
f8aa4b6 | Norbert Eicker | Fri, 3 Mar 2017 14:09:21 +0100

Minor cleanup and streamlining of psidcomm

------------------------------------------------------------------------
8eb6c9d | Norbert Eicker | Thu, 2 Mar 2017 15:39:21 +0100

Allow to unload hotfix-plugin in any case

------------------------------------------------------------------------
e06ca9a | Michael Rauh | Thu, 2 Mar 2017 15:21:24 +0100

Added psslurm option 'ENABLE_FPE_EXCEPTION' to trap FPE instantly (JRT:#6290)

------------------------------------------------------------------------
bdc86c8 | Norbert Eicker | Thu, 2 Mar 2017 15:01:06 +0100

Add hotfix plugin for jrt:#6429

------------------------------------------------------------------------
45cd1d8 | Norbert Eicker | Tue, 28 Feb 2017 11:24:16 +0100

Let psaccount use psid's loginuid adjustment

------------------------------------------------------------------------
b16dd85 | Norbert Eicker | Tue, 28 Feb 2017 11:21:06 +0100

More adjusting of loginuid

 - Give client processes and their forwarders correct loginuid
 - Make PSID_adjustLoginUID() part of psid's offical interface

------------------------------------------------------------------------
4543cb4 | Michael Rauh | Tue, 28 Feb 2017 10:30:50 +0100

Added support for PMI 'abort' command (JRT:#6427)

------------------------------------------------------------------------
f9a47c4 | Norbert Eicker | Mon, 27 Feb 2017 22:56:10 +0100

Bugfix: Set psid's loginuid to fix accounting (jrt:#6429)

------------------------------------------------------------------------
641fc36 | Michael Rauh | Mon, 27 Feb 2017 10:08:26 +0100

Merge branch 'master' of git.ccc:/psmgmt

------------------------------------------------------------------------
f26df2a | Norbert Eicker | Fri, 24 Feb 2017 17:21:27 +0100

Remove test remnant

------------------------------------------------------------------------
bb080c7 | Michael Rauh | Fri, 24 Feb 2017 16:48:32 +0100

Bitstrings are packed in hex format since Slurm 16.05 (JRT:#6426)

------------------------------------------------------------------------
bc503df | Norbert Eicker | Thu, 23 Feb 2017 18:18:31 +0100

Add debug to inspect problems like (jrt:#6414)

------------------------------------------------------------------------
65b3f71 | Norbert Eicker | Thu, 23 Feb 2017 16:39:28 +0100

Improved debug output

------------------------------------------------------------------------
cb79980 | Michael Rauh | Thu, 23 Feb 2017 10:11:33 +0100

Fix memory corruption in psslurm gres processing

------------------------------------------------------------------------


Version psmgmt-5.1.1:
=====================
------------------------------------------------------------------------
e15c27d | Norbert Eicker | Wed, 22 Feb 2017 08:29:47 +0100

Bugfix: Grab correct exit code for pelogue scripts

------------------------------------------------------------------------
993a61f | Norbert Eicker | Wed, 22 Feb 2017 08:27:28 +0100

Flag pluginfowarder's returns validity

 - pluginfowarder's estatus and ecode validity cannot be determined by
   their value only

------------------------------------------------------------------------
ebf8edd | Norbert Eicker | Tue, 21 Feb 2017 22:52:56 +0100

Fix pelogue's traverseJobs() (jrt:#6405)

 - While traversing the list of jobs the current job might get deleted
   within the job's callback.

------------------------------------------------------------------------
62e26bb | Norbert Eicker | Tue, 21 Feb 2017 17:47:59 +0100

Fix yet another typo introduced in 0f7b887ad1990a

------------------------------------------------------------------------
d499075 | Michael Rauh | Tue, 21 Feb 2017 16:49:50 +0100

Fix stack corruption introduced in 0f7b887ad1990a

------------------------------------------------------------------------
c6975e3 | Michael Rauh | Mon, 20 Feb 2017 14:26:19 +0100

Fix segfault in psslurm when I/O connections breaks (JRT:#6396)

------------------------------------------------------------------------
771a599 | Norbert Eicker | Mon, 20 Feb 2017 10:27:45 +0100

Flatten psmom's directory tree

------------------------------------------------------------------------
827e248 | Norbert Eicker | Mon, 20 Feb 2017 10:13:23 +0100

Update documentation on obsolete stuff

------------------------------------------------------------------------
2735b36 | Norbert Eicker | Mon, 20 Feb 2017 09:56:29 +0100

Mark Sselect() as deprecated

------------------------------------------------------------------------
7a92ba3 | Norbert Eicker | Mon, 20 Feb 2017 09:31:59 +0100

Remove various functions marked as deprecated

------------------------------------------------------------------------
81e616e | Dorian Krause | Fri, 17 Feb 2017 09:08:04 +0100

Bug fix for ticket-105 and sstat-1

Accept CONFIGURING as a valid JobState.

------------------------------------------------------------------------
8b70253 | Norbert Eicker | Thu, 16 Feb 2017 17:42:00 +0100

Drop more support for protocols prior to 340

------------------------------------------------------------------------
957a761 | Norbert Eicker | Thu, 16 Feb 2017 17:29:42 +0100

Add new testtool to list all info types in protocol

------------------------------------------------------------------------
41b6b60 | Norbert Eicker | Thu, 16 Feb 2017 17:25:04 +0100

Drop support for various option types in protocol

 - All info marked as deprecated for more than 10 years

------------------------------------------------------------------------
2e01858 | Norbert Eicker | Thu, 16 Feb 2017 16:37:20 +0100

Drop support for various option types in protocol

 - All option marked as deprecated for at least 2 years, i.e. prior to
   psmgmt-5.0.47

------------------------------------------------------------------------
b1a376b | Norbert Eicker | Thu, 16 Feb 2017 16:17:43 +0100

Drop support for protocols prior to 340

 - Version 340 was introduced in February 2011 and released in
   psmgmt-5.0.31

------------------------------------------------------------------------
0f7b887 | Norbert Eicker | Thu, 16 Feb 2017 16:06:24 +0100

Drop support for daemon protocols prior to 410

 - Version 410 was introduced in November 2014 and released in
   psmgmt-5.0.47

------------------------------------------------------------------------
0601771 | Norbert Eicker | Thu, 16 Feb 2017 10:21:05 +0100

Drop support for PSP_CD_SPAWNREQUEST message

 - This type of message is deprecated and not sent since 2006

------------------------------------------------------------------------
47f18dc | Norbert Eicker | Wed, 15 Feb 2017 18:28:08 +0100

Adapt psid version infos to missing SVN revs

------------------------------------------------------------------------
3ccb5a0 | Norbert Eicker | Wed, 15 Feb 2017 18:16:40 +0100

Adapt psiadmin version infos to missing SVN revs

------------------------------------------------------------------------
1d559ac | Norbert Eicker | Tue, 14 Feb 2017 18:09:45 +0100

Remove pointer arithmetics clang complains about

------------------------------------------------------------------------
8960457 | Norbert Eicker | Tue, 14 Feb 2017 18:05:41 +0100

Use PSP_putMsgBuf() / PSP_getMsgBuf() for RDP pings

 - Drop support for ancient protocol versions
 - As a side-effect remove some pointer arithmetics clang complains
   about

------------------------------------------------------------------------


Version psmgmt-5.1.0:
=====================
------------------------------------------------------------------------
2669bf1 | Norbert Eicker | Tue, 14 Feb 2017 12:27:34 +0100

Refine Obsoletes entry in RPMs spec file

------------------------------------------------------------------------
4228fe8 | Norbert Eicker | Tue, 14 Feb 2017 11:45:43 +0100

Put psslurm's ChangeLog history into separate file

------------------------------------------------------------------------
149e54f | Norbert Eicker | Tue, 14 Feb 2017 09:58:06 +0100

Bugfix: More fixes for delayed tasks (jrt:#6354)

 - Also lookup delayedTasks when cloning environment from siblings
 - Enqueue directly to delayed task to circumvent check for identity

------------------------------------------------------------------------
8481032 | Norbert Eicker | Tue, 14 Feb 2017 09:44:19 +0100

Bugfix: Make delaySlurmMsg test plugin actually work

------------------------------------------------------------------------
15d8665 | Norbert Eicker | Mon, 13 Feb 2017 23:07:32 +0100

Allow psmgmt RPM to replace psmgmt-slurm1605

------------------------------------------------------------------------
f82945c | Norbert Eicker | Mon, 13 Feb 2017 22:32:38 +0100

Move psslurm plugin into its own sub-RPM

------------------------------------------------------------------------
15d9d90 | Norbert Eicker | Mon, 13 Feb 2017 21:59:20 +0100

Revert Slurm 16.05 support logic

 - Slurm 16.05 is the default from now on
 - To get 14.03 support use configure's --disable-slurm_1605 argument
 - The RPM naming scheme is change appropriately, i.e. psmgmt supports
   Slurm 16.05 while psmgmt-slurm1403 support Slurm 14.03

------------------------------------------------------------------------
25ff25b | Norbert Eicker | Mon, 13 Feb 2017 18:46:56 +0100

Merge branch 'psslurm-devel'

------------------------------------------------------------------------
98538ed | Norbert Eicker | Mon, 13 Feb 2017 16:53:05 +0100

Bugfix: pluginforwarder shall ignore PSP_CC_ERROR messages

 - Provide additional warning if unexpected messages are received

------------------------------------------------------------------------
7d20c7a | Norbert Eicker | Fri, 10 Feb 2017 09:52:01 +0100

Push plugin API version to 117 for PSIDspawn_localTask()

------------------------------------------------------------------------
fd13663 | Norbert Eicker | Thu, 9 Feb 2017 23:33:46 +0100

Add new testplugin to delay SLURM messages

------------------------------------------------------------------------
b608a90 | Norbert Eicker | Thu, 9 Feb 2017 23:20:47 +0100

Enhancement: New function dupDataBuffer()

------------------------------------------------------------------------
c107bca | Thomas Moschny | Wed, 8 Feb 2017 22:47:08 +0100

Fix and simplify the pam_psmom.so symlink generation.

------------------------------------------------------------------------
a7f65e3 | Thomas Moschny | Wed, 8 Feb 2017 22:42:49 +0100

Fix 'make distcheck'.

------------------------------------------------------------------------
fdca1e7 | Thomas Moschny | Wed, 8 Feb 2017 22:34:59 +0100

Do not include the the psconfig sample file twice (it's in the psconfig subdir).

------------------------------------------------------------------------
2297b27 | Michael Rauh | Wed, 8 Feb 2017 11:51:59 +0100

Remove PSI_INPUTDEST in rank environment instead of mpiexec

------------------------------------------------------------------------
f74913c | Norbert Eicker | Wed, 8 Feb 2017 11:33:43 +0100

Actually implement PSIDspawn_delayTask()

------------------------------------------------------------------------
bbb75bf | Norbert Eicker | Wed, 8 Feb 2017 11:10:29 +0100

More equalization between master and psslurm-devel

------------------------------------------------------------------------
e5fdb1d | Norbert Eicker | Tue, 7 Feb 2017 18:43:40 +0100

Equalize between psslurm-devel and master

------------------------------------------------------------------------
e4d6e3e | Norbert Eicker | Tue, 7 Feb 2017 17:29:01 +0100

Bugfix: Fix delayed spawns waiting for step (#6354)

------------------------------------------------------------------------
c5522f0 | Stephan Krempel | Tue, 7 Feb 2017 13:01:02 +0100

Fix memory allocation in pluginstrv

------------------------------------------------------------------------
1b17a4e | Norbert Eicker | Tue, 7 Feb 2017 11:30:02 +0100

Streamline pmiclientspawn again

------------------------------------------------------------------------
7db88f2 | Stephan Krempel | Tue, 7 Feb 2017 10:20:20 +0100

Fix memory allocation in PMI spawn handling

------------------------------------------------------------------------
813bd7d | Norbert Eicker | Mon, 6 Feb 2017 12:05:42 +0100

Prepare for 5.1.x releases

------------------------------------------------------------------------
be4e1de | Norbert Eicker | Mon, 6 Feb 2017 11:53:41 +0100

New version (psmgmt-5.0.54)

------------------------------------------------------------------------


Version psmgmt-5.0.54:
======================
------------------------------------------------------------------------
d752d57 | Norbert Eicker | Fri, 3 Feb 2017 17:20:16 +0100

Let mpiexec provide appnum independently of PMI

------------------------------------------------------------------------
52f9149 | Michael Rauh | Fri, 19 Aug 2016 11:18:35 +0200

Bugfix: don't set PMI_APPNUM if PMI is disabled.

------------------------------------------------------------------------
2c13447 | Norbert Eicker | Fri, 3 Feb 2017 16:11:43 +0100

Fix and simplify spec file

------------------------------------------------------------------------
2e2422a | Norbert Eicker | Thu, 2 Feb 2017 17:13:22 +0100

Add psmgmt.vipsconfig to documentation

------------------------------------------------------------------------
6d97e17 | Norbert Eicker | Thu, 2 Feb 2017 14:38:26 +0100

Fix RPM build dependency and description typos

------------------------------------------------------------------------
68c883e | Norbert Eicker | Wed, 1 Feb 2017 19:30:25 +0100

Minor changes to unify between master and psslurm-devel

------------------------------------------------------------------------
a6ddeb2 | Norbert Eicker | Wed, 1 Feb 2017 19:13:05 +0100

Merge .gitignore from psslurm-devel

------------------------------------------------------------------------
489f905 | Norbert Eicker | Tue, 31 Jan 2017 17:23:39 +0100

Rework pluginconfig's hash accumulation API

------------------------------------------------------------------------
87d8431 | Michael Rauh | Wed, 25 Jan 2017 15:12:01 +0100

Compute configuration hash value (PCT:#254)

 - This contains the non-psslurm part only and wait for cleanup

------------------------------------------------------------------------
cfcb304 | Norbert Eicker | Mon, 16 Jan 2017 11:23:53 +0100

Streamline psmompscomm

Conflicts:
	plugins/psmom/src/psmom/psmomssh.h

------------------------------------------------------------------------
0b34fdc | Norbert Eicker | Thu, 26 Jan 2017 19:18:17 +0100

Streamline psmomjob

------------------------------------------------------------------------
9471b59 | Norbert Eicker | Thu, 26 Jan 2017 14:05:36 +0100

Streamline psmomjobinfo

------------------------------------------------------------------------
6ebac99 | Norbert Eicker | Thu, 26 Jan 2017 09:47:12 +0100

Push pspam's version due to recent changes

------------------------------------------------------------------------
7a67ad2 | Norbert Eicker | Thu, 26 Jan 2017 09:43:41 +0100

Get rid of pam_psmom sources and handles in psmom

------------------------------------------------------------------------
b5b7274 | Norbert Eicker | Thu, 26 Jan 2017 09:42:16 +0100

Enhancement: New API function psPamFindSessionForPID()

------------------------------------------------------------------------
a5da5d3 | Norbert Eicker | Wed, 25 Jan 2017 17:58:40 +0100

Disable build of now useless PAM module pam_psmom.so

 - For the time being this is replaced by a symlink to pam_pspam.so

------------------------------------------------------------------------
45322d7 | Norbert Eicker | Wed, 25 Jan 2017 17:32:54 +0100

Enable use of pspam within psmom

 - This renders pam_psmom basically useless

------------------------------------------------------------------------
70dbd28 | Norbert Eicker | Wed, 25 Jan 2017 17:29:34 +0100

Fine-tune pspamkvs output

------------------------------------------------------------------------
0f5095c | Norbert Eicker | Wed, 25 Jan 2017 17:27:42 +0100

Suppress debug messages per default in pspamcomm

------------------------------------------------------------------------
8951eee | Norbert Eicker | Wed, 25 Jan 2017 10:12:48 +0100

Add error messages to pspamuser

------------------------------------------------------------------------
ef3cebb | Norbert Eicker | Tue, 24 Jan 2017 18:23:06 +0100

Merge branch 'pspam'

------------------------------------------------------------------------
315f036 | Norbert Eicker | Tue, 24 Jan 2017 18:18:32 +0100

Add README explaining pspam and its configuration

------------------------------------------------------------------------
6724efe | Norbert Eicker | Tue, 24 Jan 2017 16:43:59 +0100

Get rid of pspam's unused subdirectory doc

------------------------------------------------------------------------
0c64011 | Norbert Eicker | Tue, 24 Jan 2017 16:36:08 +0100

Add Makefile to pspam/include for completeness

------------------------------------------------------------------------
d6aca69 | Norbert Eicker | Tue, 24 Jan 2017 16:13:44 +0100

Enhancement: Add KVS functionality to pspam

------------------------------------------------------------------------
efc2f4d | Norbert Eicker | Tue, 24 Jan 2017 13:13:39 +0100

Add some debug to pspam's API

------------------------------------------------------------------------
e6bbca0 | Norbert Eicker | Tue, 24 Jan 2017 12:14:38 +0100

Bugfix: Prevent pspam from killing random processes

------------------------------------------------------------------------
aa5a695 | Norbert Eicker | Fri, 20 Jan 2017 15:07:56 +0100

Enhancement: Use job ID instead of plugin name

 - User shall be identified by their job ID instead of the registering
   plugin
 - This enables support for shared nodes but requires changes in
   psslurm/psmom

------------------------------------------------------------------------
ed3e4f9 | Norbert Eicker | Fri, 20 Jan 2017 14:39:32 +0100

Reorganize pspam according to #2580

------------------------------------------------------------------------
fabcd6a | Norbert Eicker | Fri, 20 Jan 2017 11:03:42 +0100

Streamline pspam

 - This includes extracting communication functionality into pspamcomm

------------------------------------------------------------------------
d44db41 | Norbert Eicker | Fri, 20 Jan 2017 10:02:43 +0100

Streamline pspamssh

------------------------------------------------------------------------
7ca133c | Norbert Eicker | Thu, 19 Jan 2017 18:33:27 +0100

Streamline pspamlog

------------------------------------------------------------------------
3cc2369 | Norbert Eicker | Thu, 19 Jan 2017 14:17:40 +0100

Streamline pspamuser

------------------------------------------------------------------------
da9cfb1 | Norbert Eicker | Thu, 19 Jan 2017 13:19:45 +0100

Streamline PAM module

 - This includes improving the protocol to the pspam plugin
 - Move more common protocol-definitions to pspamcommon.h

------------------------------------------------------------------------
82d650e | Norbert Eicker | Tue, 17 Jan 2017 12:40:24 +0100

Improve connection between pspam and PAM plugin

 - Put socket into the abstract namespace
 - Move common definitions into a shared header file

------------------------------------------------------------------------
750c8ee | Norbert Eicker | Tue, 17 Jan 2017 00:13:45 +0100

Streamline various plugin Makefiles

------------------------------------------------------------------------
335ce58 | Norbert Eicker | Mon, 16 Jan 2017 22:06:28 +0100

Allow building RPMs even if pam-devel is missing

------------------------------------------------------------------------
1420f28 | Norbert Eicker | Mon, 16 Jan 2017 22:02:04 +0100

Flatten pspam's directory tree

------------------------------------------------------------------------
7b82d81 | Norbert Eicker | Mon, 16 Jan 2017 22:01:14 +0100

Bugfix: Enable RPM build by adding missed files

------------------------------------------------------------------------
7480645 | Norbert Eicker | Mon, 16 Jan 2017 15:20:10 +0100

Adapt pspam to psaccount's API changes

------------------------------------------------------------------------
fde0342 | Norbert Eicker | Mon, 16 Jan 2017 12:06:59 +0100

Merge pspam plugin from psslurm-devel as is

 - plugin still disabled from compilation due to incompatibility with
   new psaccount plugin

------------------------------------------------------------------------
6b57953 | Norbert Eicker | Tue, 24 Jan 2017 11:38:08 +0100

Bugfix: Help psmomforwarder to escape loop on SIGCHLD

------------------------------------------------------------------------
d86ab40 | Norbert Eicker | Tue, 24 Jan 2017 11:36:57 +0100

Let psaccount ignore procs with loginuid -1

------------------------------------------------------------------------
981b33c | Norbert Eicker | Tue, 24 Jan 2017 11:14:42 +0100

Remove unused psAccountReadProcStat from psaccount's API

------------------------------------------------------------------------
94ba2fb | Norbert Eicker | Tue, 24 Jan 2017 11:05:12 +0100

Let psaccount ignore zombie processes

------------------------------------------------------------------------
bf33503 | Norbert Eicker | Tue, 24 Jan 2017 10:46:32 +0100

Bugfix: Determine UID more reliably in psaccount

 - /proc/<PID>/state is not always owned by user
 - Use owner of /proc/<PID>/task instead

------------------------------------------------------------------------
8c182dd | Thomas Moschny | Wed, 18 Jan 2017 12:20:44 +0100

(Re-)add missing build requirement.

------------------------------------------------------------------------
45544d1 | Norbert Eicker | Mon, 16 Jan 2017 11:26:33 +0100

Merge branch 'pluginforwarder'

------------------------------------------------------------------------
0f20543 | Norbert Eicker | Sat, 14 Jan 2017 22:24:45 +0100

Bugfix: More improvements to pluginforwarder

 - Also pass hook's errorcode to mother
 - Ensure mother has recognized childs status and errorcode before
   exiting the pluginforwarder

------------------------------------------------------------------------
b2df432 | Norbert Eicker | Thu, 12 Jan 2017 09:39:47 +0100

Bugfix: Ensure pluginforwarder's child's exit is reported correctly

------------------------------------------------------------------------
67b29fc | Norbert Eicker | Wed, 11 Jan 2017 18:54:31 +0100

Bugfix: Ensure to start forwarder's loop even without child

------------------------------------------------------------------------
f826c24 | Norbert Eicker | Tue, 10 Jan 2017 13:24:53 +0100

Bugfix: Actually store forwarder's TID on creation

------------------------------------------------------------------------
a4a8c79 | Norbert Eicker | Mon, 9 Jan 2017 20:59:35 +0100

Bugfix: Omit false error message in pluginforwarder

------------------------------------------------------------------------
009fe48 | Norbert Eicker | Mon, 9 Jan 2017 20:23:44 +0100

Bugfix: Send PLGN_START_GRACE not to myself

------------------------------------------------------------------------
99c3370 | Norbert Eicker | Mon, 9 Jan 2017 19:44:19 +0100

Bugfix: Wait for child's sid indefinitely in forwarder

------------------------------------------------------------------------
7000ec9 | Norbert Eicker | Mon, 9 Jan 2017 18:39:58 +0100

Fix compile error with gcc not supporting C11

------------------------------------------------------------------------
2a9fd60 | Norbert Eicker | Mon, 9 Jan 2017 14:58:31 +0100

Allow accounting of pluginforwarder's child

------------------------------------------------------------------------
02512fd | Norbert Eicker | Tue, 3 Jan 2017 00:47:49 +0100

Propagate forwarder's exit status

------------------------------------------------------------------------
d023c62 | Norbert Eicker | Tue, 3 Jan 2017 00:34:38 +0100

Fix documentation comments

------------------------------------------------------------------------
807ec5f | Norbert Eicker | Mon, 2 Jan 2017 09:38:51 +0100

Bugfix: PSIDspawn_localTask() prototype also needs selector.h

------------------------------------------------------------------------
9af5985 | Norbert Eicker | Mon, 2 Jan 2017 09:27:45 +0100

Fix typo

------------------------------------------------------------------------
b78eaaa | Norbert Eicker | Sat, 31 Dec 2016 16:14:13 +0100

Fix typo in documentation comment

------------------------------------------------------------------------
442e4f3 | Norbert Eicker | Fri, 16 Dec 2016 15:27:45 +0100

Reorganize pelogue according to #2580

------------------------------------------------------------------------
38b56d5 | Norbert Eicker | Fri, 16 Dec 2016 10:37:27 +0100

Streamline peloguescript

------------------------------------------------------------------------
5d5ab5d | Norbert Eicker | Fri, 16 Dec 2016 10:27:44 +0100

Streamline pelogueforwarder and fix various typos

------------------------------------------------------------------------
262ffde | Norbert Eicker | Fri, 16 Dec 2016 10:09:48 +0100

pluginforwarder API improvements

 - State that various pluginforwarder functions actually get a
   Forwarder_Data_t argument

------------------------------------------------------------------------
cee3f9f | Norbert Eicker | Fri, 16 Dec 2016 09:44:06 +0100

Streamline and booleanize pelogueconfig

------------------------------------------------------------------------
cb143d1 | Norbert Eicker | Thu, 15 Dec 2016 18:10:01 +0100

Refactor pelogueforwarder

------------------------------------------------------------------------
463c061 | Norbert Eicker | Thu, 15 Dec 2016 14:13:35 +0100

Some cleanup of pelogue.c

------------------------------------------------------------------------
4c64aa3 | Norbert Eicker | Thu, 15 Dec 2016 14:12:29 +0100

Move all child-specific methods from peloguecomm to peloguechild

------------------------------------------------------------------------
7ecdf54 | Norbert Eicker | Thu, 15 Dec 2016 12:38:13 +0100

Reorganize child handling

 - Merge Child_t and PElogue_Data_t into common PElogueChild_t struct
 - Major renaming of types visible from external
 - Split peloguecomm's methods

------------------------------------------------------------------------
013d9f8 | Norbert Eicker | Wed, 14 Dec 2016 19:17:45 +0100

Add PSIDHOOK_PELOGUE_PREPARE

 - Push plugin API version, too
 - pelogue plugin will use that

------------------------------------------------------------------------
5e4098a | Norbert Eicker | Mon, 12 Dec 2016 23:03:59 +0100

Split up fwCallback()

------------------------------------------------------------------------
1ed3b8e | Norbert Eicker | Mon, 12 Dec 2016 22:01:14 +0100

More streamlining of pelogueinter

------------------------------------------------------------------------
8f2e976 | Norbert Eicker | Mon, 12 Dec 2016 21:56:43 +0100

Actually rename findJobByJobId() to findJobById()

------------------------------------------------------------------------
8940f64 | Norbert Eicker | Mon, 12 Dec 2016 21:39:21 +0100

Add statistics functionality to pelogue

 - Add actual functionality to peloguecomm
 - Make it available through plugin's 'show' directive
 - Also add very basic 'help' directive

------------------------------------------------------------------------
f1387fe | Norbert Eicker | Mon, 12 Dec 2016 19:03:26 +0100

Get rid of the unused scriptname attribute

------------------------------------------------------------------------
61302cf | Norbert Eicker | Mon, 12 Dec 2016 18:55:19 +0100

Reorganize peloguecomm even more. Add docu.

------------------------------------------------------------------------
a20166e | Norbert Eicker | Mon, 12 Dec 2016 18:26:33 +0100

Reorganize peloguecomm

------------------------------------------------------------------------
6f74da8 | Norbert Eicker | Mon, 12 Dec 2016 18:20:51 +0100

Streamline peloguecomm

------------------------------------------------------------------------
5344e54 | Norbert Eicker | Fri, 9 Dec 2016 18:47:25 +0100

More cleanup of peloguescript

 - Move monitorPELogueTimeout() to startJobMonitor() in peloguejob.c
 - Move removePELogueTimeout() to cancelJobMonitor() in peloguejob.c
 - Introduce setJobNodeStatus() as replacement for findJobNodeEntry()
 - Rework status handling of pelogues

------------------------------------------------------------------------
3f8ecf0 | Norbert Eicker | Thu, 8 Dec 2016 20:48:29 +0100

More cleanup of peloguescript

     - Move PElogueExit() to finishJobPElogue() in peloguejob.c
     - More renaming

------------------------------------------------------------------------
ccac072 | Norbert Eicker | Thu, 8 Dec 2016 17:08:19 +0100

Start cleanup peloguescript

 - Move signalPElogue() to sendPElogueSignal() in peloguecomm.c
 - Move stopPElogueExecution() to stopJobExecution() in peloguejob.c

------------------------------------------------------------------------
2cd8ab0 | Norbert Eicker | Wed, 7 Dec 2016 18:53:05 +0100

Start to streamline peloguejob

------------------------------------------------------------------------
b35c5e0 | Norbert Eicker | Wed, 7 Dec 2016 13:53:48 +0100

Add some docu

------------------------------------------------------------------------
56a655d | Norbert Eicker | Tue, 6 Dec 2016 11:19:48 +0100

Ensure \0 terminated strings

------------------------------------------------------------------------
96d9367 | Norbert Eicker | Tue, 6 Dec 2016 11:09:12 +0100

Streamline peloguechild

------------------------------------------------------------------------
5003fde | Norbert Eicker | Thu, 1 Dec 2016 21:30:49 +0100

Streamline peloguelog

------------------------------------------------------------------------
48e33e5 | Norbert Eicker | Wed, 30 Nov 2016 18:37:46 +0100

Initial cleanup of pelogue.c

------------------------------------------------------------------------
4b53e16 | Norbert Eicker | Wed, 30 Nov 2016 17:56:37 +0100

Cleanup pelogue's Makefile

------------------------------------------------------------------------
2b38b79 | Norbert Eicker | Wed, 30 Nov 2016 17:17:36 +0100

Bugfix: Fix buildsystem to re-enable RPM build

------------------------------------------------------------------------
d3b4139 | Norbert Eicker | Wed, 30 Nov 2016 13:45:40 +0100

Adapt pelogue to API changes

 - now it at lest compiles again. Waiting for more changes to come.

------------------------------------------------------------------------
7c3b059 | Norbert Eicker | Wed, 30 Nov 2016 08:12:21 +0100

Merge pelogue plugin from psslurm-devel as is

 - plugin still disabled from compilation due to incompatibility with
   new pluginforwarder

------------------------------------------------------------------------
f2ea9a0 | Norbert Eicker | Tue, 29 Nov 2016 19:35:19 +0100

Major rewrite of pluginforwarder

 - Use PSLog_Msg_t for communication to mother
 - Utilize PSIDspawn_localTask() to create forwarder process
 - Major changes to the interface
 - This will save two file descriptors per forwarder in the mother
   process

------------------------------------------------------------------------
7efe88c | Norbert Eicker | Tue, 29 Nov 2016 08:00:53 +0100

Remove unused pslog message types

------------------------------------------------------------------------
2f0e343 | Norbert Eicker | Wed, 23 Nov 2016 13:27:06 +0100

Introduce new task-group TG_PLUGINFW

------------------------------------------------------------------------
354cb44 | Norbert Eicker | Tue, 22 Nov 2016 18:41:55 +0100

Enable pslog for use by plugins and their forwarders

------------------------------------------------------------------------
ad7e95b | Norbert Eicker | Sun, 20 Nov 2016 21:29:17 +0100

Add PSIDspawn_localTask()

------------------------------------------------------------------------
4ef3289 | Norbert Eicker | Sun, 20 Nov 2016 21:26:52 +0100

Actually enable sigChldCB if any

------------------------------------------------------------------------
09928cb | Norbert Eicker | Sun, 20 Nov 2016 21:03:43 +0100

Add sigChldCB and info attributes to PStask_t

------------------------------------------------------------------------
dab7c1d | Norbert Eicker | Sun, 13 Nov 2016 01:40:42 +0100

Merge pluginforwarder from psslurm-devel as is

 - Requires minor changes to compile without warning

------------------------------------------------------------------------
51807f1 | Norbert Eicker | Fri, 13 Jan 2017 16:49:04 +0100

Update references to libreadline to linenoise

------------------------------------------------------------------------
70d5b27 | Norbert Eicker | Mon, 9 Jan 2017 20:41:01 +0100

Bugfix: Drop ACCOUNT_END message for jobscript

------------------------------------------------------------------------
e2c1d07 | Norbert Eicker | Mon, 9 Jan 2017 20:01:09 +0100

Bugfix: Actually support addUint8ToMsgBuf()

------------------------------------------------------------------------
43cb90c | Norbert Eicker | Mon, 9 Jan 2017 19:43:36 +0100

Bugfix: Omit leading garbage in printRefList()

------------------------------------------------------------------------
438906f | Norbert Eicker | Mon, 9 Jan 2017 16:09:13 +0100

Changes after Thomas' review

------------------------------------------------------------------------
76d1f99 | Norbert Eicker | Sat, 7 Jan 2017 00:59:53 +0100

Bugfix: Fix one error found by clang's scan-build

------------------------------------------------------------------------
dbef937 | Norbert Eicker | Fri, 6 Jan 2017 14:41:46 +0100

First proposal for release procedure in git times

------------------------------------------------------------------------
3d86fee | Norbert Eicker | Thu, 5 Jan 2017 01:55:19 +0100

Enhancement: Allow changing psaccount's debug-mask during runtime

------------------------------------------------------------------------
cda3e3d | Norbert Eicker | Thu, 5 Jan 2017 01:19:08 +0100

Merge branch 'psmom'

Conflicts:
	plugins/psmom/src/psmom/psmom.c

------------------------------------------------------------------------
8090142 | Norbert Eicker | Tue, 4 Oct 2016 22:01:49 +0200

Get rid of constructor and destructor in psmom

------------------------------------------------------------------------
eda64dc | Norbert Eicker | Tue, 4 Oct 2016 21:54:44 +0200

Streamline psmomconfig.c by utilizing plugincommon

------------------------------------------------------------------------
fdaced4 | Norbert Eicker | Thu, 5 Jan 2017 01:14:11 +0100

Provide more debug on accounting from psmom

------------------------------------------------------------------------
cf7022a | Norbert Eicker | Thu, 5 Jan 2017 00:56:35 +0100

Bugfix: Various critical fixes for psaccount

 - Ensure that a job's first accounting update is always sent
 - Ensure that the last update is sent even though all clients are
   disabled
 - Don't let the jobscript resources spoil the minCputime value
 - Get rid of an useless limitation when forwarding aggregated data

------------------------------------------------------------------------
5019a6f | Norbert Eicker | Wed, 4 Jan 2017 23:40:15 +0100

Another round of streamlining of psaccount

 - Add some more debug output, too

------------------------------------------------------------------------
d4cd340 | Norbert Eicker | Wed, 4 Jan 2017 17:00:38 +0100

psmom requires periodic resource updates from psaccount

------------------------------------------------------------------------
e3e95c8 | Norbert Eicker | Wed, 4 Jan 2017 16:54:16 +0100

Bugfix: Fix one issue introduced in ea10c832

 - PMI shall disable accounting temporarily during the initial update of the
   KVS. This worked before but broke in ea10c832.

------------------------------------------------------------------------
6adbb15 | Norbert Eicker | Wed, 4 Jan 2017 11:18:15 +0100

Document yet another bit in psaccount's debug mask

------------------------------------------------------------------------
7a73ab0 | Norbert Eicker | Tue, 3 Jan 2017 00:43:06 +0100

Extend plugincomm's API

 - Functions to add are addDataToMsgBuf(), addUint8ToMsgBuf(),
   addUint16ToMsgBuf(), and addUint32ToMsgBuf().

------------------------------------------------------------------------
4ce7ae1 | Norbert Eicker | Thu, 22 Dec 2016 23:56:35 +0100

Bugfix: make psaccount usable within forwarders -- part2

------------------------------------------------------------------------
771902a | Norbert Eicker | Thu, 22 Dec 2016 18:02:03 +0100

Merge branch 'pspmi'

Conflicts:
	plugins/pspmi/pmiclient.c
	plugins/pspmi/pmimain.h

------------------------------------------------------------------------
29d3600 | Norbert Eicker | Wed, 2 Nov 2016 13:45:48 +0100

More streamlining

 - Get rid of unnecessary getChildTask()
 - Information hiding for pmiforwarder
 - More docu comments

------------------------------------------------------------------------
9a099d8 | Norbert Eicker | Mon, 31 Oct 2016 19:51:06 +0100

Continue streamlining

 - Restructure the code to refect where which part runs
 - Start information hiding for pmispawn
 - pmiprovider.[ch] turned out to be obsolete

------------------------------------------------------------------------
6cbe113 | Norbert Eicker | Mon, 31 Oct 2016 18:12:58 +0100

More streamlining

 - Reorganize pspmihandles.h according to #2580
 - Introduce pmitypes.h to collect all common type info
 - Start information hiding in pmiclient

------------------------------------------------------------------------
6ea592b | Norbert Eicker | Thu, 27 Oct 2016 18:55:31 +0200

More streamlining of pmiclient

------------------------------------------------------------------------
2a9640f | Norbert Eicker | Tue, 25 Oct 2016 00:25:24 +0200

Major streamlining of pmiclient and pmiclientspawn

------------------------------------------------------------------------
a271431 | Norbert Eicker | Tue, 25 Oct 2016 00:20:38 +0200

Fix bug introduced while streamlining pmimain

------------------------------------------------------------------------
751f44e | Norbert Eicker | Fri, 7 Oct 2016 19:16:57 +0200

Streamline pmispawn

------------------------------------------------------------------------
eae9369 | Norbert Eicker | Fri, 7 Oct 2016 18:18:01 +0200

Streamline and booleanize pmiclient

------------------------------------------------------------------------
430ec27 | Norbert Eicker | Thu, 6 Oct 2016 18:39:39 +0200

Streamline pmiforwarder

------------------------------------------------------------------------
34464f8 | Norbert Eicker | Thu, 6 Oct 2016 14:02:54 +0200

Streamline pmiprovider

------------------------------------------------------------------------
6a4b81c | Norbert Eicker | Thu, 6 Oct 2016 13:57:05 +0200

Streamline pmimain

------------------------------------------------------------------------
fecdf01 | Norbert Eicker | Thu, 6 Oct 2016 13:28:18 +0200

Streamline pmikvs

------------------------------------------------------------------------
4adbd56 | Norbert Eicker | Thu, 6 Oct 2016 12:50:11 +0200

Streamline pmilog

------------------------------------------------------------------------
8003e66 | Norbert Eicker | Thu, 6 Oct 2016 12:37:01 +0200

Streamline and booleanize pmiservice

------------------------------------------------------------------------
ae99edc | Norbert Eicker | Thu, 6 Oct 2016 09:03:29 +0200

Merge pspmi changes from psslurm-devel as is

------------------------------------------------------------------------
0c7d31d | Norbert Eicker | Thu, 22 Dec 2016 17:15:05 +0100

Fix insecure history file creation for linenoise

 - This patch stems from linenoise upstream repo and was contributed
   there by Chris Lamb (@lamby)
 - See https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=832460

------------------------------------------------------------------------
267930f | Norbert Eicker | Wed, 21 Dec 2016 22:50:12 +0100

Bugfix: make psaccount usable within forwarders

------------------------------------------------------------------------
793a576 | Norbert Eicker | Wed, 21 Dec 2016 22:48:57 +0100

Add more debug plus streamlining to psaccount

------------------------------------------------------------------------
9697ea3 | Norbert Eicker | Tue, 20 Dec 2016 15:43:25 +0100

Bugfix: Allow NULL as buf in addDataToMsg()

------------------------------------------------------------------------
0f7814a | Norbert Eicker | Tue, 20 Dec 2016 12:48:54 +0100

Enhance doRead[Ext][P]'s behavior

 - Actually switch back and forth between blocking and non-blocking
   read()s when changing the pedantic flag

------------------------------------------------------------------------
9b24315 | Norbert Eicker | Mon, 19 Dec 2016 11:36:55 +0100

Help suppress warning when using get*Array()

------------------------------------------------------------------------
0e875fe | Norbert Eicker | Mon, 12 Dec 2016 19:27:09 +0100

Bugfix: Allow to receive 0-length strings in plugincomm

------------------------------------------------------------------------
6a9a6dd | Norbert Eicker | Fri, 9 Dec 2016 13:44:08 +0100

Booleanize and cleanup timer

------------------------------------------------------------------------
1736f64 | Thomas Moschny | Thu, 8 Dec 2016 09:42:53 +0100

Make linenoise's internal functions static.

------------------------------------------------------------------------
77029dd | Thomas Moschny | Wed, 7 Dec 2016 21:37:01 +0100

Fix a bunch of incorrect prototypes.

------------------------------------------------------------------------
e1dad02 | Norbert Eicker | Wed, 7 Dec 2016 13:30:27 +0100

Merge fix for jrt:#5879 from psslurm-devel

------------------------------------------------------------------------
76d2f76 | Norbert Eicker | Thu, 1 Dec 2016 21:16:26 +0100

Bugfix: Prevent crash when unloading certain plugins

------------------------------------------------------------------------
a540bc7 | Norbert Eicker | Wed, 30 Nov 2016 09:21:06 +0100

Merge branch 'psaccount'

Conflicts:
	dist/Makefile.sources

------------------------------------------------------------------------
f5f3082 | Norbert Eicker | Thu, 3 Nov 2016 08:34:08 +0100

Fix typo in comment

------------------------------------------------------------------------
fac101a | Norbert Eicker | Thu, 10 Nov 2016 16:35:04 +0100

Fix typos in documentation comments

------------------------------------------------------------------------
1fc4bb3 | Norbert Eicker | Thu, 29 Sep 2016 17:57:42 +0200

Merge branch 'master' into psaccount

------------------------------------------------------------------------
176999b | Norbert Eicker | Thu, 29 Sep 2016 17:56:39 +0200

Remove some now obsolete variables from psaccount

------------------------------------------------------------------------
d16a372 | Norbert Eicker | Thu, 29 Sep 2016 17:02:03 +0200

Allow to switch off account polling again

------------------------------------------------------------------------
41195a4 | Norbert Eicker | Thu, 29 Sep 2016 12:43:54 +0200

Use pre-allocated structs to store /proc snapshot

------------------------------------------------------------------------
9bad436 | Norbert Eicker | Tue, 27 Sep 2016 17:58:32 +0200

Remove the now obsolete psaccount.h

------------------------------------------------------------------------
33d8f1b | Norbert Eicker | Tue, 27 Sep 2016 17:10:37 +0200

More streamlining of psaccount

 - Remove obsolete member cputime from AccountDataExt_t
 - More nicer output

------------------------------------------------------------------------
1ed2aa7 | Norbert Eicker | Tue, 27 Sep 2016 16:07:54 +0200

Nicer output for "plugin show psaccount key dclients"

------------------------------------------------------------------------
776506e | Norbert Eicker | Tue, 27 Sep 2016 13:11:24 +0200

Fix adaptation to psaccount's API changes

------------------------------------------------------------------------
bef4bcc | Norbert Eicker | Tue, 27 Sep 2016 13:10:38 +0200

Rework psaccount's data aggregation

------------------------------------------------------------------------
ebe25d9 | Norbert Eicker | Tue, 27 Sep 2016 12:53:27 +0200

More docu on members of AccountDataExt_t

------------------------------------------------------------------------
2efe5ed | Norbert Eicker | Mon, 26 Sep 2016 16:37:35 +0200

Merge branch 'master' into psaccount

------------------------------------------------------------------------
8e00f2f | Norbert Eicker | Fri, 23 Sep 2016 18:23:43 +0200

Fix psmom's adaption to psaccount's API changes

------------------------------------------------------------------------
e1f0e68 | Norbert Eicker | Wed, 21 Sep 2016 10:59:01 +0200

Rename readProcStatInfo to readProcStat

------------------------------------------------------------------------
787304a | Norbert Eicker | Mon, 19 Sep 2016 13:06:15 +0200

Push psaccount's version

 - Push psaccount's API version to reflect recent changes
 - Make psmom requiring the most recent version of psaccount

------------------------------------------------------------------------
d90f367 | Norbert Eicker | Wed, 14 Sep 2016 18:19:15 +0200

Add more documentation comments

------------------------------------------------------------------------
4023af5 | Norbert Eicker | Wed, 14 Sep 2016 18:11:38 +0200

Bugfix: Sum up maximum threads correctly

------------------------------------------------------------------------
bed920d | Norbert Eicker | Wed, 14 Sep 2016 17:36:49 +0200

Add memtest.py to psmom's regression tests

------------------------------------------------------------------------
a76d6d2 | Norbert Eicker | Wed, 14 Sep 2016 17:33:43 +0200

Adapt psmom to psaccount's new API

------------------------------------------------------------------------
ba2a712 | Norbert Eicker | Wed, 14 Sep 2016 15:56:17 +0200

Streamline psaccountinter/psaccounthandles

 - Add docu to all external functions in psaccounttypes
 - Fix types and naming in psaccount's external API
 - Reorganize psaccounthandles according to #2580

------------------------------------------------------------------------
b1cf826 | Norbert Eicker | Wed, 14 Sep 2016 08:27:52 +0200

Streamline psaccountlog.c

------------------------------------------------------------------------
471823e | Norbert Eicker | Wed, 14 Sep 2016 08:26:11 +0200

Streamline psaccountkvs.c

------------------------------------------------------------------------
2f0e784 | Norbert Eicker | Wed, 14 Sep 2016 08:21:58 +0200

Merge psaccountcollect.c into psaccountclient.c

------------------------------------------------------------------------
3866694 | Norbert Eicker | Wed, 14 Sep 2016 08:05:03 +0200

Streamline psaccounthistory.c

------------------------------------------------------------------------
f85489a | Norbert Eicker | Tue, 13 Sep 2016 23:10:35 +0200

Streamline psaccountjob.c

 - Hide the joblist from the outside world
 - This requires some reorganization of psaccountinter, psaccountkvs, etc.

------------------------------------------------------------------------
13072f5 | Norbert Eicker | Tue, 13 Sep 2016 22:21:29 +0200

Remove obsolete AccountData_t from psaccounttypes.h

------------------------------------------------------------------------
411b15f | Norbert Eicker | Tue, 13 Sep 2016 22:13:07 +0200

Streamline psaccountinter.c

 - Move all aggregation related stuff to psaccountclient.c
 - Move all communication related stuff to psaccountcomm.c

------------------------------------------------------------------------
615264d | Norbert Eicker | Tue, 13 Sep 2016 21:15:14 +0200

Streamline psaccountkvs.c

 - Generate information on clients directly in psaccountclients.c

------------------------------------------------------------------------
7bcca6c | Norbert Eicker | Tue, 13 Sep 2016 20:58:35 +0200

Streamline psaccountproc.c

     - Add IGNORE_ROOT_PROCESSES configuration (default is true)
     - Don't store session information separately
     - Ignore root's processes by default

------------------------------------------------------------------------
c70c2d7 | Norbert Eicker | Tue, 13 Sep 2016 20:40:01 +0200

Streamline psaccountconfig.c by utilizing plugincommon

------------------------------------------------------------------------
3c4ca49 | Norbert Eicker | Tue, 13 Sep 2016 20:28:53 +0200

Streamline psaccountcomm.c

------------------------------------------------------------------------
365e9be | Norbert Eicker | Tue, 13 Sep 2016 20:28:25 +0200

Streamline psaccountcollect.c

------------------------------------------------------------------------
78ab79c | Norbert Eicker | Tue, 13 Sep 2016 20:00:43 +0200

Streamline psaccountclient.c

------------------------------------------------------------------------
0a66496 | Norbert Eicker | Tue, 13 Sep 2016 19:17:24 +0200

Streamline psaccount.c

------------------------------------------------------------------------
9a6b734 | Norbert Eicker | Tue, 13 Sep 2016 19:05:10 +0200

Adapt psaccount to plugincommon's API changes

------------------------------------------------------------------------
01e9013 | Norbert Eicker | Tue, 13 Sep 2016 19:01:42 +0200

Merge psaccount changes from psslurm-devel as is

 - This one breaks building psaccount due to API changes in
   plugincommon.
 - Also the interplay between psaccount and psmom is temporarily broken.

------------------------------------------------------------------------
eb2c0a5 | Norbert Eicker | Tue, 29 Nov 2016 13:31:20 +0100

Bugfix: Let mpiexec propagate PSI_TPP (#2594)

------------------------------------------------------------------------
09640dd | Norbert Eicker | Mon, 21 Nov 2016 14:38:15 +0100

Ticket #2580 requires psMungeDecode()/psMungeDecodeBuf()

------------------------------------------------------------------------
04d3c9e | Norbert Eicker | Fri, 11 Nov 2016 17:57:20 +0100

Reorganize psmunge according to #2580

------------------------------------------------------------------------
05e3548 | Norbert Eicker | Fri, 11 Nov 2016 16:47:19 +0100

Streamline psmunge

------------------------------------------------------------------------
13c654c | Norbert Eicker | Fri, 11 Nov 2016 00:39:59 +0100

Merge psmunge from psslurm-devel as is

 - This requires the adaptation of configure.ac and the spec file in
   order to be flexible on creating RPMs. Depending on the availability
   of munge-devel the RPM will include the psmunge plugin (or not)

------------------------------------------------------------------------
ee6711c | Norbert Eicker | Fri, 11 Nov 2016 09:55:14 +0100

Avoid unnecessary kill() when deleting script

------------------------------------------------------------------------
cd3ffd5 | Norbert Eicker | Fri, 11 Nov 2016 08:56:44 +0100

Bugfix: Provide correct finalization of psexeccomm

------------------------------------------------------------------------
dfdaa13 | Norbert Eicker | Fri, 11 Nov 2016 08:56:28 +0100

Release initiators during plugin unload

------------------------------------------------------------------------
5efd875 | Norbert Eicker | Thu, 10 Nov 2016 18:56:24 +0100

Reorganize psexechandles.h according to #2580

------------------------------------------------------------------------
4ae837d | Norbert Eicker | Thu, 10 Nov 2016 17:02:18 +0100

Major reorganization and cleanup of psexeccomm

 - Cancel all callback upon exit
 - Ensure all strings are \0 terminated
 - Make unique ID actually unique
 - Avoid deleting the wrong script due to unique ID clashes
 - Eliminate unsused functionality from psexecscripts
 - Add documentation

------------------------------------------------------------------------
20bc76c | Norbert Eicker | Tue, 8 Nov 2016 18:58:38 +0100

Fix indentation

------------------------------------------------------------------------
c7d054c | Norbert Eicker | Tue, 8 Nov 2016 10:32:24 +0100

Streamline and document psexecscripts

------------------------------------------------------------------------
d01186b | Norbert Eicker | Thu, 3 Nov 2016 08:58:29 +0100

Simplify psexec.c and psexeclog

------------------------------------------------------------------------
75d5a05 | Norbert Eicker | Thu, 3 Nov 2016 08:56:53 +0100

Minor simplification

------------------------------------------------------------------------
85003ac | Norbert Eicker | Wed, 2 Nov 2016 19:35:07 +0100

Merge psexec from psslurm-devel as is.

------------------------------------------------------------------------
fef98b4 | Norbert Eicker | Sun, 20 Nov 2016 09:16:52 +0100

Modernize psid's plugin handling

 - Booleanize psidplugin
 - Add remark to documentation

------------------------------------------------------------------------
0dfd330 | Norbert Eicker | Tue, 8 Nov 2016 18:10:00 +0100

Avoid redundant type information

------------------------------------------------------------------------
f2d8d5f | Norbert Eicker | Tue, 8 Nov 2016 18:01:54 +0100

Bugfix: Fix type information in plugincomm

  - addUint16ArrayToMsg() and addInt16ArrayToMsg() are affected

------------------------------------------------------------------------


Version psmgmt-5.0.53:
======================
------------------------------------------------------------------------
r9446 | eicker | 2016-10-27 17:27:53 +0200 (Thu, 27 Oct 2016) | 2 lines

Replace gethostbyaddr() by getnameinfo() (#2589)

------------------------------------------------------------------------
r9445 | eicker | 2016-10-25 10:55:51 +0200 (Tue, 25 Oct 2016) | 2 lines

Replace gethostbyname() by getaddrinfo() again (#654)

------------------------------------------------------------------------
r9444 | eicker | 2016-10-20 23:06:31 +0200 (Thu, 20 Oct 2016) | 2 lines

Merge bugfix from psslurm-devel with some changes (jrt:#6067)

------------------------------------------------------------------------
r9443 | eicker | 2016-10-20 23:03:32 +0200 (Thu, 20 Oct 2016) | 2 lines

Having the documentation once shall be sufficient.

------------------------------------------------------------------------
r9442 | krempel | 2016-10-18 13:03:49 +0200 (Tue, 18 Oct 2016) | 2 lines

Make spawnTasks public for using in plugins

------------------------------------------------------------------------
r9441 | eicker | 2016-10-07 18:14:27 +0200 (Fri, 07 Oct 2016) | 2 lines

Fix error message

------------------------------------------------------------------------
r9440 | eicker | 2016-09-29 13:21:49 +0200 (Thu, 29 Sep 2016) | 2 lines

Initialize fragmentation layer explicitely in psmom

------------------------------------------------------------------------
r9439 | eicker | 2016-09-29 09:59:42 +0200 (Thu, 29 Sep 2016) | 2 lines

More booleanization of psreservation

------------------------------------------------------------------------
r9438 | eicker | 2016-09-29 09:20:09 +0200 (Thu, 29 Sep 2016) | 2 lines

Booleanize psreservation

------------------------------------------------------------------------
r9437 | eicker | 2016-09-29 09:02:23 +0200 (Thu, 29 Sep 2016) | 2 lines

Fix typo in docu comment

------------------------------------------------------------------------
r9436 | eicker | 2016-09-23 19:14:36 +0200 (Fri, 23 Sep 2016) | 2 lines

Enhancement: Don't let psidclient spoil the global namespace

------------------------------------------------------------------------
r9435 | eicker | 2016-09-23 12:27:00 +0200 (Fri, 23 Sep 2016) | 2 lines

Fix typo

------------------------------------------------------------------------
r9434 | eicker | 2016-09-23 12:22:29 +0200 (Fri, 23 Sep 2016) | 2 lines

Allow cleanup of futile spawn information (jrt:#5792)

------------------------------------------------------------------------
r9433 | eicker | 2016-09-21 11:45:13 +0200 (Wed, 21 Sep 2016) | 2 lines

Enhancement: Introduce PSIDHOOK_CLEARMEM

------------------------------------------------------------------------
r9432 | eicker | 2016-09-21 11:42:20 +0200 (Wed, 21 Sep 2016) | 2 lines

Enhancement: Don't let psidcomm spoil the global namespace

------------------------------------------------------------------------
r9428 | eicker | 2016-09-12 09:25:50 +0200 (Mon, 12 Sep 2016) | 2 lines

New version (psmgmt-5.0.52)

------------------------------------------------------------------------


Version psmgmt-5.0.52:
======================
------------------------------------------------------------------------
r9427 | eicker | 2016-09-12 08:17:42 +0200 (Mon, 12 Sep 2016) | 2 lines

Some renames in cgroup's config handling

------------------------------------------------------------------------
r9426 | eicker | 2016-09-12 08:15:34 +0200 (Mon, 12 Sep 2016) | 2 lines

Enhancement: Don't let psidutil spoil the global namespace

------------------------------------------------------------------------
r9425 | eicker | 2016-09-02 14:24:23 +0200 (Fri, 02 Sep 2016) | 2 lines

Get rid of some useless snprintf() in pluginmalloc.c

------------------------------------------------------------------------
r9424 | eicker | 2016-09-02 14:09:27 +0200 (Fri, 02 Sep 2016) | 2 lines

Minor improvements if msg components are not densely packed

------------------------------------------------------------------------
r9423 | eicker | 2016-09-02 13:59:11 +0200 (Fri, 02 Sep 2016) | 2 lines

Fix minor memory leak.

------------------------------------------------------------------------
r9422 | eicker | 2016-09-02 12:43:35 +0200 (Fri, 02 Sep 2016) | 2 lines

Bugfix: Fix merge done in r9400

------------------------------------------------------------------------
r9421 | eicker | 2016-09-02 11:25:39 +0200 (Fri, 02 Sep 2016) | 2 lines

Merge fixed typos from psslurm-devel

------------------------------------------------------------------------
r9420 | eicker | 2016-08-31 17:49:34 +0200 (Wed, 31 Aug 2016) | 2 lines

Bugfix: Resolve byte-ordering clash between psmom and pam_psmom (dt:#1567)

------------------------------------------------------------------------
r9419 | eicker | 2016-08-26 10:48:44 +0200 (Fri, 26 Aug 2016) | 2 lines

Merge pspluginprotocol.h from psslurm

------------------------------------------------------------------------
r9418 | eicker | 2016-08-25 11:37:23 +0200 (Thu, 25 Aug 2016) | 2 lines

Bugfix: Ensure all fds are handled if number increased in config (jrt:#5879)

------------------------------------------------------------------------
r9417 | eicker | 2016-08-22 13:52:46 +0200 (Mon, 22 Aug 2016) | 2 lines

Get rid of libreadline dependencies (#1690)

------------------------------------------------------------------------
r9416 | eicker | 2016-08-22 13:49:30 +0200 (Mon, 22 Aug 2016) | 2 lines

Replace libreadline by linenoise in psilogger (#1690)

------------------------------------------------------------------------
r9415 | eicker | 2016-08-22 13:47:05 +0200 (Mon, 22 Aug 2016) | 2 lines

Update psiadmin's copyright message

------------------------------------------------------------------------
r9414 | eicker | 2016-08-22 13:45:41 +0200 (Mon, 22 Aug 2016) | 2 lines

Replace readline by linenoise in psiadmin (#1690)

------------------------------------------------------------------------
r9413 | eicker | 2016-08-22 10:23:28 +0200 (Mon, 22 Aug 2016) | 3 lines

Add linenoise to libputil. We'll use the version from
    git@github.com:neicker/linenoise.git

------------------------------------------------------------------------
r9412 | eicker | 2016-08-22 10:11:11 +0200 (Mon, 22 Aug 2016) | 2 lines

Reorganize psiadmin to prepare for liblinenoise

------------------------------------------------------------------------
r9411 | eicker | 2016-08-22 09:43:52 +0200 (Mon, 22 Aug 2016) | 2 lines

Enhancement: Use a logger for psiadmin's errors

------------------------------------------------------------------------
r9410 | eicker | 2016-08-22 09:34:47 +0200 (Mon, 22 Aug 2016) | 4 lines

Merge from psslurm-devel:

 - Add plugin debug function to log binary data in hex format

------------------------------------------------------------------------
r9409 | moschny | 2016-08-03 17:25:15 +0200 (Wed, 03 Aug 2016) | 4 lines

Try to fix handling of CONFIGARGS in toplevel Makefile.

- Fix quoting.
- Fix merging of internal and external CONFIGARGS.
------------------------------------------------------------------------
r9408 | krempel | 2016-07-28 13:51:09 +0200 (Thu, 28 Jul 2016) | 2 lines

Prevent potential segfault in common node down hook handler

------------------------------------------------------------------------


Version psmgmt-5.0.51:
======================
------------------------------------------------------------------------
r9403 | eicker | 2016-07-27 14:11:06 +0200 (Wed, 27 Jul 2016) | 2 lines

Enhancement: Allow const tags in logging facility

------------------------------------------------------------------------
r9402 | eicker | 2016-07-27 14:07:44 +0200 (Wed, 27 Jul 2016) | 2 lines

Fix typo in documentation comment

------------------------------------------------------------------------
r9401 | eicker | 2016-07-19 12:44:29 +0200 (Tue, 19 Jul 2016) | 2 lines

Remove obsolete RDP_SYNNACK message type from RDP (#2426)

------------------------------------------------------------------------
r9400 | eicker | 2016-07-19 12:31:04 +0200 (Tue, 19 Jul 2016) | 5 lines

Merge changes from psslurm-devel

 - New mechanism for task epilog execution
 - Bugfix: never exit in hook PSIDHOOK_EXEC_CLIENT_USER

------------------------------------------------------------------------
r9399 | eicker | 2016-07-11 22:38:02 +0200 (Mon, 11 Jul 2016) | 2 lines

Bugfix: Ensure that resource delegates never get released outside of
	psmom (dt:#1495)

------------------------------------------------------------------------
r9398 | eicker | 2016-07-11 22:35:49 +0200 (Mon, 11 Jul 2016) | 2 lines

Improve documentation comments

------------------------------------------------------------------------
r9397 | eicker | 2016-07-11 22:34:31 +0200 (Mon, 11 Jul 2016) | 2 lines

Enhancement: Toughen pscpu for different sizes of PSCPU_mask_t

------------------------------------------------------------------------
r9396 | eicker | 2016-07-11 22:32:22 +0200 (Mon, 11 Jul 2016) | 2 lines

Bugfix: Fix memory leak in selector

------------------------------------------------------------------------
r9395 | eicker | 2016-06-30 15:17:52 +0200 (Thu, 30 Jun 2016) | 2 lines

Bugfix: epoll requires special handling of stdin in psilogger (#2561)

------------------------------------------------------------------------
r9394 | eicker | 2016-06-28 13:35:30 +0200 (Tue, 28 Jun 2016) | 2 lines

Merge pluginlog from psslurm-devel

------------------------------------------------------------------------
r9393 | eicker | 2016-06-28 13:00:00 +0200 (Tue, 28 Jun 2016) | 2 lines

Fix various typos in comments.

------------------------------------------------------------------------
r9392 | eicker | 2016-06-28 12:06:02 +0200 (Tue, 28 Jun 2016) | 2 lines

Merge pluginenv from psslurm-devel

------------------------------------------------------------------------
r9391 | eicker | 2016-06-24 21:58:55 +0200 (Fri, 24 Jun 2016) | 4 lines

Merge plugincomm from psslurm-devel

- Streamline API and implementation

------------------------------------------------------------------------
r9390 | eicker | 2016-06-24 19:01:30 +0200 (Fri, 24 Jun 2016) | 5 lines

Improve cgroup plugin

- Unload plugin even if cgroup got removed (jrt:#5680)
- 'plugin show cgroup key status' prints cgroup's status (#2558)

------------------------------------------------------------------------
r9389 | eicker | 2016-06-24 11:22:56 +0200 (Fri, 24 Jun 2016) | 2 lines

Minor cleanup.

------------------------------------------------------------------------
r9388 | clauss | 2016-06-22 17:22:18 +0200 (Wed, 22 Jun 2016) | 7 lines

Up to now, the mpiexec options --valgrind and --memcheck are essentially
the same. However, as leak checking can produce a lot of superfluous
valgrind debug output, from now on, --valgrind disable leak checking
(valgrind option --leak-check=no) whereas --memcheck enables full leak
checking (--leak-check=full).


------------------------------------------------------------------------
r9387 | eicker | 2016-06-15 08:22:59 +0200 (Wed, 15 Jun 2016) | 6 lines

Major rework of plugincomm

- Streamline the API
- Condense and cleanup the implementation
- Adjust psmom to changes of the interface

------------------------------------------------------------------------
r9386 | eicker | 2016-06-13 16:16:01 +0200 (Mon, 13 Jun 2016) | 6 lines

Merge plugincomm from psslurm-devel

- Merge plugincomm as is. Will streamline it later
- Adapt psmom and pam_psmom to the emerged API
- pluginfrag needs an update, too.

------------------------------------------------------------------------
r9385 | moschny | 2016-06-09 22:11:37 +0200 (Thu, 09 Jun 2016) | 1 line

Fix copy-and-paste error.
------------------------------------------------------------------------
r9384 | eicker | 2016-06-09 16:37:43 +0200 (Thu, 09 Jun 2016) | 2 lines

Enhancement: PSP_strLen() will keep its arguement

------------------------------------------------------------------------
r9383 | eicker | 2016-05-31 20:21:13 +0200 (Tue, 31 May 2016) | 2 lines

Bugfix: Ensure psid has correct permissions to call openpty() (#2549)

------------------------------------------------------------------------
r9382 | eicker | 2016-05-24 19:43:14 +0200 (Tue, 24 May 2016) | 2 lines

Merge pluginstrv from psslurm-devel again.

------------------------------------------------------------------------
r9381 | eicker | 2016-05-24 14:23:20 +0200 (Tue, 24 May 2016) | 2 lines

Fix two warnings.

------------------------------------------------------------------------
r9380 | eicker | 2016-05-24 13:44:12 +0200 (Tue, 24 May 2016) | 2 lines

More use of PSP_putMsgBuf()/PSP_getMsgBuf() in psidpartition

------------------------------------------------------------------------
r9379 | eicker | 2016-05-24 12:48:19 +0200 (Tue, 24 May 2016) | 2 lines

Improve error messages and add one missed bool to psidpartition

------------------------------------------------------------------------
r9378 | eicker | 2016-05-24 12:24:42 +0200 (Tue, 24 May 2016) | 2 lines

Booleanize psidpartition

------------------------------------------------------------------------
r9377 | eicker | 2016-05-24 11:53:52 +0200 (Tue, 24 May 2016) | 2 lines

Bugfix: Prevent partition registrations from handled as normal
	requests (jsc:#181)

------------------------------------------------------------------------
r9376 | eicker | 2016-05-20 17:44:17 +0200 (Fri, 20 May 2016) | 2 lines

Enhancement: Merge pluginhostlist from psslurm branch

------------------------------------------------------------------------
r9375 | eicker | 2016-05-20 11:20:48 +0200 (Fri, 20 May 2016) | 3 lines

Enhancement: Merge pluginpartition from psslurm branch
Adapt psmom plugin to libplugincommon changes

------------------------------------------------------------------------
r9374 | eicker | 2016-05-18 13:05:06 +0200 (Wed, 18 May 2016) | 4 lines

Enhancement: Merge pluginpty and pluginstrv from psslurm branch
Adapt psmom plugins to libplugincommon changes


------------------------------------------------------------------------
r9373 | eicker | 2016-05-12 13:09:25 +0200 (Thu, 12 May 2016) | 4 lines

Enhancement: Merge pluginmalloc extension form psslurm branch
Adapt various plugins to pluginmalloc changes
Streamline psresport plugin

------------------------------------------------------------------------
r9372 | eicker | 2016-05-11 18:11:37 +0200 (Wed, 11 May 2016) | 2 lines

Enhancement: First working version of the cgroup plugin (jrt:#5439)

------------------------------------------------------------------------
r9371 | eicker | 2016-05-11 17:55:25 +0200 (Wed, 11 May 2016) | 2 lines

Improve documentation

------------------------------------------------------------------------
r9370 | eicker | 2016-05-10 23:29:29 +0200 (Tue, 10 May 2016) | 2 lines

Enhancement: Add a first skeleton for the cgroup plugin (jrt:#5439)

------------------------------------------------------------------------
r9369 | eicker | 2016-05-10 23:21:08 +0200 (Tue, 10 May 2016) | 3 lines

Enhancement: Add PSIDHOOK_JAIL_CHILD for cgroup plugin. Thus, push
    plugin API version to 115

------------------------------------------------------------------------
r9368 | eicker | 2016-05-10 22:55:56 +0200 (Tue, 10 May 2016) | 2 lines

Enhancement: Improve pluginconfig's API and add getMaxKeyLen()

------------------------------------------------------------------------
r9367 | eicker | 2016-05-10 12:13:51 +0200 (Tue, 10 May 2016) | 2 lines

Bugfix: Synchronize also with psmgmt.spec.templ

------------------------------------------------------------------------
r9366 | eicker | 2016-05-10 11:35:10 +0200 (Tue, 10 May 2016) | 2 lines

Bugfix: Fix some more filelists for the build-system.

------------------------------------------------------------------------
r9365 | eicker | 2016-05-09 19:25:50 +0200 (Mon, 09 May 2016) | 4 lines

Enhancement: Merge pluginconfig and pluginhelper from psslurm-branch
     into master's pluginlib. Major re-design of pluginconfig's interface.
Enhancement: Adapt psmom to changes in pluginlib.

------------------------------------------------------------------------
r9361 | eicker | 2016-05-09 10:14:34 +0200 (Mon, 09 May 2016) | 2 lines

New release (psmgmt-5.0.50-1)

------------------------------------------------------------------------


Version psmgmt-5.0.50-1:
========================
------------------------------------------------------------------------
r9360 | eicker | 2016-05-09 10:10:03 +0200 (Mon, 09 May 2016) | 2 lines

Bugfix: Bad idea to not propagate __PSI_LOGGER_TID. It breaks MPI_Comm_spawn()

------------------------------------------------------------------------
r9359 | krempel | 2016-04-28 07:23:54 +0200 (Thu, 28 Apr 2016) | 2 lines

Fix memory leak in pssh

------------------------------------------------------------------------
r9358 | eicker | 2016-04-26 17:18:07 +0200 (Tue, 26 Apr 2016) | 2 lines

Hide deregisterFromParent() from global namespace.

------------------------------------------------------------------------
r9354 | eicker | 2016-04-22 10:30:35 +0200 (Fri, 22 Apr 2016) | 2 lines

New version (psmgmt-5.0.50)

------------------------------------------------------------------------


Version psmgmt-5.0.50:
======================
------------------------------------------------------------------------
r9353 | eicker | 2016-04-21 22:52:07 +0200 (Thu, 21 Apr 2016) | 4 lines

Bugfix: Fix mpiexec's propagation of single environments via the -e
    option. This broke in r9090. To fix it environment propagation had
    to be detached from PSI / PSE initialization.

------------------------------------------------------------------------
r9352 | eicker | 2016-04-21 16:15:54 +0200 (Thu, 21 Apr 2016) | 2 lines

Bugfix: Actually adapt psiadmin's "list proc" directive to screen's width

------------------------------------------------------------------------
r9351 | eicker | 2016-04-21 15:45:34 +0200 (Thu, 21 Apr 2016) | 2 lines

Enhancement: Remove mpiexec's limitation on number of executables (jrt:#5402)

------------------------------------------------------------------------
r9350 | eicker | 2016-04-21 12:13:20 +0200 (Thu, 21 Apr 2016) | 3 lines

Bugfix: Undo r9348. No good idea at all since PStasklist_find() is also
    used to search outside managedTasks

------------------------------------------------------------------------
r9349 | eicker | 2016-04-21 10:18:28 +0200 (Thu, 21 Apr 2016) | 2 lines

Code beautifications

------------------------------------------------------------------------
r9348 | eicker | 2016-04-21 10:18:09 +0200 (Thu, 21 Apr 2016) | 2 lines

Speedup PStasklist_find() if searching for remote task

------------------------------------------------------------------------
r9347 | eicker | 2016-04-21 10:08:56 +0200 (Thu, 21 Apr 2016) | 4 lines

Enhancement: Add PSP_tryPutMsgBuf()
Booleanize psprotocol
Drop note about plugin's message IDs

------------------------------------------------------------------------
r9346 | eicker | 2016-04-21 09:52:10 +0200 (Thu, 21 Apr 2016) | 2 lines

Bugfix: Catch rare case of new parent's node down during process inheritance

------------------------------------------------------------------------
r9345 | eicker | 2016-04-21 09:45:32 +0200 (Thu, 21 Apr 2016) | 2 lines

Fill message content during declaration

------------------------------------------------------------------------
r9344 | eicker | 2016-04-21 09:24:03 +0200 (Thu, 21 Apr 2016) | 2 lines

Enhancement: Prepare for asynchronouos inheritance of children

------------------------------------------------------------------------
r9343 | eicker | 2016-04-19 11:04:26 +0200 (Tue, 19 Apr 2016) | 2 lines

More use of offsetof()

------------------------------------------------------------------------
r9342 | eicker | 2016-04-18 23:46:29 +0200 (Mon, 18 Apr 2016) | 2 lines

Clarify one comment

------------------------------------------------------------------------
r9341 | eicker | 2016-04-18 23:45:28 +0200 (Mon, 18 Apr 2016) | 2 lines

Booleanize PSsignal_t

------------------------------------------------------------------------
r9340 | eicker | 2016-04-18 23:42:58 +0200 (Mon, 18 Apr 2016) | 2 lines

Booleanize selector

------------------------------------------------------------------------
r9339 | eicker | 2016-04-18 23:40:19 +0200 (Mon, 18 Apr 2016) | 2 lines

Booleanize PSpart_request_t

------------------------------------------------------------------------
r9338 | eicker | 2016-04-18 23:37:17 +0200 (Mon, 18 Apr 2016) | 2 lines

Booleanize content of PStask_t

------------------------------------------------------------------------
r9337 | eicker | 2016-04-18 23:35:44 +0200 (Mon, 18 Apr 2016) | 2 lines

Prevent include loop triggered by one of the test-plugins.

------------------------------------------------------------------------
r9336 | eicker | 2016-04-18 23:08:35 +0200 (Mon, 18 Apr 2016) | 4 lines

Bugfix: Prevent sendReqList() from messing up the stack if
    PART_LIST_NODES is set and nodes have more than 72 cores
Enhancement: Make PSpart_encodeReq() compatible to PSP_putMsgBuf() et.al.

------------------------------------------------------------------------
r9335 | eicker | 2016-04-18 19:10:09 +0200 (Mon, 18 Apr 2016) | 2 lines

psprotocol.h now only depends on pstaskid.h instead of pstask.h.

------------------------------------------------------------------------
r9334 | eicker | 2016-04-18 19:09:00 +0200 (Mon, 18 Apr 2016) | 2 lines

Move PStask_group_t's declaration into pstaskid.h, too.

------------------------------------------------------------------------
r9333 | eicker | 2016-04-18 19:03:07 +0200 (Mon, 18 Apr 2016) | 2 lines

Remove one compiler-warning about undefined memcpy()

------------------------------------------------------------------------
r9332 | eicker | 2016-04-18 18:55:21 +0200 (Mon, 18 Apr 2016) | 2 lines

Bugfix: Fix parser-syntax of psiadmin's 'list jobs' directive.

------------------------------------------------------------------------
r9331 | eicker | 2016-04-01 21:19:31 +0200 (Fri, 01 Apr 2016) | 2 lines

Bugfix: Printing PSCPU_set_t via PSCPU_print() might be broken (psc:#243)

------------------------------------------------------------------------
r9330 | krempel | 2016-03-11 15:49:20 +0100 (Fri, 11 Mar 2016) | 2 lines

Take ip addresses from psconfig avoiding name resolution bursts

------------------------------------------------------------------------
r9329 | krempel | 2016-03-11 15:46:51 +0100 (Fri, 11 Mar 2016) | 2 lines

Fix error message for psconfig reading error.

------------------------------------------------------------------------
r9328 | moschny | 2016-03-08 16:36:12 +0100 (Tue, 08 Mar 2016) | 1 line

Move PStask_ID_t definition to a separate header, to avoid circular
    dependencies of the include files.

------------------------------------------------------------------------
r9327 | moschny | 2016-03-08 16:19:23 +0100 (Tue, 08 Mar 2016) | 1 line

Add annotation for iwyu tool.
------------------------------------------------------------------------
r9326 | eicker | 2016-03-08 15:56:50 +0100 (Tue, 08 Mar 2016) | 2 lines

Refactoring of psidforwarder (booleanize, Swait(), etc.).

------------------------------------------------------------------------
r9325 | eicker | 2016-03-08 12:06:57 +0100 (Tue, 08 Mar 2016) | 2 lines

Yet another merge from psslurm.

------------------------------------------------------------------------
r9324 | eicker | 2016-03-08 11:56:14 +0100 (Tue, 08 Mar 2016) | 2 lines

Major refactoring of psilogger (booleanize, Swait(), etc.).

------------------------------------------------------------------------
r9323 | eicker | 2016-03-07 18:40:55 +0100 (Mon, 07 Mar 2016) | 2 lines

Bugfix: Check for failed allocation in putil/env.

------------------------------------------------------------------------
r9322 | eicker | 2016-03-07 18:08:44 +0100 (Mon, 07 Mar 2016) | 2 lines

Merge minor changes from psslurm into mpiexec

------------------------------------------------------------------------
r9321 | eicker | 2016-03-07 18:02:08 +0100 (Mon, 07 Mar 2016) | 3 lines

More merge from psslurm: psslurm might like to have the logger
    unbuffered.

------------------------------------------------------------------------
r9320 | eicker | 2016-03-07 17:58:05 +0100 (Mon, 07 Mar 2016) | 2 lines

Enhancement: Mark kvsprovider's terminateJob() to be 'noreturn'.

------------------------------------------------------------------------
r9319 | eicker | 2016-03-07 14:03:51 +0100 (Mon, 07 Mar 2016) | 5 lines

Use pipe()s created with correct euid between forwarder and client.
    Merged from psslurm. seteuid() seems to create an extra SIGCHLD
    which needs a fix in psidforwarder.

------------------------------------------------------------------------
r9318 | eicker | 2016-03-07 13:57:38 +0100 (Mon, 07 Mar 2016) | 2 lines

Fix log-message formatting.

------------------------------------------------------------------------
r9317 | eicker | 2016-03-04 14:23:56 +0100 (Fri, 04 Mar 2016) | 2 lines

Bugfix: Make psmom compatible to clone environment optimization

------------------------------------------------------------------------
r9316 | eicker | 2016-03-04 14:22:55 +0100 (Fri, 04 Mar 2016) | 2 lines

Enhancement: Merge clone environment optimization from psslurm

------------------------------------------------------------------------
r9315 | moschny | 2016-03-03 18:56:56 +0100 (Thu, 03 Mar 2016) | 1 line

Fix a some warnings about integer casts.
------------------------------------------------------------------------
r9314 | eicker | 2016-03-03 18:56:26 +0100 (Thu, 03 Mar 2016) | 2 lines

Merge KVS related changes from psslurm.

------------------------------------------------------------------------
r9313 | eicker | 2016-03-03 17:50:36 +0100 (Thu, 03 Mar 2016) | 4 lines

Enhancement: Add new hooks PSIDHOOK_EXEC_CLIENT_USER,
    PSIDHOOK_FRWRD_DSOCK and PSIDHOOK_PELOGUE_FINISH required by psslurm
    and push pluginAPIVersion accordingly

------------------------------------------------------------------------
r9312 | eicker | 2016-03-03 17:23:49 +0100 (Thu, 03 Mar 2016) | 2 lines

Enhancement: catch and forward stray SIGTERM in psidforwarder

------------------------------------------------------------------------
r9311 | eicker | 2016-03-03 17:21:54 +0100 (Thu, 03 Mar 2016) | 2 lines

Actually fix a function declaration.

------------------------------------------------------------------------
r9310 | eicker | 2016-03-03 14:27:20 +0100 (Thu, 03 Mar 2016) | 2 lines

Merge a fix from psslum helping to survive the test-suite.

------------------------------------------------------------------------
r9309 | eicker | 2016-03-03 14:13:35 +0100 (Thu, 03 Mar 2016) | 2 lines

Fix more function declarations.

------------------------------------------------------------------------
r9308 | eicker | 2016-03-03 14:12:01 +0100 (Thu, 03 Mar 2016) | 2 lines

Suppress one warning coming out of psh.

------------------------------------------------------------------------
r9307 | eicker | 2016-03-03 09:53:27 +0100 (Thu, 03 Mar 2016) | 2 lines

Bugfix: Make PSID_cancelCB() working for file-descriptors beyond FD_SETSIZE

------------------------------------------------------------------------
r9306 | eicker | 2016-03-03 09:42:56 +0100 (Thu, 03 Mar 2016) | 2 lines

Bugfix: Rework handling of EPOLLERR and EPOLLHUP

------------------------------------------------------------------------
r9305 | eicker | 2016-03-02 22:23:00 +0100 (Wed, 02 Mar 2016) | 2 lines

Bugfix: Add missing newline to debug message.

------------------------------------------------------------------------
r9304 | eicker | 2016-03-02 22:21:17 +0100 (Wed, 02 Mar 2016) | 2 lines

Bugfix: Also unblock SIGUSR[12] in PSID_resetSigs()

------------------------------------------------------------------------
r9303 | moschny | 2016-03-01 18:09:40 +0100 (Tue, 01 Mar 2016) | 1 line

Remove unused functions.
------------------------------------------------------------------------
r9302 | moschny | 2016-03-01 18:08:39 +0100 (Tue, 01 Mar 2016) | 1 line

Revert change inadvertently checked in in r9301.
------------------------------------------------------------------------
r9301 | moschny | 2016-03-01 18:02:16 +0100 (Tue, 01 Mar 2016) | 3 lines

More consistently declare functions to be local or global.

Candidates can be found using clang's -Wmissing-prototypes.
------------------------------------------------------------------------
r9300 | moschny | 2016-03-01 16:19:48 +0100 (Tue, 01 Mar 2016) | 1 line

Restore x-bit for sysv init script.
------------------------------------------------------------------------
r9299 | moschny | 2016-03-01 16:10:10 +0100 (Tue, 01 Mar 2016) | 1 line

Fix rpmbuild for non-systemd systems.
------------------------------------------------------------------------
r9298 | eicker | 2016-02-26 18:41:23 +0100 (Fri, 26 Feb 2016) | 2 lines

Remove obsolete stubs of ideas that never materialized.

------------------------------------------------------------------------
r9297 | eicker | 2016-02-26 09:59:23 +0100 (Fri, 26 Feb 2016) | 2 lines

Help clang to ignore false positives.

------------------------------------------------------------------------
r9296 | eicker | 2016-02-25 21:23:42 +0100 (Thu, 25 Feb 2016) | 2 lines

Make use of Swait() replacing Sselect() in psid's main loop.

------------------------------------------------------------------------
r9295 | eicker | 2016-02-25 21:22:28 +0100 (Thu, 25 Feb 2016) | 3 lines

Enhancement: Omit checks for FD_SETSIZE since Selector can handle
    file-descriptors beyond that limit now. (psc:#231)

------------------------------------------------------------------------
r9294 | eicker | 2016-02-25 21:19:03 +0100 (Thu, 25 Feb 2016) | 2 lines

Enhancement: Selector now uses epoll. (psc:#231)

------------------------------------------------------------------------
r9293 | moschny | 2016-02-25 12:00:54 +0100 (Thu, 25 Feb 2016) | 1 line

Make it explicit that we don't use the return value.
------------------------------------------------------------------------
r9292 | moschny | 2016-02-25 11:27:00 +0100 (Thu, 25 Feb 2016) | 3 lines

More consistently declare variables to be local or global.

Candidates can be found using clang's -Wmissing-variable-declarations.
------------------------------------------------------------------------
r9291 | moschny | 2016-02-24 14:15:14 +0100 (Wed, 24 Feb 2016) | 1 line

Add another systemd example override file (jurecatrac:ticket:4718).
------------------------------------------------------------------------
r9290 | eicker | 2016-02-23 17:55:11 +0100 (Tue, 23 Feb 2016) | 2 lines

Bugfix: Also Selector_vacateWrite() shall not be called after close().

------------------------------------------------------------------------
r9289 | eicker | 2016-02-23 17:40:35 +0100 (Tue, 23 Feb 2016) | 2 lines

Enhancement: Prepare for file-descriptors to daemon > FD_SETSIZE

------------------------------------------------------------------------
r9288 | eicker | 2016-02-23 17:38:53 +0100 (Tue, 23 Feb 2016) | 2 lines

Bugfix: Ensure all file-descriptors are closed when exec()ing logger.

------------------------------------------------------------------------
r9287 | eicker | 2016-02-23 10:08:03 +0100 (Tue, 23 Feb 2016) | 3 lines

Remove Selector before actually closing a file-descriptor. Preparation
    for epoll.

------------------------------------------------------------------------
r9286 | moschny | 2016-02-22 20:07:28 +0100 (Mon, 22 Feb 2016) | 1 line

Add two examples of systemd override files.
------------------------------------------------------------------------
r9285 | moschny | 2016-02-22 18:21:42 +0100 (Mon, 22 Feb 2016) | 1 line

Add missing file.
------------------------------------------------------------------------
r9284 | moschny | 2016-02-22 18:20:19 +0100 (Mon, 22 Feb 2016) | 1 line

Include psconfig docs for "make dist".
------------------------------------------------------------------------
r9283 | moschny | 2016-02-22 18:18:28 +0100 (Mon, 22 Feb 2016) | 1 line

Remove obsolete file.
------------------------------------------------------------------------
r9282 | moschny | 2016-02-22 17:32:27 +0100 (Mon, 22 Feb 2016) | 1 line

Simplify handling of the pam config file.
------------------------------------------------------------------------
r9281 | moschny | 2016-02-22 16:57:13 +0100 (Mon, 22 Feb 2016) | 1 line

Keep "make distcheck" happy.
------------------------------------------------------------------------
r9280 | moschny | 2016-02-22 16:40:42 +0100 (Mon, 22 Feb 2016) | 1 line

Rework/simplify scrips/Makefile.am.
------------------------------------------------------------------------
r9279 | moschny | 2016-02-22 15:59:37 +0100 (Mon, 22 Feb 2016) | 1 line

Simplify subst rule in common.am.
------------------------------------------------------------------------
r9278 | moschny | 2016-02-22 15:38:23 +0100 (Mon, 22 Feb 2016) | 1 line

Move creation of /var/log/psaccounter from doc/Makefile to bin/Makefile.
------------------------------------------------------------------------
r9277 | moschny | 2016-02-22 15:18:57 +0100 (Mon, 22 Feb 2016) | 1 line

Let autoconf handle dist/Makefile.
------------------------------------------------------------------------
r9276 | moschny | 2016-02-19 14:00:12 +0100 (Fri, 19 Feb 2016) | 1 line

Fix r9273 for older rpm versions.
------------------------------------------------------------------------
r9275 | eicker | 2016-02-19 12:59:54 +0100 (Fri, 19 Feb 2016) | 2 lines

Bugfix: Fix logic in error reporting while releasing task

------------------------------------------------------------------------
r9274 | eicker | 2016-02-19 12:01:59 +0100 (Fri, 19 Feb 2016) | 3 lines

Enhancement: Re-organize psidforwarder: Use signalfd, improved error
    messages, get rid of global variables, etc.

------------------------------------------------------------------------
r9273 | moschny | 2016-02-19 10:51:16 +0100 (Fri, 19 Feb 2016) | 1 line

Forward --disable-psconfig to "make rpm".
------------------------------------------------------------------------
r9272 | eicker | 2016-02-17 20:37:47 +0100 (Wed, 17 Feb 2016) | 2 lines

Enhancement: Prevent use of writefds in PSID_forwarder().

------------------------------------------------------------------------
r9271 | eicker | 2016-02-17 20:06:45 +0100 (Wed, 17 Feb 2016) | 3 lines

Bugfix: Initialize Selector correctly in getSelector()
Enhancement: Suppress wrong warning in Selector_awaitWrite()

------------------------------------------------------------------------
r9270 | eicker | 2016-02-16 17:58:30 +0100 (Tue, 16 Feb 2016) | 3 lines

Enhancement: Don't wait too long in forwarder befores re-sending
    FINALIZE message to logger.

------------------------------------------------------------------------
r9269 | eicker | 2016-02-15 19:17:19 +0100 (Mon, 15 Feb 2016) | 2 lines

Get rid of all the now useless SIGCHLD blocking.

------------------------------------------------------------------------
r9268 | eicker | 2016-02-15 18:05:49 +0100 (Mon, 15 Feb 2016) | 2 lines

Enhancement: Use signalfd() to handle SIGCHLD, SIGUSR1 and SIGUSR2 in psid.

------------------------------------------------------------------------
r9267 | eicker | 2016-02-15 18:02:57 +0100 (Mon, 15 Feb 2016) | 2 lines

Enhancement: Provide better errno from Selector_register()

------------------------------------------------------------------------
r9266 | eicker | 2016-02-12 19:03:42 +0100 (Fri, 12 Feb 2016) | 2 lines

Unify the behavior of  various garbage collectors in the psid

------------------------------------------------------------------------
r9265 | eicker | 2016-02-12 18:28:46 +0100 (Fri, 12 Feb 2016) | 2 lines

Enhancement: Report daemon failure via psid's parent process (#2522)

------------------------------------------------------------------------
r9264 | eicker | 2016-02-12 17:55:38 +0100 (Fri, 12 Feb 2016) | 2 lines

Enable Selector's garbage-collection and statistics

------------------------------------------------------------------------
r9263 | eicker | 2016-02-12 17:55:01 +0100 (Fri, 12 Feb 2016) | 2 lines

Enhancement: Get selector structures in chunks.

------------------------------------------------------------------------
r9262 | eicker | 2016-02-12 14:45:16 +0100 (Fri, 12 Feb 2016) | 2 lines

Add RPM build dependency to systemd-devel on SUSE.

------------------------------------------------------------------------
r9261 | eicker | 2016-02-12 13:02:02 +0100 (Fri, 12 Feb 2016) | 2 lines

Suppress messages now visible since psilogger's Selector is initialized.

------------------------------------------------------------------------
r9260 | eicker | 2016-02-12 12:08:41 +0100 (Fri, 12 Feb 2016) | 2 lines

Enhancement: Reorder psid's module initialization

------------------------------------------------------------------------
r9259 | eicker | 2016-02-12 12:07:41 +0100 (Fri, 12 Feb 2016) | 2 lines

Bugfix: Ensure all selectors are considered within Sselect()

------------------------------------------------------------------------
r9258 | eicker | 2016-02-12 11:49:30 +0100 (Fri, 12 Feb 2016) | 2 lines

Be more verbose when stopping hard in Selector

------------------------------------------------------------------------
r9257 | eicker | 2016-02-12 09:33:13 +0100 (Fri, 12 Feb 2016) | 2 lines

Bugfix: Ensure that re-used selectors survive the next round of cleanup

------------------------------------------------------------------------
r9256 | eicker | 2016-02-11 21:16:10 +0100 (Thu, 11 Feb 2016) | 3 lines

Enhancement: Stop execution the hard way on register of selector despite
    missing initialization

------------------------------------------------------------------------
r9255 | eicker | 2016-02-11 21:11:26 +0100 (Thu, 11 Feb 2016) | 3 lines

Bugfix: The selector has to be initialized explicitly
Enhancement: Speedup logger's detection of all clients disconnected.

------------------------------------------------------------------------
r9254 | eicker | 2016-02-11 18:59:09 +0100 (Thu, 11 Feb 2016) | 2 lines

Fix typos.

------------------------------------------------------------------------
r9253 | eicker | 2016-02-11 18:48:42 +0100 (Thu, 11 Feb 2016) | 3 lines

Enhancement: Get rid of PSID_writefds by using write selectors
Rename sendClient() to PSIDclient_send()

------------------------------------------------------------------------
r9252 | eicker | 2016-02-11 18:12:28 +0100 (Thu, 11 Feb 2016) | 3 lines

Enhancement: Add write selector functionality via Selector_awaitWrite()
    and Selector_vacateWrite() to Selector facility.

------------------------------------------------------------------------
r9251 | eicker | 2016-02-09 19:27:33 +0100 (Tue, 09 Feb 2016) | 2 lines

Add one todo.

------------------------------------------------------------------------
r9250 | moschny | 2016-02-08 16:15:44 +0100 (Mon, 08 Feb 2016) | 1 line

Fix a potential segfault found by clang.
------------------------------------------------------------------------
r9249 | eicker | 2016-02-05 18:48:53 +0100 (Fri, 05 Feb 2016) | 2 lines

Tell Selector when RLIMIT_NOFILE changes.

------------------------------------------------------------------------
r9248 | eicker | 2016-02-05 18:46:19 +0100 (Fri, 05 Feb 2016) | 2 lines

Enhancement: Prepare infrastructure to enable Selectors for write-fds.

------------------------------------------------------------------------
r9247 | eicker | 2016-02-05 16:48:26 +0100 (Fri, 05 Feb 2016) | 2 lines

Enhancement: Let psilogger handle daemon messages via Selector.

------------------------------------------------------------------------
r9246 | eicker | 2016-02-04 19:17:43 +0100 (Thu, 04 Feb 2016) | 2 lines

Enhancement: Check availability of PSLog via PSLog_avail()

------------------------------------------------------------------------
r9245 | moschny | 2016-02-02 19:42:04 +0100 (Tue, 02 Feb 2016) | 1 line

Simplify, and fix a clang warning.
------------------------------------------------------------------------
r9244 | moschny | 2016-02-02 19:41:36 +0100 (Tue, 02 Feb 2016) | 1 line

Fix undefined behavior.
------------------------------------------------------------------------
r9243 | moschny | 2016-02-01 16:37:57 +0100 (Mon, 01 Feb 2016) | 1 line

Merge current state of the systemd branch.
------------------------------------------------------------------------
r9242 | moschny | 2016-02-01 16:07:19 +0100 (Mon, 01 Feb 2016) | 1 line

Define install dirs explicitly, seems to be needed for F23+.
------------------------------------------------------------------------
r9241 | eicker | 2016-01-29 19:52:12 +0100 (Fri, 29 Jan 2016) | 2 lines

Fix one compiler warning.

------------------------------------------------------------------------
r9240 | eicker | 2016-01-29 18:33:19 +0100 (Fri, 29 Jan 2016) | 2 lines

Enhancement: Delayed finalization of psid's parent process (#2522)

------------------------------------------------------------------------
r9239 | eicker | 2016-01-26 23:42:41 +0100 (Tue, 26 Jan 2016) | 2 lines

Enhancement: Get rid of psid's unused PSID_readfds set.

------------------------------------------------------------------------
r9238 | eicker | 2016-01-26 23:39:28 +0100 (Tue, 26 Jan 2016) | 2 lines

Enhancement: Reduce Sselect()'s nfds argument to 0 if all fd-sets are NULL.

------------------------------------------------------------------------
r9237 | eicker | 2016-01-26 18:53:18 +0100 (Tue, 26 Jan 2016) | 2 lines

Enhancement: Use a dispatcher registered in RDP to handle RDP messages.

------------------------------------------------------------------------
r9236 | eicker | 2016-01-26 18:06:42 +0100 (Tue, 26 Jan 2016) | 2 lines

Enhancement: Enable PSIDclient facility to handle file-descriptors > 1024.

------------------------------------------------------------------------
r9235 | eicker | 2016-01-26 11:15:44 +0100 (Tue, 26 Jan 2016) | 2 lines

Get rid of one helper-array when reallocating the nodes-information.

------------------------------------------------------------------------
r9234 | moschny | 2016-01-25 21:42:31 +0100 (Mon, 25 Jan 2016) | 1 line

Some basic fixes to the spec file template.
------------------------------------------------------------------------
r9233 | moschny | 2016-01-25 15:09:44 +0100 (Mon, 25 Jan 2016) | 1 line

Use AC_ARG_ENABLE instead of AC_ARG_WITH for selecting psconfig support.
------------------------------------------------------------------------
r9232 | eicker | 2016-01-22 16:57:53 +0100 (Fri, 22 Jan 2016) | 2 lines

Get rid of psmomforwarder's unused fd_sets.

------------------------------------------------------------------------
r9231 | moschny | 2016-01-19 20:32:00 +0100 (Tue, 19 Jan 2016) | 1 line

Update generated files with automake 1.15.
------------------------------------------------------------------------
r9230 | moschny | 2016-01-19 19:46:13 +0100 (Tue, 19 Jan 2016) | 1 line

Fix some (potential) problems shown by clang.
------------------------------------------------------------------------
r9229 | eicker | 2016-01-12 18:02:41 +0100 (Tue, 12 Jan 2016) | 2 lines

Bugfix: psid might SEGFAULT during shutdown due to late use of RDP

------------------------------------------------------------------------
r9228 | eicker | 2015-12-22 18:00:49 +0100 (Tue, 22 Dec 2015) | 3 lines

Enhancement: Activate PSID_clearMem() during task-spawn and
    PSID_execScript(). This shall solve #1218 at least partly.

------------------------------------------------------------------------
r9227 | eicker | 2015-12-21 18:18:54 +0100 (Mon, 21 Dec 2015) | 2 lines

Enhancement: Provide PSID_clearMem() to realize funcionality for #1218

------------------------------------------------------------------------
r9226 | eicker | 2015-12-21 18:13:38 +0100 (Mon, 21 Dec 2015) | 2 lines

Remove one unneeded #include

------------------------------------------------------------------------
r9225 | eicker | 2015-12-21 18:12:54 +0100 (Mon, 21 Dec 2015) | 2 lines

Enhancement: Provide PSIDnodes_clearMem() to help with #1218

------------------------------------------------------------------------
r9224 | eicker | 2015-12-21 14:47:52 +0100 (Mon, 21 Dec 2015) | 2 lines

Enhancement: Provide PSrsrvtn_clearMem() to help with #1218

------------------------------------------------------------------------
r9223 | eicker | 2015-12-18 14:02:19 +0100 (Fri, 18 Dec 2015) | 2 lines

Enhancement: Provide PSIDMsgbuf_clearMem() to help with #1218

------------------------------------------------------------------------
r9222 | eicker | 2015-12-18 13:47:26 +0100 (Fri, 18 Dec 2015) | 2 lines

Enhancement: Provide PSIDFlwCntrl_clearMem() to help with #1218

------------------------------------------------------------------------
r9221 | eicker | 2015-12-18 13:40:13 +0100 (Fri, 18 Dec 2015) | 2 lines

Enhancement: Provide PSIDtask_clearMem() to help with #1218

------------------------------------------------------------------------
r9220 | eicker | 2015-12-17 10:40:07 +0100 (Thu, 17 Dec 2015) | 2 lines

Enhancement: Provide PSIDclient_clearMem() to help with #1218

------------------------------------------------------------------------
r9219 | eicker | 2015-12-17 10:36:24 +0100 (Thu, 17 Dec 2015) | 2 lines

Enhancement: Provide PSIDRDP_clearMem() to help with #1218

------------------------------------------------------------------------
r9218 | eicker | 2015-12-17 09:19:16 +0100 (Thu, 17 Dec 2015) | 2 lines

Enhancement: free() all memory used by RDP on exit or by request (#1013)

------------------------------------------------------------------------
r9217 | eicker | 2015-12-15 19:38:14 +0100 (Tue, 15 Dec 2015) | 2 lines

Enhancement: Count the number of sent NACKs per connection within RDP

------------------------------------------------------------------------
r9216 | eicker | 2015-12-04 16:43:14 +0100 (Fri, 04 Dec 2015) | 2 lines

Enhancement: Suppress warning on membind if using SLURM (psc:#226)

------------------------------------------------------------------------
r9212 | eicker | 2015-12-04 16:16:41 +0100 (Fri, 04 Dec 2015) | 2 lines

New version (psmgmt-5.0.49)

------------------------------------------------------------------------


Version psmgmt-5.0.49:
======================
------------------------------------------------------------------------
r9211 | eicker | 2015-12-04 15:00:01 +0100 (Fri, 04 Dec 2015) | 3 lines

Enhancement: Add Carsten's changes for a more fault tolerant MPI
    developed in the context of DEEP-ER.

------------------------------------------------------------------------
r9210 | eicker | 2015-12-03 20:51:34 +0100 (Thu, 03 Dec 2015) | 2 lines

Actually enable the configurable killDelay.

------------------------------------------------------------------------
r9209 | eicker | 2015-12-03 20:51:10 +0100 (Thu, 03 Dec 2015) | 3 lines

Actually enable psiadmin's 'set killdelay' directive.
Fix one typo in 'set killdelay''s description.

------------------------------------------------------------------------
r9208 | eicker | 2015-12-03 20:36:03 +0100 (Thu, 03 Dec 2015) | 4 lines

Enhancement: Make killDelay dynamic.
Suppress unneeded distribution of PSP_OP_ACCTPOLL
Tons of typos fixed.

------------------------------------------------------------------------
r9207 | eicker | 2015-12-03 19:56:34 +0100 (Thu, 03 Dec 2015) | 2 lines

Enhancement: New config parameter killDelay

------------------------------------------------------------------------
r9206 | eicker | 2015-11-05 11:40:53 +0100 (Thu, 05 Nov 2015) | 3 lines

Bugifx: Discontinue the blocking of SIGUSR2 after fork(). This was
    triggered by r9205.

------------------------------------------------------------------------
r9205 | eicker | 2015-11-03 19:52:36 +0100 (Tue, 03 Nov 2015) | 3 lines

Enhancement: Make psid's behavior under SIGUSR2 bombardment nicer. This
    shall help with jrt:#3694

------------------------------------------------------------------------
r9204 | eicker | 2015-11-03 09:24:31 +0100 (Tue, 03 Nov 2015) | 2 lines

Fix typo preventing compilation introduced in r9202.

------------------------------------------------------------------------
r9203 | eicker | 2015-11-02 15:21:59 +0100 (Mon, 02 Nov 2015) | 2 lines

Remove dead code.

------------------------------------------------------------------------
r9202 | eicker | 2015-11-02 15:21:18 +0100 (Mon, 02 Nov 2015) | 2 lines

Bugfix: Fix memory corruption if realloc() actually moves data.

------------------------------------------------------------------------
r9201 | eicker | 2015-10-27 19:21:12 +0100 (Tue, 27 Oct 2015) | 2 lines

Fix typo in description.

------------------------------------------------------------------------
r9200 | eicker | 2015-10-27 19:17:33 +0100 (Tue, 27 Oct 2015) | 2 lines

Some more description on behavior change due to the previous checkin.

------------------------------------------------------------------------
r9199 | eicker | 2015-10-27 19:11:01 +0100 (Tue, 27 Oct 2015) | 3 lines

Bugfix: Also check file-descriptors in Selector's list if Sselect()
    returns with error (#2498)

------------------------------------------------------------------------
r9198 | eicker | 2015-10-27 18:58:57 +0100 (Tue, 27 Oct 2015) | 2 lines

Bugfix: Save errno also when calling handleErr in RDP.

------------------------------------------------------------------------
r9197 | moschny | 2015-10-27 15:44:01 +0100 (Tue, 27 Oct 2015) | 1 line

Change the name of RPM built without psconfig support (#2502).
------------------------------------------------------------------------
r9196 | eicker | 2015-10-23 11:54:46 +0200 (Fri, 23 Oct 2015) | 2 lines

Enhancement: Use PSP_putTypedMsgBuf() to prepare accounting messages

------------------------------------------------------------------------
r9195 | eicker | 2015-10-23 11:19:33 +0200 (Fri, 23 Oct 2015) | 3 lines

Enhancement: Make testacct using PSP_getMsgBuf() family of calls. At the
    same time adapt to newly available accounting data

------------------------------------------------------------------------
r9194 | eicker | 2015-10-22 17:28:41 +0200 (Thu, 22 Oct 2015) | 2 lines

Remove obsolete CL-argument from the testacct accounting tester.

------------------------------------------------------------------------
r9193 | eicker | 2015-10-21 18:55:26 +0200 (Wed, 21 Oct 2015) | 2 lines

Bugfix: Guard dynamic memory related calls in msg_SPAWNREQ() (psc:#214)

------------------------------------------------------------------------
r9192 | eicker | 2015-10-20 19:55:19 +0200 (Tue, 20 Oct 2015) | 2 lines

Bugfix: More savings of errno.

------------------------------------------------------------------------
r9191 | eicker | 2015-10-20 19:37:48 +0200 (Tue, 20 Oct 2015) | 2 lines

Bugfix: Save errno before doing further calls (jrt:#3316)

------------------------------------------------------------------------
r9190 | eicker | 2015-09-01 19:18:39 +0200 (Tue, 01 Sep 2015) | 2 lines

Enhancement: Nicer output of psiadmin's 'list load' for load > 100

------------------------------------------------------------------------
r9189 | eicker | 2015-08-19 14:57:05 +0200 (Wed, 19 Aug 2015) | 2 lines

Remove one confusing log-message concerning handling of SIGCHLD

------------------------------------------------------------------------
r9188 | eicker | 2015-08-18 19:29:40 +0200 (Tue, 18 Aug 2015) | 2 lines

Bugfix: Prevent duplicating message on ENOBUFS in RDP's sendto()

------------------------------------------------------------------------
r9187 | eicker | 2015-08-18 16:46:13 +0200 (Tue, 18 Aug 2015) | 3 lines

Enhancement: Replace getdtablesize() by sysconf(_SC_OPEN_MAX) and call
    less frequently

------------------------------------------------------------------------
r9186 | eicker | 2015-08-18 14:04:52 +0200 (Tue, 18 Aug 2015) | 2 lines

Enhancement: Ensure fd in valid range within the selector facility.

------------------------------------------------------------------------
r9182 | eicker | 2015-08-14 20:24:05 +0200 (Fri, 14 Aug 2015) | 2 lines

New version (psmgmt-5.0.48)

------------------------------------------------------------------------


Version psmgmt-5.0.48:
======================
------------------------------------------------------------------------
r9181 | eicker | 2015-08-10 19:15:34 +0200 (Mon, 10 Aug 2015) | 2 lines

Bugfix: Suppress the disfigurement discussed in jrt:#394

------------------------------------------------------------------------
r9180 | eicker | 2015-08-10 19:09:28 +0200 (Mon, 10 Aug 2015) | 3 lines

Enhancement: Introduce PSP_tryPutTypedMsgBuf() and make the PSP_*put*MsgBuf()
    family of calls more modular.

------------------------------------------------------------------------
r9179 | eicker | 2015-08-10 10:51:23 +0200 (Mon, 10 Aug 2015) | 3 lines

Bugfix: According to signal(2) catching SIGFPE (and SIGILL) in order to
    perform a normal shutdown of psid is a bad idea (jrt:#424)

------------------------------------------------------------------------
r9178 | eicker | 2015-07-17 22:05:20 +0200 (Fri, 17 Jul 2015) | 3 lines

Adapt dyn-resource example plugin to new HOOK parameters and apply
    general enhancements.

------------------------------------------------------------------------
r9177 | eicker | 2015-07-17 22:01:28 +0200 (Fri, 17 Jul 2015) | 7 lines

Bugfix: Fix bookkeeping when tpp is different from 1.
Bugfix: Present error message when dynamic reservation fails.
Enhancement: Allow to suspend and resume jobs and resources with reservations.
Enhancement: Provide more information to the RM when releasing dynamical
    resources (PSIDHOOK_RELS_PART_DYNAMIC).
Fix various typos and documentation comments.

------------------------------------------------------------------------
r9176 | eicker | 2015-07-17 21:40:48 +0200 (Fri, 17 Jul 2015) | 2 lines

Enhancement: Allow to print smaller CPU-sets via PSCPU_print_part()

------------------------------------------------------------------------
r9175 | krempel | 2015-07-13 12:11:41 +0200 (Mon, 13 Jul 2015) | 2 lines

Bugfix: Handling of AdminUsers configuration

------------------------------------------------------------------------
r9174 | eicker | 2015-07-10 18:28:54 +0200 (Fri, 10 Jul 2015) | 2 lines

Enhancement: Put ppn more towards the in in error-message.

------------------------------------------------------------------------
r9173 | eicker | 2015-07-10 18:27:46 +0200 (Fri, 10 Jul 2015) | 2 lines

Beautify debug messages.

------------------------------------------------------------------------
r9172 | eicker | 2015-07-10 17:34:15 +0200 (Fri, 10 Jul 2015) | 2 lines

Bugfix: Ensure myUse is big enough for huge partThrds (JURECA #273)

------------------------------------------------------------------------
r9171 | eicker | 2015-07-03 20:12:25 +0200 (Fri, 03 Jul 2015) | 3 lines

Enhancement: Also pass the reservation ID to the
    PSIDHOOK_RELS_PART_DYNAMIC hook. For now just definition and tests.

------------------------------------------------------------------------
r9170 | eicker | 2015-07-01 11:39:36 +0200 (Wed, 01 Jul 2015) | 2 lines

Bugfix: Guard psaccount's periodicMain (j3t:#679)

------------------------------------------------------------------------
r9169 | eicker | 2015-06-29 16:17:37 +0200 (Mon, 29 Jun 2015) | 2 lines

Bugfix: Fix typo introduced in r9165

------------------------------------------------------------------------
r9168 | krempel | 2015-06-29 13:46:47 +0200 (Mon, 29 Jun 2015) | 2 lines

Fix psconfig configuration template

------------------------------------------------------------------------
r9167 | krempel | 2015-06-29 13:41:29 +0200 (Mon, 29 Jun 2015) | 2 lines

Fix reading of resource limits with psconfig

------------------------------------------------------------------------
r9166 | eicker | 2015-06-24 18:20:40 +0200 (Wed, 24 Jun 2015) | 3 lines

Rename nB -> nBytes in PSIDpart_cleanupSlots()
Fix various typos in documentation comments

------------------------------------------------------------------------
r9165 | eicker | 2015-06-24 18:09:05 +0200 (Wed, 24 Jun 2015) | 2 lines

Enhancement: Enable to count released resources within a reservation.

------------------------------------------------------------------------
r9164 | krempel | 2015-06-15 12:58:32 +0200 (Mon, 15 Jun 2015) | 2 lines

psconfig: Support environment setting in KEY=VALUE style

------------------------------------------------------------------------
r9163 | moschny | 2015-06-11 18:47:52 +0200 (Thu, 11 Jun 2015) | 1 line

The config template has been renamed recently.
------------------------------------------------------------------------
r9162 | eicker | 2015-06-10 18:25:14 +0200 (Wed, 10 Jun 2015) | 2 lines

Bugfix: Yet another fix for psc:#192 now in the selector context.

------------------------------------------------------------------------
r9161 | moschny | 2015-06-09 22:04:45 +0200 (Tue, 09 Jun 2015) | 1 line

For older git versions, the -z option to check-attr works only on the input, not the output, so don't use it.
------------------------------------------------------------------------
r9160 | moschny | 2015-06-09 19:42:35 +0200 (Tue, 09 Jun 2015) | 1 line

Make script executable.
------------------------------------------------------------------------
r9159 | eicker | 2015-06-09 18:59:27 +0200 (Tue, 09 Jun 2015) | 2 lines

Bugfix: prevent getPSIEnv() from wrongly matching longer names (psc:#183)

------------------------------------------------------------------------
r9158 | moschny | 2015-06-09 17:53:25 +0200 (Tue, 09 Jun 2015) | 1 line

Script for expanding RCS-style keywords.
------------------------------------------------------------------------
r9157 | moschny | 2015-06-09 17:52:21 +0200 (Tue, 09 Jun 2015) | 1 line

When NODIRTY is non-empty, pass --no-dirty to vcversion.
------------------------------------------------------------------------
r9156 | moschny | 2015-06-09 11:59:37 +0200 (Tue, 09 Jun 2015) | 1 line

Merge changes from psbuild.
------------------------------------------------------------------------
r9155 | eicker | 2015-06-03 18:57:09 +0200 (Wed, 03 Jun 2015) | 2 lines

Fix some typos in comments

------------------------------------------------------------------------
r9154 | eicker | 2015-06-03 17:30:39 +0200 (Wed, 03 Jun 2015) | 2 lines

Fix some misbehaved whitespace

------------------------------------------------------------------------
r9153 | krempel | 2015-06-03 12:13:42 +0200 (Wed, 03 Jun 2015) | 2 lines

Add vipsconfig template for psconfig configuration

------------------------------------------------------------------------
r9152 | eicker | 2015-06-02 19:33:07 +0200 (Tue, 02 Jun 2015) | 2 lines

Implement mpiexec's -ppn option (#845)

------------------------------------------------------------------------
r9151 | eicker | 2015-06-02 19:19:01 +0200 (Tue, 02 Jun 2015) | 2 lines

Fix some incorrect whitespace

------------------------------------------------------------------------
r9150 | eicker | 2015-06-02 18:09:49 +0200 (Tue, 02 Jun 2015) | 2 lines

Clean up PSP_INFO_LIST_GETNODES (never used due to PSP_INFO_LIST_RESNODES)

------------------------------------------------------------------------
r9149 | eicker | 2015-06-02 16:27:22 +0200 (Tue, 02 Jun 2015) | 2 lines

Fix typo in documentation-comment

------------------------------------------------------------------------
r9148 | eicker | 2015-06-01 20:04:57 +0200 (Mon, 01 Jun 2015) | 2 lines

Bugfix: Yet another fix for psc:#192.

------------------------------------------------------------------------
r9147 | eicker | 2015-06-01 19:47:38 +0200 (Mon, 01 Jun 2015) | 2 lines

Bugfix: Prevent segfault if libedit (not updating rl_line_buffer) is used.

------------------------------------------------------------------------
r9146 | eicker | 2015-06-01 16:47:22 +0200 (Mon, 01 Jun 2015) | 2 lines

Minor whitespace fixes.

------------------------------------------------------------------------
r9145 | eicker | 2015-05-28 17:17:47 +0200 (Thu, 28 May 2015) | 2 lines

Bugfix: Fix logic in logger's panic output.

------------------------------------------------------------------------
r9144 | eicker | 2015-05-19 19:15:08 +0200 (Tue, 19 May 2015) | 2 lines

Bugfix: Block SIGCHLD during dynamic memory operations in RDP (psc:#192)

------------------------------------------------------------------------
r9143 | moschny | 2015-05-19 00:58:09 +0200 (Tue, 19 May 2015) | 1 line

Add missing parentheses.
------------------------------------------------------------------------
r9142 | eicker | 2015-04-24 17:56:47 +0200 (Fri, 24 Apr 2015) | 2 lines

Bugfix: Enforce RDP-connections getting closed on both sides (#1681)

------------------------------------------------------------------------
r9141 | eicker | 2015-04-17 19:14:59 +0200 (Fri, 17 Apr 2015) | 3 lines

Enhancement: Close unneeded file-descriptor before exec()ing the actual
    client process.

------------------------------------------------------------------------
r9140 | moschny | 2015-03-27 17:21:39 +0100 (Fri, 27 Mar 2015) | 1 line

Do not output garbage in case the daemon version string is not properly set.
------------------------------------------------------------------------
r9139 | eicker | 2015-03-27 12:32:33 +0100 (Fri, 27 Mar 2015) | 2 lines

Bugfix: Make pssh using the remote settings for a user's shell (#2414)

------------------------------------------------------------------------
r9135 | eicker | 2015-03-24 14:52:25 +0100 (Tue, 24 Mar 2015) | 2 lines

New release (psmgmt-5.0.47-3)

------------------------------------------------------------------------


Version psmgmt-5.0.47-3:
========================
------------------------------------------------------------------------
r9134 | eicker | 2015-03-24 14:36:06 +0100 (Tue, 24 Mar 2015) | 2 lines

Bugfix: Leave handling of resDelegate to psmom/psslurm (#2412)

------------------------------------------------------------------------
r9133 | eicker | 2015-03-24 13:16:23 +0100 (Tue, 24 Mar 2015) | 2 lines

Cosmetics: Adapt order of initializations to order of declaration.

------------------------------------------------------------------------
r9132 | eicker | 2015-03-24 13:15:30 +0100 (Tue, 24 Mar 2015) | 2 lines

Bugfix: Close potential memory leak.

------------------------------------------------------------------------
r9131 | hauke | 2015-03-12 14:54:29 +0100 (Thu, 12 Mar 2015) | 8 lines

Optional build rpms without psconfig support.

Disable psconfig with:
cd dist && make rpm CONFIGARGS="--without psconfig"
or
rpmrebuild --without psconfig ...

------------------------------------------------------------------------
r9130 | moschny | 2015-03-12 14:34:10 +0100 (Thu, 12 Mar 2015) | 1 line

Do not filter out -Wall and -Wextra, as this causes problems with -Werror=format-security, which is also set by Fedora 21.
------------------------------------------------------------------------
r9126 | eicker | 2015-03-11 18:10:27 +0100 (Wed, 11 Mar 2015) | 2 lines

New release (psmgmt-5.0.47-2)

------------------------------------------------------------------------


Version psmgmt-5.0.47-2:
========================
------------------------------------------------------------------------
r9125 | eicker | 2015-03-11 18:06:20 +0100 (Wed, 11 Mar 2015) | 2 lines

Enhancement: Implement MPI_Info_set(<info>, "tpp", "<N>")

------------------------------------------------------------------------
r9124 | eicker | 2015-03-11 18:04:52 +0100 (Wed, 11 Mar 2015) | 2 lines

Bugfix: Re-enable OMP_NUM_THREADS handling in mpiexec.

------------------------------------------------------------------------
r9120 | eicker | 2015-03-05 21:01:16 +0100 (Thu, 05 Mar 2015) | 2 lines

New release (psmgmt-5.0.47-1)

------------------------------------------------------------------------


Version psmgmt-5.0.47-1:
========================
------------------------------------------------------------------------
r9119 | eicker | 2015-03-05 20:50:25 +0100 (Thu, 05 Mar 2015) | 2 lines

Bugfix: Before deleting a delegate psmom must remove all references (#2409)

------------------------------------------------------------------------
r9118 | eicker | 2015-03-03 18:36:43 +0100 (Tue, 03 Mar 2015) | 2 lines

Bugfix: Fix some more warning notified by clang's scan-build.

------------------------------------------------------------------------
r9117 | eicker | 2015-02-26 22:03:26 +0100 (Thu, 26 Feb 2015) | 2 lines

Enhancement: Add client side tool for alternative debugging access to psilogger

------------------------------------------------------------------------
r9116 | eicker | 2015-02-26 21:52:39 +0100 (Thu, 26 Feb 2015) | 3 lines

Enhancement: Suppress psilogger's output when catching SIGUSR1
Enahncement: Add alternative debugging access to psilogger

------------------------------------------------------------------------
r9112 | eicker | 2015-02-20 14:54:50 +0100 (Fri, 20 Feb 2015) | 2 lines

New version (psmgmt-5.0.47)

------------------------------------------------------------------------


Version psmgmt-5.0.47:
======================
------------------------------------------------------------------------
r9111 | eicker | 2015-02-20 14:05:05 +0100 (Fri, 20 Feb 2015) | 2 lines

Bugfixes and improvements for dyn_resources plugin.

------------------------------------------------------------------------
r9110 | eicker | 2015-02-20 13:14:06 +0100 (Fri, 20 Feb 2015) | 2 lines

Allow to globally switch dynamic resource allocation via environment.

------------------------------------------------------------------------
r9109 | eicker | 2015-02-20 13:08:12 +0100 (Fri, 20 Feb 2015) | 2 lines

Add example-plugin to test/show dynamic resource allocation.

------------------------------------------------------------------------
r9108 | eicker | 2015-02-20 13:06:59 +0100 (Fri, 20 Feb 2015) | 2 lines

Enhancement: Push plugin API to 112 for dynamic resource allocation.

------------------------------------------------------------------------
r9107 | eicker | 2015-02-20 13:03:39 +0100 (Fri, 20 Feb 2015) | 2 lines

Bugfix: timer.h needs to include stdio.h for FILE definition

------------------------------------------------------------------------
r9106 | eicker | 2015-02-17 20:10:23 +0100 (Tue, 17 Feb 2015) | 2 lines

Add all the hooks required for dynamic resources in DEEP

------------------------------------------------------------------------
r9105 | eicker | 2015-02-17 17:50:39 +0100 (Tue, 17 Feb 2015) | 2 lines

psmom: usedThreads has to be initialized for double-entry bookkeeping

------------------------------------------------------------------------
r9104 | eicker | 2015-02-17 17:49:55 +0100 (Tue, 17 Feb 2015) | 5 lines

Improved tracking and cleanup of used resources
- New method PSIDpart_cleanupSlots()
- Keep task-structure long enough to find a delegate
- double-entry bookkeeping when delegating resource handling

------------------------------------------------------------------------
r9103 | eicker | 2015-02-17 17:45:49 +0100 (Tue, 17 Feb 2015) | 2 lines

Improved tracking of resource usage

------------------------------------------------------------------------
r9102 | eicker | 2015-02-17 16:55:13 +0100 (Tue, 17 Feb 2015) | 2 lines

Improve debug messages.

------------------------------------------------------------------------
r9101 | rauh | 2015-02-16 11:12:21 +0100 (Mon, 16 Feb 2015) | 2 lines

Cleanup: use already defined PSIDNAME.

------------------------------------------------------------------------
r9100 | rauh | 2015-02-16 11:07:11 +0100 (Mon, 16 Feb 2015) | 2 lines

Bugfix: the init script should be able to restart the psid after a package update. 

------------------------------------------------------------------------
r9099 | krempel | 2015-02-13 05:14:44 +0100 (Fri, 13 Feb 2015) | 2 lines

PMI plugin: Enhance debugging output

------------------------------------------------------------------------
r9098 | krempel | 2015-02-13 05:09:08 +0100 (Fri, 13 Feb 2015) | 2 lines

PMI plugin: Fix receiving of large PMI messages

------------------------------------------------------------------------
r9097 | eicker | 2015-02-11 16:36:28 +0100 (Wed, 11 Feb 2015) | 3 lines

Streamline parastation.conf.tmpl inclusion into RPM. As a side-effect it
    now ends up in the correct directory when building on RedHat

------------------------------------------------------------------------
r9096 | eicker | 2015-02-11 16:33:08 +0100 (Wed, 11 Feb 2015) | 2 lines

Add pssignal.h and psreservation.h to fix 'make distcheck'

------------------------------------------------------------------------
r9095 | eicker | 2015-02-10 21:29:32 +0100 (Tue, 10 Feb 2015) | 2 lines

Add support for resource-delegation to psmom.

------------------------------------------------------------------------
r9094 | eicker | 2015-02-10 21:21:36 +0100 (Tue, 10 Feb 2015) | 3 lines

Rework delegate handling
Add one todo.

------------------------------------------------------------------------
r9093 | eicker | 2015-02-10 21:21:01 +0100 (Tue, 10 Feb 2015) | 3 lines

Add PSIDpart_cleanupRes() to cleanup active reservations while tasks is
    destructed.

------------------------------------------------------------------------
r9092 | eicker | 2015-02-10 21:16:24 +0100 (Tue, 10 Feb 2015) | 5 lines

Rework delegate handling
Rework reservation request handling
Fix resource release
Make some problem-reports in PSIDpart_sendResNodes() more verbose

------------------------------------------------------------------------
r9091 | eicker | 2015-02-10 21:05:49 +0100 (Tue, 10 Feb 2015) | 2 lines

Remove some obsolete debug output

------------------------------------------------------------------------
r9090 | eicker | 2015-02-09 09:25:30 +0100 (Mon, 09 Feb 2015) | 3 lines

We need to PSE_initialize() before parsing the cmdline (PSI_resolveHWList()
    requires connection to psid to work)

------------------------------------------------------------------------
r9089 | eicker | 2015-02-07 19:33:54 +0100 (Sat, 07 Feb 2015) | 3 lines

New task-group TG_DELEGATE marking tasks used as delegates for resource
    handling.

------------------------------------------------------------------------
r9088 | moschny | 2015-02-06 15:30:47 +0100 (Fri, 06 Feb 2015) | 1 line

Do not silently swallow a build failure for make rpm.
------------------------------------------------------------------------
r9087 | eicker | 2015-02-06 15:08:18 +0100 (Fri, 06 Feb 2015) | 2 lines

Fix malloc size error in mpiexec (allocation was too large)

------------------------------------------------------------------------
r9086 | eicker | 2015-02-06 15:06:41 +0100 (Fri, 06 Feb 2015) | 2 lines

Add stubs for temporary dynamic extensions of paritions in mpiexec.

------------------------------------------------------------------------
r9085 | eicker | 2015-02-06 15:04:30 +0100 (Fri, 06 Feb 2015) | 2 lines

Enhancement: Use reservations in order to fetch resources in mpiexec

------------------------------------------------------------------------
r9084 | eicker | 2015-02-06 14:59:09 +0100 (Fri, 06 Feb 2015) | 2 lines

Introduce sendPMIFail() in mpiexec to encapsulate failure message to PMI

------------------------------------------------------------------------
r9083 | eicker | 2015-02-06 14:52:54 +0100 (Fri, 06 Feb 2015) | 2 lines

Fix errors introduced in r9082

------------------------------------------------------------------------
r9082 | eicker | 2015-02-06 14:49:32 +0100 (Fri, 06 Feb 2015) | 2 lines

Do not store hwType (aka nodetype) as string in mpiexec

------------------------------------------------------------------------
r9081 | eicker | 2015-02-06 14:33:15 +0100 (Fri, 06 Feb 2015) | 2 lines

Rename some variables to avoid confusion.

------------------------------------------------------------------------
r9080 | eicker | 2015-02-06 14:16:55 +0100 (Fri, 06 Feb 2015) | 2 lines

Improved logging in PSIDpart_register()

------------------------------------------------------------------------
r9079 | eicker | 2015-02-06 14:15:04 +0100 (Fri, 06 Feb 2015) | 3 lines

Enhancement: Add delegation of resource handling. Will be used in
    psmom (and psslurm?)

------------------------------------------------------------------------
r9078 | eicker | 2015-02-06 14:05:50 +0100 (Fri, 06 Feb 2015) | 2 lines

Enhancement: Add stubs for temporary dynamic extension of partitions

------------------------------------------------------------------------
r9077 | eicker | 2015-02-06 13:56:28 +0100 (Fri, 06 Feb 2015) | 2 lines

Check for queued reservation requests when resources are released

------------------------------------------------------------------------
r9076 | eicker | 2015-02-06 13:46:32 +0100 (Fri, 06 Feb 2015) | 2 lines

Enhancement: reservation handling

------------------------------------------------------------------------
r9075 | eicker | 2015-02-06 13:31:35 +0100 (Fri, 06 Feb 2015) | 2 lines

Daemon side of PSP_INFO_LIST_RESNODES request.

------------------------------------------------------------------------
r9074 | eicker | 2015-02-06 13:26:23 +0100 (Fri, 06 Feb 2015) | 3 lines

Bugfix: Use correct maxTPP in PSIDpart_getNodes() even if it comes
    from the last node. 

------------------------------------------------------------------------
r9073 | eicker | 2015-02-06 13:04:25 +0100 (Fri, 06 Feb 2015) | 4 lines

Add helpers for reservation handling
There is no need to handle PSP_CD_RESERVATIONRES explicitely
PSIDpart_sendResNodes() will send a reservation's nodelist

------------------------------------------------------------------------
r9072 | eicker | 2015-02-06 12:56:43 +0100 (Fri, 06 Feb 2015) | 2 lines

Improve PSIDpart_getNodes()'s documentation

------------------------------------------------------------------------
r9071 | eicker | 2015-02-06 12:31:00 +0100 (Fri, 06 Feb 2015) | 4 lines

Use totalThreads and partThrds as an indicator for parition creation
    instead of partitionSize and partition
Check for support of all requested HW-types on allocated resources

------------------------------------------------------------------------
r9070 | eicker | 2015-02-06 12:13:13 +0100 (Fri, 06 Feb 2015) | 2 lines

Change naming-scheme of partition request handlers

------------------------------------------------------------------------
r9069 | eicker | 2015-02-06 11:33:05 +0100 (Fri, 06 Feb 2015) | 3 lines

Encapsulate getting the next reservation ID in PStask_getNextResID()
Prepare for resource delegation in psmom (and psslurm?)

------------------------------------------------------------------------
r9068 | eicker | 2015-02-06 11:31:02 +0100 (Fri, 06 Feb 2015) | 2 lines

Client side of PSP_INFO_LIST_RESNODES request

------------------------------------------------------------------------
r9067 | eicker | 2015-02-05 21:49:26 +0100 (Thu, 05 Feb 2015) | 2 lines

Pass reason for failure to calling function in PSI_getReservation()

------------------------------------------------------------------------
r9066 | eicker | 2015-02-05 21:43:51 +0100 (Thu, 05 Feb 2015) | 3 lines

New info-type PSP_INFO_LIST_RESNODES
Also fetch data from typed messages using PSP_getTypedMsgBuf()

------------------------------------------------------------------------
r9065 | eicker | 2015-02-03 19:16:45 +0100 (Tue, 03 Feb 2015) | 2 lines

Seed the sequence of reservation IDs by some meaningfull value.

------------------------------------------------------------------------
r9064 | eicker | 2015-02-03 19:13:56 +0100 (Tue, 03 Feb 2015) | 2 lines

Partitions might become dynamic in the future.

------------------------------------------------------------------------
r9063 | eicker | 2015-02-03 19:12:56 +0100 (Tue, 03 Feb 2015) | 2 lines

Some more attributes required in reservations.

------------------------------------------------------------------------
r9062 | eicker | 2015-02-02 16:56:56 +0100 (Mon, 02 Feb 2015) | 2 lines

Introduce the new PSIDHOOK_XTND_PART_DYNAMIC hook.

------------------------------------------------------------------------
r9061 | eicker | 2015-02-02 16:24:21 +0100 (Mon, 02 Feb 2015) | 2 lines

Actually use PSP_getMsgBuf() to implement PSI_getReservation() and PSI_getSlots()

------------------------------------------------------------------------
r9060 | eicker | 2015-01-30 17:13:05 +0100 (Fri, 30 Jan 2015) | 4 lines

We need additional message types PSP_DD_GETRESERVATION, PSP_DD_GETSLOTS
    and PSP_DD_SLOTSRES to forward the corresponding PSP_CD messages.


------------------------------------------------------------------------
r9059 | eicker | 2015-01-30 17:08:51 +0100 (Fri, 30 Jan 2015) | 2 lines

Minor renaming of a PSrsrvtn_t attribute

------------------------------------------------------------------------
r9058 | eicker | 2015-01-30 17:06:56 +0100 (Fri, 30 Jan 2015) | 3 lines

Add helpers PSP_getMsgBuf() and PSP_tryGetMsgBuf() to fetch data from
    message buffers.

------------------------------------------------------------------------
r9057 | eicker | 2015-01-22 23:55:18 +0100 (Thu, 22 Jan 2015) | 3 lines

Add some stubs for handling of new message types PSP_CD_GETRESERVATION,
    PSP_CD_RESERVATIONRES, PSP_CD_GETSLOTS and PSP_CD_SLOTSRES

------------------------------------------------------------------------
r9056 | eicker | 2015-01-22 23:53:41 +0100 (Thu, 22 Jan 2015) | 2 lines

Use PSP_putMsgBuf() more often.

------------------------------------------------------------------------
r9055 | eicker | 2015-01-22 23:44:04 +0100 (Thu, 22 Jan 2015) | 5 lines

Enhancement: Client side of PSI_getReservation(), PSI_getSlots() and
    PSI_spawnRsrvtn()
Enhancement: New message types PSP_CD_GETRESERVATION, PSP_CD_RESERVATIONRES, 
    PSP_CD_GETSLOTS and PSP_CD_SLOTSRES

------------------------------------------------------------------------
r9054 | eicker | 2015-01-22 23:40:13 +0100 (Thu, 22 Jan 2015) | 2 lines

Add more fields to the PSrsrvtn_t structure.

------------------------------------------------------------------------
r9053 | eicker | 2015-01-22 16:52:36 +0100 (Thu, 22 Jan 2015) | 2 lines

Enhancement: Improve warning in PSP_putMsgBuf() and PSP_putTypedMsgBuf()

------------------------------------------------------------------------
r9052 | eicker | 2015-01-22 13:45:43 +0100 (Thu, 22 Jan 2015) | 2 lines

Enhancement: Add facility to handle slot-reservations within partitions.

------------------------------------------------------------------------
r9051 | eicker | 2015-01-22 10:59:11 +0100 (Thu, 22 Jan 2015) | 2 lines

Refactor PSsignal stuff out of pstask.c

------------------------------------------------------------------------
r9050 | eicker | 2015-01-19 21:31:32 +0100 (Mon, 19 Jan 2015) | 3 lines

Enhancement: Upgrade psmom to use the registration mechanism for
    partitions. This shall help with #1187 and #2049.

------------------------------------------------------------------------
r9049 | eicker | 2015-01-19 21:24:05 +0100 (Mon, 19 Jan 2015) | 2 lines

Bugfix: Fix typo.

------------------------------------------------------------------------
r9048 | eicker | 2015-01-19 21:14:17 +0100 (Mon, 19 Jan 2015) | 3 lines

Bugfix: Only register the partition if master is known and capable to
    handle the registration.

------------------------------------------------------------------------
r9047 | eicker | 2015-01-19 21:05:33 +0100 (Mon, 19 Jan 2015) | 2 lines

More detailed log-messages from nodeFree() while setting up partition.

------------------------------------------------------------------------
r9046 | eicker | 2015-01-19 16:54:19 +0100 (Mon, 19 Jan 2015) | 2 lines

Don't mark nodes as exclusive unless this is allowed.

------------------------------------------------------------------------
r9045 | eicker | 2015-01-19 16:52:04 +0100 (Mon, 19 Jan 2015) | 2 lines

Rename SWThreads to assgndThreads within partition handling.

------------------------------------------------------------------------
r9044 | eicker | 2015-01-19 16:27:46 +0100 (Mon, 19 Jan 2015) | 3 lines

Enhancement: ENV_PART_LOOPNODES aka. PSI_LOOP_NODES_FIRST not required
    any more for batch-partitions.

------------------------------------------------------------------------
r9043 | eicker | 2015-01-15 23:18:25 +0100 (Thu, 15 Jan 2015) | 3 lines

Bugfix: psmom's injectedEnv has to be defined on a per task base to
    prevent race-conitions on multiple spawns in parallel.

------------------------------------------------------------------------
r9042 | eicker | 2015-01-15 20:52:49 +0100 (Thu, 15 Jan 2015) | 2 lines

Bugfix: Actually store the options of the request to create a partition

------------------------------------------------------------------------
r9041 | eicker | 2015-01-14 12:01:56 +0100 (Wed, 14 Jan 2015) | 2 lines

Allow to trigger the use of default options for getting nodes.

------------------------------------------------------------------------
r9040 | eicker | 2015-01-14 12:00:31 +0100 (Wed, 14 Jan 2015) | 2 lines

Improve debug messages of PSI_createPartition() and PSI_getNodes().

------------------------------------------------------------------------
r9039 | eicker | 2015-01-13 20:14:07 +0100 (Tue, 13 Jan 2015) | 3 lines

Enhancement: PSIDpart_register() allows to register partitions provided
    by an external resource manager.

------------------------------------------------------------------------
r9038 | eicker | 2015-01-13 20:10:52 +0100 (Tue, 13 Jan 2015) | 2 lines

Revert last change on psmgmt.spec.templ.

------------------------------------------------------------------------
r9037 | eicker | 2015-01-13 20:08:01 +0100 (Tue, 13 Jan 2015) | 2 lines

Bugfix: Ensure that HW-types are handled correctly during spawn.

------------------------------------------------------------------------
r9036 | eicker | 2015-01-13 17:42:35 +0100 (Tue, 13 Jan 2015) | 2 lines

Bugfix: Ensure that mpiexec fails if we run out of nodes.

------------------------------------------------------------------------
r9035 | eicker | 2015-01-13 17:41:14 +0100 (Tue, 13 Jan 2015) | 3 lines

Bugfix: Ensure partition will not get too big
Enhancement: Nicer debug-messages from within msg_GETNODES()

------------------------------------------------------------------------
r9034 | eicker | 2015-01-09 17:04:35 +0100 (Fri, 09 Jan 2015) | 2 lines

Enhancement: Prepare spec-file for /etc/SuSE-release to disappear

------------------------------------------------------------------------
r9033 | eicker | 2015-01-08 22:38:40 +0100 (Thu, 08 Jan 2015) | 2 lines

Be less verbose in psid unless PSID_getNodes() fails fatally

------------------------------------------------------------------------
r9032 | eicker | 2015-01-08 22:31:42 +0100 (Thu, 08 Jan 2015) | 2 lines

Enhancement: Major re-write of job-local partition handling.

------------------------------------------------------------------------
r9031 | eicker | 2015-01-08 22:17:03 +0100 (Thu, 08 Jan 2015) | 4 lines

Prepare mpiexec for the fact that PSP_INFO_LIST_PARTITION will return
    compresses slot-lists in the near future.
Most probably it's not a good idea to run the KVS-provider on the second node.

------------------------------------------------------------------------
r9030 | eicker | 2015-01-08 22:06:21 +0100 (Thu, 08 Jan 2015) | 2 lines

Enhancement: Reorganize mpiexec's setup of spawned environments.

------------------------------------------------------------------------
r9029 | eicker | 2015-01-08 21:44:07 +0100 (Thu, 08 Jan 2015) | 2 lines

Bugfix: Handling of -tpp command line option was not correct.

------------------------------------------------------------------------
r9028 | eicker | 2015-01-08 18:53:21 +0100 (Thu, 08 Jan 2015) | 3 lines

Enhancement: Add client-side stuff for new info-request PSP_INFO_LIST_GETNODES
    which is required by mpiexec once the new partition-handling is active.

------------------------------------------------------------------------
r9027 | eicker | 2015-01-07 14:54:36 +0100 (Wed, 07 Jan 2015) | 2 lines

Bugfix: Fix format of some of the forwarder's error-messages.

------------------------------------------------------------------------
r9026 | eicker | 2015-01-05 20:27:58 +0100 (Mon, 05 Jan 2015) | 2 lines

Bugfix: Change r9016 prevents libpsi from correct parsing of node-ranges 

------------------------------------------------------------------------
r9025 | eicker | 2014-12-18 22:04:45 +0100 (Thu, 18 Dec 2014) | 3 lines

Enhancement: Support the per spawn tpp and options
Enhancement: New options -tpp and -gtpp

------------------------------------------------------------------------
r9024 | eicker | 2014-12-18 22:01:22 +0100 (Thu, 18 Dec 2014) | 2 lines

Bugfix: Avoid more unnecessary PSP_DD_CHILDRESREL messages.

------------------------------------------------------------------------
r9023 | eicker | 2014-12-18 21:59:03 +0100 (Thu, 18 Dec 2014) | 2 lines

Improve PSI_getNodes()'s error message.

------------------------------------------------------------------------
r9022 | eicker | 2014-12-17 18:51:29 +0100 (Wed, 17 Dec 2014) | 5 lines

Enhancement: Implement creation of more compact representations of
    partition. This evict the considerations of LOOP_NODES_FIRST from
    the actual partition creation. Instead, this will be done within the
    job's resource management. All this is not yet enabled.

------------------------------------------------------------------------
r9021 | eicker | 2014-12-15 19:13:11 +0100 (Mon, 15 Dec 2014) | 4 lines

Try to be more specific with terminology like HW-threds vs. CPUs and
    SW-threads vs. jobs.
Fix many typos.

------------------------------------------------------------------------
r9020 | eicker | 2014-12-12 13:38:06 +0100 (Fri, 12 Dec 2014) | 2 lines

Fix typos and whitespace aesthetics.

------------------------------------------------------------------------
r9019 | eicker | 2014-12-11 21:31:28 +0100 (Thu, 11 Dec 2014) | 3 lines

Remove support to consider resources of ancient (+10 years old)
    applications.

------------------------------------------------------------------------
r9018 | eicker | 2014-12-11 21:02:38 +0100 (Thu, 11 Dec 2014) | 2 lines

Fix typo in comment.

------------------------------------------------------------------------
r9017 | eicker | 2014-12-11 19:15:49 +0100 (Thu, 11 Dec 2014) | 3 lines

Bugfix: Apply J. Hauke's patch binding RDP's UDP socket to the
    configured IP address.

------------------------------------------------------------------------
r9016 | eicker | 2014-12-11 18:55:26 +0100 (Thu, 11 Dec 2014) | 2 lines

Bugfix: Fix some more memory leaks and warning notified by clang's scan-build.

------------------------------------------------------------------------
r9015 | eicker | 2014-12-11 18:54:04 +0100 (Thu, 11 Dec 2014) | 2 lines

Fix copyright statement.

------------------------------------------------------------------------
r9014 | eicker | 2014-12-11 18:53:28 +0100 (Thu, 11 Dec 2014) | 2 lines

More whitespace aesthetics.

------------------------------------------------------------------------
r9013 | eicker | 2014-12-11 13:37:47 +0100 (Thu, 11 Dec 2014) | 2 lines

Bugfix: Fix some more problems notified by clang's scan-build.

------------------------------------------------------------------------
r9012 | eicker | 2014-12-11 13:36:12 +0100 (Thu, 11 Dec 2014) | 2 lines

Fix whitespace aesthetics.

------------------------------------------------------------------------
r9011 | eicker | 2014-12-09 13:19:42 +0100 (Tue, 09 Dec 2014) | 2 lines

Bugfix: Close unneeded file to pid_max as reported by D. Krause.

------------------------------------------------------------------------
r9010 | eicker | 2014-12-05 19:43:49 +0100 (Fri, 05 Dec 2014) | 2 lines

Enhancement: Provide core communication for the new GETNODES mechanisms.

------------------------------------------------------------------------
r9009 | eicker | 2014-12-05 19:33:35 +0100 (Fri, 05 Dec 2014) | 3 lines

Get rid of superfluous get/setPSIEnv() calls.
Fix whitespace.

------------------------------------------------------------------------
r9008 | eicker | 2014-12-03 19:58:14 +0100 (Wed, 03 Dec 2014) | 2 lines

Minor fixes in psmom's logging.

------------------------------------------------------------------------
r9007 | eicker | 2014-12-03 11:23:19 +0100 (Wed, 03 Dec 2014) | 2 lines

Enhancement: Allow to set psid's resource-limits via psiadmin (#1042)

------------------------------------------------------------------------
r9006 | eicker | 2014-11-26 19:11:40 +0100 (Wed, 26 Nov 2014) | 2 lines

Fix some wrong whitespace.

------------------------------------------------------------------------
r9005 | eicker | 2014-11-14 13:59:17 +0100 (Fri, 14 Nov 2014) | 2 lines

Mark psmgmt.sh and psmgmt.csh as %config(missingok,noreplace) (psc:#150)

------------------------------------------------------------------------
r9004 | eicker | 2014-11-14 13:44:52 +0100 (Fri, 14 Nov 2014) | 3 lines

Rename psmom's ChangeLog-History, README and LICENSE.OpenPBS since they
    end up in their own directory, anyhow.

------------------------------------------------------------------------
r9003 | eicker | 2014-11-14 13:35:42 +0100 (Fri, 14 Nov 2014) | 3 lines

Enhancement: More streamlined handling of documentation.
Fix some typos in psmgmt.spec.templ.

------------------------------------------------------------------------
r9002 | eicker | 2014-11-14 13:32:33 +0100 (Fri, 14 Nov 2014) | 2 lines

Actually ax_check_link_flag.m4 is not required to build.

------------------------------------------------------------------------
r9001 | eicker | 2014-11-10 01:06:31 +0100 (Mon, 10 Nov 2014) | 2 lines

Bugfix: Actually respect the chosen hardware type in mpiexec.

------------------------------------------------------------------------
r9000 | eicker | 2014-11-10 01:04:26 +0100 (Mon, 10 Nov 2014) | 3 lines

Bugfix: Choose the right slot when getting nodes (from r8993)
Enhancement: Consider the choice of specific hwTypes in PSI_getNodes()

------------------------------------------------------------------------
r8999 | eicker | 2014-11-10 00:51:36 +0100 (Mon, 10 Nov 2014) | 2 lines

Enhancement: Avoid unnecessary PSP_DD_CHILDRESREL messages.

------------------------------------------------------------------------
r8998 | eicker | 2014-11-10 00:46:40 +0100 (Mon, 10 Nov 2014) | 2 lines

Try to avoid releasing a task twice. This shall make no harm but just in case...

------------------------------------------------------------------------
r8997 | eicker | 2014-11-10 00:44:32 +0100 (Mon, 10 Nov 2014) | 2 lines

More debug from forwarder on PSID_LOG_SPAWN.

------------------------------------------------------------------------
r8996 | eicker | 2014-11-10 00:43:11 +0100 (Mon, 10 Nov 2014) | 2 lines

Improve debug log if sending to client fails

------------------------------------------------------------------------
r8995 | eicker | 2014-11-10 00:19:12 +0100 (Mon, 10 Nov 2014) | 2 lines

Fix wrongs whitespace characters

------------------------------------------------------------------------
r8994 | eicker | 2014-11-10 00:17:53 +0100 (Mon, 10 Nov 2014) | 2 lines

Enhancement: Mark kvs-providers in psiadmin accordingly.

------------------------------------------------------------------------
r8993 | eicker | 2014-11-07 20:35:04 +0100 (Fri, 07 Nov 2014) | 2 lines

Enhancement: Release resources in partition management (#1988)

------------------------------------------------------------------------
r8992 | eicker | 2014-11-07 18:59:42 +0100 (Fri, 07 Nov 2014) | 2 lines

Enhancement: Prepare for re-use of resources not required any longer.

------------------------------------------------------------------------
r8991 | krempel | 2014-11-07 14:40:15 +0100 (Fri, 07 Nov 2014) | 2 lines

Update spec file for better handling of parastation.conf

------------------------------------------------------------------------
r8990 | krempel | 2014-11-04 18:31:12 +0100 (Tue, 04 Nov 2014) | 2 lines

Add option to build without psconfig support

------------------------------------------------------------------------
r8989 | moschny | 2014-11-03 21:41:42 +0100 (Mon, 03 Nov 2014) | 1 line

Update .gitattributes.
------------------------------------------------------------------------
r8988 | eicker | 2014-11-02 22:18:59 +0100 (Sun, 02 Nov 2014) | 2 lines

Bugfix: Fix some problems notified by clangs build-scan.

------------------------------------------------------------------------
r8984 | eicker | 2014-11-02 20:57:05 +0100 (Sun, 02 Nov 2014) | 2 lines

New version (psmgmt-5.0.46)

------------------------------------------------------------------------


Version psmgmt-5.0.46:
======================
------------------------------------------------------------------------
r8983 | eicker | 2014-11-02 20:53:46 +0100 (Sun, 02 Nov 2014) | 2 lines

Remove obsolete version of memtest.py

------------------------------------------------------------------------
r8982 | eicker | 2014-10-31 18:15:30 +0100 (Fri, 31 Oct 2014) | 2 lines

Bugfix: Fix some more problems notified by clangs build-scan.

------------------------------------------------------------------------
r8981 | eicker | 2014-10-31 17:54:42 +0100 (Fri, 31 Oct 2014) | 2 lines

Bugfix: Fix some problems notified by clangs build-scan.

------------------------------------------------------------------------
r8980 | eicker | 2014-10-31 15:56:36 +0100 (Fri, 31 Oct 2014) | 3 lines

Bugfix: Ensure to full and correct information on errors and TIDs is
    returned by PSI_spawn() and friends. (#2348)

------------------------------------------------------------------------
r8979 | moschny | 2014-10-31 15:56:28 +0100 (Fri, 31 Oct 2014) | 1 line

Remove all non-GNU paths and corresponding hacks from the build system (see #2302).
------------------------------------------------------------------------
r8978 | eicker | 2014-10-31 15:38:22 +0100 (Fri, 31 Oct 2014) | 2 lines

Bugfix: Make spawning somewhat more robust.

------------------------------------------------------------------------
r8977 | moschny | 2014-10-31 14:47:17 +0100 (Fri, 31 Oct 2014) | 1 line

Fix 'make distcheck'.
------------------------------------------------------------------------
r8976 | eicker | 2014-10-31 13:51:18 +0100 (Fri, 31 Oct 2014) | 2 lines

Make layout of lib's Makefile.am more consistent.

------------------------------------------------------------------------
r8975 | eicker | 2014-10-31 13:25:36 +0100 (Fri, 31 Oct 2014) | 2 lines

Fix various compiler warnings introduced in r8970.

------------------------------------------------------------------------
r8974 | eicker | 2014-10-31 13:12:54 +0100 (Fri, 31 Oct 2014) | 3 lines

Bugfix: Fix setting of CFLAGS while building rpm distored by r8970.
Fix copyright statements.

------------------------------------------------------------------------
r8973 | eicker | 2014-10-31 12:07:03 +0100 (Fri, 31 Oct 2014) | 2 lines

Enhancement: Add dependencies on PAM and NUMActl in spec file. (#2349)

------------------------------------------------------------------------
r8972 | eicker | 2014-10-31 11:39:32 +0100 (Fri, 31 Oct 2014) | 2 lines

Check in configure for psconfig-dev installed.

------------------------------------------------------------------------
r8971 | krempel | 2014-10-30 16:35:09 +0100 (Thu, 30 Oct 2014) | 2 lines

Add missing file for psconfig parsing

------------------------------------------------------------------------
r8970 | krempel | 2014-10-30 16:16:18 +0100 (Thu, 30 Oct 2014) | 5 lines

Add support for psconfig

On startup, psid checks for /etc/parastation.conf. Iff it exists and has not
zero length, it is used in old fashion, else psconfig is used.

------------------------------------------------------------------------
r8969 | eicker | 2014-10-29 19:27:19 +0100 (Wed, 29 Oct 2014) | 3 lines

Enhancement: Add some more debugging output while identifying
    partition candidates.

------------------------------------------------------------------------
r8968 | eicker | 2014-10-28 23:58:22 +0100 (Tue, 28 Oct 2014) | 2 lines

Enhancement: New function PSCPU_cmp() to compare CPU-sets.

------------------------------------------------------------------------
r8967 | eicker | 2014-10-28 19:32:53 +0100 (Tue, 28 Oct 2014) | 2 lines

Yet another message of pspmi marked as debug output.

------------------------------------------------------------------------
r8966 | eicker | 2014-10-28 19:27:53 +0100 (Tue, 28 Oct 2014) | 3 lines

Using mdbg is the cleaner way and messages might be enabled during
    runtime once modifying the logmask is implemented for pspmi.

------------------------------------------------------------------------
r8965 | krempel | 2014-10-28 15:02:52 +0100 (Tue, 28 Oct 2014) | 2 lines

Disable debugging output in pmi plugin

------------------------------------------------------------------------
r8964 | eicker | 2014-10-25 19:16:29 +0200 (Sat, 25 Oct 2014) | 3 lines

Get rid of DDHugeMsg_t which was just held for compatibility with
    ancient version. 5 years shall be enough.

------------------------------------------------------------------------
r8963 | eicker | 2014-10-25 18:40:00 +0200 (Sat, 25 Oct 2014) | 2 lines

Bugfix: Forgot to take IP and UDP headers into account.

------------------------------------------------------------------------
r8962 | eicker | 2014-10-25 18:23:12 +0200 (Sat, 25 Oct 2014) | 3 lines

Bugfix: Adapt RDP_MAX_DATA_SIZE to Ethernet MTU according to size of
    DDBufferMsg_t. (#458)

------------------------------------------------------------------------
r8961 | eicker | 2014-10-25 17:50:06 +0200 (Sat, 25 Oct 2014) | 4 lines

Enhancement: PSID_cancelCB() allows cancelation of callbacks for scripts
    or functions executed asynchronously. (#1503)
Fix various typos in docu comments.

------------------------------------------------------------------------
r8960 | eicker | 2014-10-24 17:42:03 +0200 (Fri, 24 Oct 2014) | 3 lines

Enhancement: Switch psmgmt's %postinstall action to
    '/sbin/service inetd try-restart' (#1932)

------------------------------------------------------------------------
r8959 | eicker | 2014-10-24 15:16:20 +0200 (Fri, 24 Oct 2014) | 3 lines

Bugfix: Prevent psilogger from re-enabling stdin after all input was
    read (#2331)

------------------------------------------------------------------------
r8958 | eicker | 2014-10-23 22:02:03 +0200 (Thu, 23 Oct 2014) | 2 lines

Bugfix: Fix argument manipulation in psid (#2334)

------------------------------------------------------------------------
r8957 | eicker | 2014-10-22 19:12:34 +0200 (Wed, 22 Oct 2014) | 2 lines

Bugfix: Enable --envall even on further steps of spawning (#2332)

------------------------------------------------------------------------
r8956 | eicker | 2014-10-22 19:01:48 +0200 (Wed, 22 Oct 2014) | 4 lines

Bugfix: pspmi might segfault on psiadmin's 'plugin set/show/unset'
    directives.
Enhancement: Fix typo in pspmi's help message.

------------------------------------------------------------------------
r8955 | moschny | 2014-10-22 16:54:00 +0200 (Wed, 22 Oct 2014) | 1 line

Follow-up for #2302: Fix pamdir setting.
------------------------------------------------------------------------
r8954 | eicker | 2014-10-15 00:25:30 +0200 (Wed, 15 Oct 2014) | 2 lines

Add some debug-output to the new flow-control.

------------------------------------------------------------------------
r8953 | eicker | 2014-10-14 20:10:34 +0200 (Tue, 14 Oct 2014) | 2 lines

Adapt the no_flowcontrol plugin to the new flow-control.

------------------------------------------------------------------------
r8952 | eicker | 2014-10-14 20:08:47 +0200 (Tue, 14 Oct 2014) | 3 lines

Enhancement: Improve the flow-control. This hopefully fixes the problem
    of psid bloats.

------------------------------------------------------------------------
r8951 | eicker | 2014-10-14 19:11:42 +0200 (Tue, 14 Oct 2014) | 2 lines

Get rid of an useless variable.

------------------------------------------------------------------------
r8950 | eicker | 2014-10-14 18:58:32 +0200 (Tue, 14 Oct 2014) | 2 lines

Add the new log-category PSID_LOG_FLWCNTRL to psid's logging facility.

------------------------------------------------------------------------
r8949 | clauss | 2014-10-14 16:11:33 +0200 (Tue, 14 Oct 2014) | 3 lines

Fixed/updated function description of p_Get_Appnum().


------------------------------------------------------------------------
r8948 | clauss | 2014-10-14 12:09:18 +0200 (Tue, 14 Oct 2014) | 3 lines

Forward APPNUM parameter from mpiexec to pmiclient.


------------------------------------------------------------------------
r8947 | clauss | 2014-10-13 14:43:10 +0200 (Mon, 13 Oct 2014) | 5 lines

Fix regarding spawning iteratively: Since once assigned (negative)
service ranks are not recycled, -42 seems not to be a good indicator for
uninitialized ones...

------------------------------------------------------------------------
r8946 | clauss | 2014-10-13 11:25:23 +0200 (Mon, 13 Oct 2014) | 3 lines

Added valgrind support also for spawned processes.

------------------------------------------------------------------------
r8945 | clauss | 2014-10-10 11:13:12 +0200 (Fri, 10 Oct 2014) | 3 lines

Fixed mpiexec's --merge option for the case of dynamic spawns.

------------------------------------------------------------------------
r8944 | clauss | 2014-10-10 09:44:26 +0200 (Fri, 10 Oct 2014) | 4 lines

Move prototype of getNextServiceRank() to header file and add function
description.

------------------------------------------------------------------------
r8943 | clauss | 2014-10-09 17:30:26 +0200 (Thu, 09 Oct 2014) | 4 lines

Fixed race condition in registerClient() when spawning multiple KVSs concurrently:
assure to assign unique service ranks when answering SERV_TID inquiries.

------------------------------------------------------------------------
r8942 | krempel | 2014-09-26 15:18:53 +0200 (Fri, 26 Sep 2014) | 2 lines

Add support for MPI_Comm_spawn_multiple

------------------------------------------------------------------------
r8941 | krempel | 2014-09-26 15:18:22 +0200 (Fri, 26 Sep 2014) | 7 lines

Slightly change the way mpiexec handles the -d|--wdir parameter:
 - In the past, this is treated as a global parameter taking effect
   for all executables given when using ':' syntax.
 - Now it is treated as local parameter, taking only effect for
   the corresponding executable.
 - To set the working directory globally, now use --gwdir.

------------------------------------------------------------------------
r8940 | eicker | 2014-09-25 17:33:19 +0200 (Thu, 25 Sep 2014) | 3 lines

Bugfix: Ensure that all nodes are updated on changed hardware-status
    even if a script is called to switch

------------------------------------------------------------------------
r8939 | eicker | 2014-09-25 14:40:43 +0200 (Thu, 25 Sep 2014) | 3 lines

Add print_list_entry macro to the gdbinit definitions
Improve documentation of the gdb macros

------------------------------------------------------------------------
r8938 | eicker | 2014-09-18 20:31:12 +0200 (Thu, 18 Sep 2014) | 2 lines

Add print_msg_list macro to the gdbinit definitions

------------------------------------------------------------------------
r8937 | eicker | 2014-09-18 20:23:32 +0200 (Thu, 18 Sep 2014) | 3 lines

Enhancement: Add Selector_isActive() in order to find out if a selector
    is disabled from outside the selector facility.

------------------------------------------------------------------------
r8936 | eicker | 2014-09-17 18:55:45 +0200 (Wed, 17 Sep 2014) | 3 lines

Enhancement: Be more relaxed to leave the logger's raw-mode. This should
    help with interactive SLURM sessions.

------------------------------------------------------------------------
r8935 | eicker | 2014-09-16 21:20:07 +0200 (Tue, 16 Sep 2014) | 2 lines

Fix documentation comment.

------------------------------------------------------------------------
r8934 | eicker | 2014-09-12 19:46:06 +0200 (Fri, 12 Sep 2014) | 2 lines

Add one more script required by automake.

------------------------------------------------------------------------
r8933 | eicker | 2014-09-12 19:40:40 +0200 (Fri, 12 Sep 2014) | 2 lines

Also include sources of the newly enabled test-plugins.

------------------------------------------------------------------------
r8932 | eicker | 2014-09-12 19:38:14 +0200 (Fri, 12 Sep 2014) | 2 lines

Enable build of some more test plugins if --enable-testplugins is given.

------------------------------------------------------------------------
r8931 | eicker | 2014-09-12 19:34:22 +0200 (Fri, 12 Sep 2014) | 2 lines

Fix typo.

------------------------------------------------------------------------
r8930 | eicker | 2014-09-12 19:07:34 +0200 (Fri, 12 Sep 2014) | 2 lines

Minor cleanups.

------------------------------------------------------------------------
r8929 | eicker | 2014-09-12 19:07:09 +0200 (Fri, 12 Sep 2014) | 2 lines

Make PSIDMsgbuf_gc() local. Shall not be used globally.

------------------------------------------------------------------------
r8928 | eicker | 2014-09-12 18:54:05 +0200 (Fri, 12 Sep 2014) | 2 lines

Enhancement: Streamline propagation of resource-limits.

------------------------------------------------------------------------
r8927 | moschny | 2014-08-29 21:02:50 +0200 (Fri, 29 Aug 2014) | 1 line

Fix for #2302: Make pamdir (installation destination for the pam plugin) configurable.
------------------------------------------------------------------------
r8926 | eicker | 2014-08-29 17:52:16 +0200 (Fri, 29 Aug 2014) | 3 lines

Bugfix: Add some check on node-ID range in order to prevent segfaults
    triggered by corrupted PSP_DD_GETPARTNL messages (#2288).

------------------------------------------------------------------------
r8925 | moschny | 2014-08-26 16:14:57 +0200 (Tue, 26 Aug 2014) | 1 line

Fix #2301: Remove hard-coded /etc.
------------------------------------------------------------------------
r8924 | rauh | 2014-08-25 11:12:18 +0200 (Mon, 25 Aug 2014) | 2 lines

Enhancement: psmom: more intelligent way of obiting jobs with multiple PBS servers configured.

------------------------------------------------------------------------
r8923 | rauh | 2014-08-12 16:59:00 +0200 (Tue, 12 Aug 2014) | 2 lines

Enhancement: let the kvsprovider kill all its children if a SIGTERM is
received (#2201).
------------------------------------------------------------------------
r8922 | eicker | 2014-07-15 16:10:50 +0200 (Tue, 15 Jul 2014) | 2 lines

Bugfix: Add popt-devel to general BuildRequires (#2284)

------------------------------------------------------------------------
r8921 | eicker | 2014-06-26 09:50:49 +0200 (Thu, 26 Jun 2014) | 3 lines

Bugfix: Make logger work, even if no stdin is provided and psid is
    connected via fd 0 (#2273)

------------------------------------------------------------------------
r8920 | eicker | 2014-06-12 19:33:29 +0200 (Thu, 12 Jun 2014) | 2 lines

Enhancement: Enforce client messages to have correct sender information.

------------------------------------------------------------------------
r8919 | eicker | 2014-06-12 19:19:37 +0200 (Thu, 12 Jun 2014) | 3 lines

Enhancement: Rely on the daemon for some privilege checking.
Fix some typos.

------------------------------------------------------------------------
r8918 | eicker | 2014-06-12 19:16:17 +0200 (Thu, 12 Jun 2014) | 3 lines

Enhancement: Use PSID_checkPrivilege() to enforce checks on privileged
    actions inside the daemon.

------------------------------------------------------------------------
r8917 | eicker | 2014-06-12 19:09:54 +0200 (Thu, 12 Jun 2014) | 2 lines

Enhancement: Add PSID_checkPrivilege() for centralized privilege checks.

------------------------------------------------------------------------
r8916 | eicker | 2014-05-20 12:22:41 +0200 (Tue, 20 May 2014) | 2 lines

Minor code beautifications.

------------------------------------------------------------------------
r8915 | eicker | 2014-05-14 10:36:11 +0200 (Wed, 14 May 2014) | 3 lines

Bugfix: Catch the rare case of apps connecting to psid without sending
    data leading to a segfault in psid (#2252).

------------------------------------------------------------------------
r8914 | rauh | 2014-05-09 15:27:25 +0200 (Fri, 09 May 2014) | 2 lines

Enhancement: added support to start multiple binaries with mpiexec using the colon syntax (#2154).

------------------------------------------------------------------------
r8913 | rauh | 2014-04-17 16:38:04 +0200 (Thu, 17 Apr 2014) | 2 lines

Enhancement: added support for the 'path' info key of MPI_Comm_spawn().

------------------------------------------------------------------------
r8912 | rauh | 2014-04-17 16:05:29 +0200 (Thu, 17 Apr 2014) | 3 lines

Enhancement: support "arch" key of MPI_Comm_spawn().
Cleanup: removed unsupported "host, machinefile" option form PMI spawn.

------------------------------------------------------------------------
r8911 | rauh | 2014-04-10 16:13:59 +0200 (Thu, 10 Apr 2014) | 2 lines

Bugfix: allow spaces for argv for the PMI spawn call. Tested by the mpi test suite test spawnargv.

------------------------------------------------------------------------
r8910 | rauh | 2014-04-07 10:43:30 +0200 (Mon, 07 Apr 2014) | 2 lines

Bugfix: MPI_Comm_spawn() was broken when a relative path to the executable was specified (mpi test spawninfo1).

------------------------------------------------------------------------
r8909 | eicker | 2014-04-04 19:18:59 +0200 (Fri, 04 Apr 2014) | 3 lines

Bugfix: Ensure to handle sufficient number of service processes (#2230)
Bugfix: Ensure input forwarding works even if clients join late.

------------------------------------------------------------------------
r8905 | eicker | 2014-02-18 19:31:06 +0100 (Tue, 18 Feb 2014) | 2 lines

New version (psmgmt-5.0.45)

------------------------------------------------------------------------


Version psmgmt-5.0.45:
======================
------------------------------------------------------------------------
r8904 | eicker | 2014-02-14 17:38:55 +0100 (Fri, 14 Feb 2014) | 2 lines

mpiexec changes of Michael's branch.

------------------------------------------------------------------------
r8903 | eicker | 2014-02-14 17:33:12 +0100 (Fri, 14 Feb 2014) | 2 lines

Next part of the merge: changes to the PMI-plugin.

------------------------------------------------------------------------
r8902 | eicker | 2014-02-14 17:28:37 +0100 (Fri, 14 Feb 2014) | 8 lines

Start to merge Michael's branch to support hwTypes during spawn:
 - This one is restricted to changes within libpsi and libpse
 - Basic changes against Michael's branch:
   - Move PSE_getHWType() to PSI_resolveHWList() in psipartition
   - Fix broken for MPICH1 via mpirun_chgm and mpirun_chopenib
   - Re-order arguments of PSI_getNodes() and PSI_spawnStrictHW()
   - Add docu for new functionality and fix many typos in docu

------------------------------------------------------------------------
r8901 | eicker | 2014-02-13 21:36:22 +0100 (Thu, 13 Feb 2014) | 2 lines

Improve documentation comments.

------------------------------------------------------------------------
r8900 | eicker | 2014-02-13 21:30:23 +0100 (Thu, 13 Feb 2014) | 2 lines

Fix whitespace formatting.

------------------------------------------------------------------------
r8899 | eicker | 2014-02-13 21:04:06 +0100 (Thu, 13 Feb 2014) | 2 lines

Bugfix: Ensure backward compatibility with mpirun for MPICH1.

------------------------------------------------------------------------
r8898 | eicker | 2014-02-13 20:34:30 +0100 (Thu, 13 Feb 2014) | 3 lines

Remove obsolete PStasklist_findByFWTID() introduced in r8848 but never
    used.

------------------------------------------------------------------------
r8897 | eicker | 2014-02-13 18:55:24 +0100 (Thu, 13 Feb 2014) | 2 lines

Fix Copyright date and some file-properties.

------------------------------------------------------------------------
r8896 | eicker | 2014-02-13 16:52:31 +0100 (Thu, 13 Feb 2014) | 2 lines

Fix warning on setuid()'s unused return from newer gcc/glibc.

------------------------------------------------------------------------
r8894 | eicker | 2014-02-03 01:12:58 +0100 (Mon, 03 Feb 2014) | 2 lines

Apply Carsten's patch on valgrind support for mpiexec.

------------------------------------------------------------------------
r8893 | eicker | 2014-02-03 01:11:02 +0100 (Mon, 03 Feb 2014) | 2 lines

Remove unused variable info to suppress compiler warning

------------------------------------------------------------------------
r8890 | rauh | 2013-11-20 14:39:06 +0100 (Wed, 20 Nov 2013) | 2 lines

Enhancement: start KVS service process on starter node.

------------------------------------------------------------------------
r8889 | rauh | 2013-11-15 11:49:23 +0100 (Fri, 15 Nov 2013) | 2 lines

Enhancement: psaccount: update used cpu time periodically (#2147).

------------------------------------------------------------------------
r8888 | rauh | 2013-10-17 15:02:30 +0200 (Thu, 17 Oct 2013) | 1 line

Cleanup obsolete files.
------------------------------------------------------------------------
r8887 | rauh | 2013-10-17 15:00:17 +0200 (Thu, 17 Oct 2013) | 1 line

Pushed internal psmom version.
------------------------------------------------------------------------
r8886 | rauh | 2013-10-17 15:00:12 +0200 (Thu, 17 Oct 2013) | 2 lines

Enhancement: psmom: prevent protocol deadlocks from third party
programs (jt:#6971).
------------------------------------------------------------------------
r8885 | rauh | 2013-10-10 15:45:32 +0200 (Thu, 10 Oct 2013) | 3 lines

Bugfix: make sure we have enough space when overwriting the proc title.
Enhancement: shorten proc title of psidforwarder to psidfw since space
can be very limited in the process.
------------------------------------------------------------------------
r8884 | rauh | 2013-10-10 15:45:29 +0200 (Thu, 10 Oct 2013) | 2 lines

Enhancement: psmom: Only root needs to use the master unix socket of
psmom for local communication.
------------------------------------------------------------------------
r8883 | rauh | 2013-10-10 15:45:26 +0200 (Thu, 10 Oct 2013) | 2 lines

Enhancement: preparation to move the kvsprovider of process groups spawned
with pmi_spawn to abitrary nodes.
------------------------------------------------------------------------
r8882 | rauh | 2013-10-10 15:45:24 +0200 (Thu, 10 Oct 2013) | 1 line

Bugfix: psmom: Don't remove jobinfo for jobs with no walltime limit.
------------------------------------------------------------------------
r8881 | eicker | 2013-09-12 13:02:23 +0200 (Thu, 12 Sep 2013) | 3 lines

Enhancement: Enable PSP_SCHED_YIELD in mpiexec, if overbooking is
    requested (#151).

------------------------------------------------------------------------
r8880 | eicker | 2013-09-10 17:39:02 +0200 (Tue, 10 Sep 2013) | 2 lines

Enhancement: New psiadmin directive 'list installdir'.

------------------------------------------------------------------------
r8879 | eicker | 2013-09-03 21:16:30 +0200 (Tue, 03 Sep 2013) | 3 lines

Bugfix: Fix problems introduced in r8878
Bugfix: Fix psiadmin's output for 'list jobs'

------------------------------------------------------------------------
r8878 | eicker | 2013-09-03 19:27:22 +0200 (Tue, 03 Sep 2013) | 3 lines

Enhancement: Allow more than 32 cores per CPU. The new limit is 1024,
    nevertheless the protocoll foresees future extensions.

------------------------------------------------------------------------
r8877 | eicker | 2013-09-03 19:23:50 +0200 (Tue, 03 Sep 2013) | 2 lines

Fix copyright.

------------------------------------------------------------------------
r8876 | eicker | 2013-09-03 18:28:17 +0200 (Tue, 03 Sep 2013) | 2 lines

Bugfix: Fix psiadmin's output for 'list plugins'

------------------------------------------------------------------------
r8875 | eicker | 2013-08-29 21:30:20 +0200 (Thu, 29 Aug 2013) | 4 lines

Bugfix: Fix accounting again. This was broken by r8746.
    In fact this breaks ACCOUNTING_SLOTS messages, too. Will be fixed
    within one of the next commits.

------------------------------------------------------------------------
r8874 | eicker | 2013-08-29 19:37:57 +0200 (Thu, 29 Aug 2013) | 2 lines

Fix even one more copyright statement

------------------------------------------------------------------------
r8873 | eicker | 2013-08-29 19:28:17 +0200 (Thu, 29 Aug 2013) | 2 lines

Still some more copyright statements to fix.

------------------------------------------------------------------------
r8872 | eicker | 2013-08-29 19:21:13 +0200 (Thu, 29 Aug 2013) | 2 lines

Fix one more copyright statement

------------------------------------------------------------------------
r8871 | eicker | 2013-08-28 18:03:05 +0200 (Wed, 28 Aug 2013) | 2 lines

Beautify doxygen comments.

------------------------------------------------------------------------
r8870 | eicker | 2013-08-27 20:23:14 +0200 (Tue, 27 Aug 2013) | 3 lines

Remove duplicate function
Fix typo

------------------------------------------------------------------------
r8869 | eicker | 2013-08-21 18:00:05 +0200 (Wed, 21 Aug 2013) | 3 lines

Enhancement: Make PSID_pinToCPUs(), PSID_bindToNodes() and
    PSID_mapCPUs() public.

------------------------------------------------------------------------
r8868 | moschny | 2013-08-21 14:53:02 +0200 (Wed, 21 Aug 2013) | 1 line

Re-add psaccview.
------------------------------------------------------------------------
r8867 | eicker | 2013-08-21 14:13:47 +0200 (Wed, 21 Aug 2013) | 2 lines

Fix one compiler warning introduced in r8866.

------------------------------------------------------------------------
r8866 | eicker | 2013-08-15 19:28:08 +0200 (Thu, 15 Aug 2013) | 2 lines

Enhancement: Prepare code for deviating PSCPU_set_t sizes.

------------------------------------------------------------------------
r8865 | eicker | 2013-08-15 19:05:46 +0200 (Thu, 15 Aug 2013) | 2 lines

Update (soon obsoleted) message sizes.

------------------------------------------------------------------------
r8864 | rauh | 2013-08-14 14:01:11 +0200 (Wed, 14 Aug 2013) | 1 line

Enhancement: tell MPI processes to use PMI version 1.
------------------------------------------------------------------------
r8863 | rauh | 2013-08-09 15:35:34 +0200 (Fri, 09 Aug 2013) | 2 lines

Enhancement: also move the spawner process from PMI_spawn() calls when
__MPIEXEC_DIST_START is set.
------------------------------------------------------------------------
r8862 | rauh | 2013-08-09 13:31:43 +0200 (Fri, 09 Aug 2013) | 1 line

Enhanced changes from r8861.
------------------------------------------------------------------------
r8861 | rauh | 2013-08-07 15:43:42 +0200 (Wed, 07 Aug 2013) | 2 lines

Enhancement: better handling of CC_ERROR msg in the kvsprovider.

------------------------------------------------------------------------
r8858 | rauh | 2013-08-06 10:05:54 +0200 (Tue, 06 Aug 2013) | 2 lines

Undo changes done in r8853.

------------------------------------------------------------------------
r8857 | rauh | 2013-08-06 09:57:54 +0200 (Tue, 06 Aug 2013) | 2 lines

Undo changes done in r8854.

------------------------------------------------------------------------
r8856 | rauh | 2013-08-05 16:43:43 +0200 (Mon, 05 Aug 2013) | 3 lines

Bugfix: psmom: fixed race condition when verfiying
the scratch directory (DIR_TEMP).

------------------------------------------------------------------------
r8855 | rauh | 2013-08-05 14:14:06 +0200 (Mon, 05 Aug 2013) | 2 lines

Enhancement: removed unnecessary prototyps.

------------------------------------------------------------------------
r8854 | rauh | 2013-08-05 14:06:44 +0200 (Mon, 05 Aug 2013) | 2 lines

Bugfix: fixed bug detected by LLVM's scan-build.

------------------------------------------------------------------------
r8853 | rauh | 2013-08-05 13:13:10 +0200 (Mon, 05 Aug 2013) | 2 lines

Bugfix: fixed some bugs detected by LLVM's scan-build.

------------------------------------------------------------------------
r8852 | eicker | 2013-08-04 15:40:18 +0200 (Sun, 04 Aug 2013) | 2 lines

Some re-organization of r8848 changes.

------------------------------------------------------------------------
r8851 | eicker | 2013-08-04 14:43:50 +0200 (Sun, 04 Aug 2013) | 2 lines

Fix various copyright entries.

------------------------------------------------------------------------
r8850 | eicker | 2013-08-04 14:13:55 +0200 (Sun, 04 Aug 2013) | 2 lines

Improve the changes done in r8841.

------------------------------------------------------------------------
r8849 | eicker | 2013-08-04 14:10:48 +0200 (Sun, 04 Aug 2013) | 2 lines

Start to prepare psicomm for errors on receiving messages.

------------------------------------------------------------------------
r8848 | rauh | 2013-08-02 12:06:30 +0200 (Fri, 02 Aug 2013) | 2 lines

Bugfix: correct cleanup of processes spawned using PMI_spawn.

------------------------------------------------------------------------
r8847 | rauh | 2013-07-31 11:50:36 +0200 (Wed, 31 Jul 2013) | 3 lines

Enhancement: resolving the ip adresses in the nodelist is only needed
when OpenMPI is used.

------------------------------------------------------------------------
r8846 | rauh | 2013-07-29 12:35:28 +0200 (Mon, 29 Jul 2013) | 2 lines

Bugfix: fixed possible double free() detected by LLVM's scan-build. 

------------------------------------------------------------------------
r8845 | rauh | 2013-07-29 12:07:49 +0200 (Mon, 29 Jul 2013) | 4 lines

Removed missed hardcoded path to "/var/run".
Added memtest.py to rpm sources.


------------------------------------------------------------------------
r8844 | rauh | 2013-07-29 10:46:23 +0200 (Mon, 29 Jul 2013) | 2 lines

Enhancement: removed remaining hardcoded paths in pspmi and psmom (#2074).

------------------------------------------------------------------------
r8843 | rauh | 2013-07-26 16:54:26 +0200 (Fri, 26 Jul 2013) | 2 lines

Bugfix: fixed PMI spawn which was broken by r8822.

------------------------------------------------------------------------
r8842 | rauh | 2013-07-26 15:37:49 +0200 (Fri, 26 Jul 2013) | 2 lines

Enhancement: added easy memory debugging for psaccount, pspmi and psmom.

------------------------------------------------------------------------
r8841 | rauh | 2013-07-25 12:07:38 +0200 (Thu, 25 Jul 2013) | 2 lines

Cleanup warnings warn_unused_result with new gcc 4.8.1.

------------------------------------------------------------------------
r8840 | rauh | 2013-07-23 12:34:25 +0200 (Tue, 23 Jul 2013) | 3 lines

Bugfix: fixed possible segfault in output merging (mpiexec -m).
Bugfix: fixed minor bugs and warnings detected by LLVM's scan-build.

------------------------------------------------------------------------
r8839 | rauh | 2013-07-22 16:56:36 +0200 (Mon, 22 Jul 2013) | 2 lines

Bugfix: fixed some memory corruptions

------------------------------------------------------------------------
r8835 | eicker | 2013-07-19 16:39:07 +0200 (Fri, 19 Jul 2013) | 2 lines

New version (psmgmt-5.0.44)

------------------------------------------------------------------------


Version psmgmt-5.0.44:
======================
------------------------------------------------------------------------
r8834 | eicker | 2013-07-19 16:25:37 +0200 (Fri, 19 Jul 2013) | 2 lines

Bugfix: More minor bugs and warnings detected by LLVM's scan-build fixed.

------------------------------------------------------------------------
r8833 | eicker | 2013-07-19 15:18:54 +0200 (Fri, 19 Jul 2013) | 2 lines

Bugfix: Many minor bugs fixed detected by LLVM's scan-build.

------------------------------------------------------------------------
r8832 | rauh | 2013-07-19 11:23:14 +0200 (Fri, 19 Jul 2013) | 2 lines

Bugfix: dereference of null pointer

------------------------------------------------------------------------
r8831 | rauh | 2013-07-18 16:29:13 +0200 (Thu, 18 Jul 2013) | 2 lines

Bugfix: psaccount: free all config objects when the plugin gets unloaded 

------------------------------------------------------------------------
r8830 | rauh | 2013-07-18 16:19:07 +0200 (Thu, 18 Jul 2013) | 3 lines

Enhancement: psmom: moving the psid spawner process is now save when
using the psmom PBS_JOBCOOKIE injection feature (#2071).

------------------------------------------------------------------------
r8829 | rauh | 2013-07-17 11:25:10 +0200 (Wed, 17 Jul 2013) | 3 lines

Bugfix: psresport: unregister hooks and message handler if the initialisation
of the plugin fails.

------------------------------------------------------------------------
r8828 | eicker | 2013-07-17 11:13:33 +0200 (Wed, 17 Jul 2013) | 2 lines

Cleanup resPort handling.

------------------------------------------------------------------------
r8827 | rauh | 2013-07-16 16:36:10 +0200 (Tue, 16 Jul 2013) | 2 lines

pushed psmom version

------------------------------------------------------------------------
r8826 | rauh | 2013-07-16 16:34:50 +0200 (Tue, 16 Jul 2013) | 3 lines

Enhancement: psmom: try every known pbs server on job obit.
Especially useful for failover configurations.

------------------------------------------------------------------------
r8825 | rauh | 2013-07-16 11:52:35 +0200 (Tue, 16 Jul 2013) | 3 lines

Bugfix: psmom: unregister hooks and message handler if the initialisation
of the plugins fails.

------------------------------------------------------------------------
r8824 | rauh | 2013-07-16 10:18:06 +0200 (Tue, 16 Jul 2013) | 3 lines

Bugfix: psmom: flag the copy forwarder and its children always valid
when asked by allowed_pid

------------------------------------------------------------------------
r8823 | moschny | 2013-07-15 19:41:05 +0200 (Mon, 15 Jul 2013) | 1 line

Reapply r8803: Missing include.
------------------------------------------------------------------------
r8822 | rauh | 2013-07-15 14:58:04 +0200 (Mon, 15 Jul 2013) | 2 lines

Enhancement: merged psmom version 5.2.10-20 into psmgmt

------------------------------------------------------------------------
r8821 | eicker | 2013-07-11 09:16:38 +0200 (Thu, 11 Jul 2013) | 2 lines

Omit psid's dependency on libpsi and libpse.

------------------------------------------------------------------------
r8820 | eicker | 2013-07-10 18:22:27 +0200 (Wed, 10 Jul 2013) | 3 lines

Enhancement: Use PSC_printTID() in order to print out task-ID. This
     enhances the changes in r8818.

------------------------------------------------------------------------
r8819 | rauh | 2013-07-10 17:26:19 +0200 (Wed, 10 Jul 2013) | 3 lines

Bugfix: the kvsprovider has to exit on itself if no pspmi
plugin is loaded

------------------------------------------------------------------------
r8818 | rauh | 2013-07-10 16:32:07 +0200 (Wed, 10 Jul 2013) | 4 lines

Enhancement: try to place the spawner/kvsprovider on own nodes
for performance reasons when __MPIEXEC_DIST_START is set
Enhancement: let mpiexec output the TID of service processes in verbose mode

------------------------------------------------------------------------
r8817 | rauh | 2013-07-09 13:33:52 +0200 (Tue, 09 Jul 2013) | 2 lines

Enhancement: show source function of received signals in libpsi

------------------------------------------------------------------------
r8816 | eicker | 2013-07-05 18:27:12 +0200 (Fri, 05 Jul 2013) | 2 lines

Bugfix: Prevent segfault due to access of outdated task-structure (#2060)

------------------------------------------------------------------------
r8815 | rauh | 2013-07-04 10:47:34 +0200 (Thu, 04 Jul 2013) | 2 lines

Enhancement: more self-explanatory CC_ERROR log messages

------------------------------------------------------------------------
r8814 | moschny | 2013-07-03 19:42:23 +0200 (Wed, 03 Jul 2013) | 5 lines

Fix wrong count argument in memcpy call.

'dest' is an array argument in this function, thus its size always
equals the size of a pointer, which is not what we want here.

------------------------------------------------------------------------
r8802 | rauh | 2013-07-01 12:41:10 +0200 (Mon, 01 Jul 2013) | 2 lines

Enhancement: set meaningful process title for the kvsprovider

------------------------------------------------------------------------
r8801 | rauh | 2013-07-01 12:13:36 +0200 (Mon, 01 Jul 2013) | 2 lines

Bugfix: propagate PMI_BARRIER_TMOUT and PMI_BARRIER_ROUNDS to all kvsproviders

------------------------------------------------------------------------
r8791 | rauh | 2013-06-06 09:48:33 +0200 (Thu, 06 Jun 2013) | 3 lines

Cleanup definitions of different plugin loggers.
Cleanup kvsprovider logging.

------------------------------------------------------------------------
r8790 | eicker | 2013-06-05 18:36:33 +0200 (Wed, 05 Jun 2013) | 2 lines

Reorganize inter-library dependencies.

------------------------------------------------------------------------
r8789 | eicker | 2013-06-05 18:33:37 +0200 (Wed, 05 Jun 2013) | 2 lines

Cleanup definition of the kvslogger.

------------------------------------------------------------------------
r8788 | moschny | 2013-06-05 16:45:43 +0200 (Wed, 05 Jun 2013) | 1 line

Fix eol-style and keywords for some more files.
------------------------------------------------------------------------
r8787 | moschny | 2013-06-05 16:22:57 +0200 (Wed, 05 Jun 2013) | 1 line

Fix eol-style and keywords for all .c and .h files.
------------------------------------------------------------------------
r8786 | rauh | 2013-06-05 15:56:11 +0200 (Wed, 05 Jun 2013) | 2 lines

Bugfix: the kvs-provider should report to stderr not syslog (#2040)

------------------------------------------------------------------------
r8785 | rauh | 2013-05-08 12:04:36 +0200 (Wed, 08 May 2013) | 2 lines

Activate makefile changes from r8780.

------------------------------------------------------------------------
r8781 | eicker | 2013-05-08 10:13:38 +0200 (Wed, 08 May 2013) | 2 lines

New release (psmgmt-5.0.43-1)

------------------------------------------------------------------------


Version psmgmt-5.0.43-1:
========================
------------------------------------------------------------------------
r8780 | rauh | 2013-05-08 09:50:23 +0200 (Wed, 08 May 2013) | 2 lines

Enhancement: Use LIBADD instead of -whole-archive for the pspmi plugin

------------------------------------------------------------------------
r8779 | rauh | 2013-05-08 09:43:18 +0200 (Wed, 08 May 2013) | 2 lines

Bugfix: prevent kvs-provider get stuck in loop.

------------------------------------------------------------------------
r8778 | eicker | 2013-05-07 18:43:15 +0200 (Tue, 07 May 2013) | 2 lines

Bugfix: Adapt output to PSID_log()'s format string.

------------------------------------------------------------------------
r8777 | eicker | 2013-05-07 18:41:30 +0200 (Tue, 07 May 2013) | 2 lines

Enhancement: Finally, handle logger's prfx, too. This should help with #1087

------------------------------------------------------------------------
r8776 | eicker | 2013-05-07 18:39:58 +0200 (Tue, 07 May 2013) | 4 lines

Enhancement: Use malloc_trim() instead of malloc()/free() to free
    unsued memory on SIGUSR2
Enhancement: Beautify printMallocInfo()'s output

------------------------------------------------------------------------
r8772 | eicker | 2013-05-07 15:08:22 +0200 (Tue, 07 May 2013) | 2 lines

New version (psmgmt-5.0.43)

------------------------------------------------------------------------


Version psmgmt-5.0.43:
======================
------------------------------------------------------------------------
r8771 | eicker | 2013-05-07 14:08:38 +0200 (Tue, 07 May 2013) | 2 lines

Try to keep some compatibility and cosmetical changes.

------------------------------------------------------------------------
r8770 | rauh | 2013-05-07 13:21:26 +0200 (Tue, 07 May 2013) | 6 lines

Enhancement: Added support for MPI_COMM_SPAWN.
Enhancement: Moved KVS code from logger into its own
    service process aka the kvs-provider.
Bugfix: Segfault when growing client structures for
    negative ranks in the logger.

------------------------------------------------------------------------
r8769 | eicker | 2013-05-07 12:44:57 +0200 (Tue, 07 May 2013) | 3 lines

Bugfix: Prevent PSP_DD_SENDCONT-storms possibly initiated by forwarded
    PSP_CD_RELEASE messages.

------------------------------------------------------------------------
r8768 | eicker | 2013-05-07 10:14:38 +0200 (Tue, 07 May 2013) | 2 lines

Rename some parameters in releaseSignal() for more readable code.

------------------------------------------------------------------------
r8767 | eicker | 2013-05-07 10:11:24 +0200 (Tue, 07 May 2013) | 3 lines

Bugfix: Prevent false RELEASERES messages when child is inherited
    several times.

------------------------------------------------------------------------
r8766 | eicker | 2013-05-03 17:35:10 +0200 (Fri, 03 May 2013) | 2 lines

Fix message documentation

------------------------------------------------------------------------
r8763 | eicker | 2013-05-03 13:56:06 +0200 (Fri, 03 May 2013) | 3 lines

Bugfix: Fix possible race whithin deletingClient(). SIGCHLD might
    lead to premature invalidation of task structure.

------------------------------------------------------------------------
r8762 | eicker | 2013-05-03 11:57:20 +0200 (Fri, 03 May 2013) | 3 lines

Bugfix: Don't release parent before all children are inherited. This
    should fix a possible race unveiled by the new kvs-provider.

------------------------------------------------------------------------
r8761 | eicker | 2013-04-30 18:39:56 +0200 (Tue, 30 Apr 2013) | 2 lines

Enhancement: pre-allocate some fmt for logger. This should help with #1087.

------------------------------------------------------------------------
r8760 | eicker | 2013-04-30 18:38:44 +0200 (Tue, 30 Apr 2013) | 2 lines

More visible warnings on incompatibilities in NEWS.

------------------------------------------------------------------------
r8759 | eicker | 2013-03-08 18:59:04 +0100 (Fri, 08 Mar 2013) | 5 lines

Bugfix: Ensure, PSP_CD_RELEASE message is correctly dropped to prevent
    hanging processes.
Bugfix: Correctly drop PSP_CD_NOTIFYDEAD messages. At the same time
    don't send remote PSP_NOTIFYDEADRES messages twice.

------------------------------------------------------------------------
r8755 | eicker | 2013-03-04 18:22:02 +0100 (Mon, 04 Mar 2013) | 2 lines

New version (psmgmt-5.0.42)

------------------------------------------------------------------------


Version psmgmt-5.0.42:
======================
------------------------------------------------------------------------
r8754 | eicker | 2013-03-04 15:18:09 +0100 (Mon, 04 Mar 2013) | 2 lines

Enhancement: pre-allocate some txt for logger. This should help with #1087.

------------------------------------------------------------------------
r8753 | eicker | 2013-02-28 19:04:53 +0100 (Thu, 28 Feb 2013) | 3 lines

Enhancement: Prevent first chunk of signal structures from free(). This
    should help with #1087.

------------------------------------------------------------------------
r8752 | eicker | 2013-02-28 19:04:02 +0100 (Thu, 28 Feb 2013) | 3 lines

Enhancement: Prevent first chunk of message buffers from free(). This
should help with #1087.

------------------------------------------------------------------------
r8751 | eicker | 2013-02-28 19:02:49 +0100 (Thu, 28 Feb 2013) | 3 lines

Enhancement: pre-allocate some trail for logger. This should help with
    #1087.

------------------------------------------------------------------------
r8750 | rauh | 2013-02-27 13:37:10 +0100 (Wed, 27 Feb 2013) | 3 lines

Enhancement: keep a history of the last accounted jobs to
    suppress confusing error messages

------------------------------------------------------------------------
r8749 | rauh | 2013-02-27 11:37:27 +0100 (Wed, 27 Feb 2013) | 2 lines

Enhancement: make hooks used by pspmi plugin official. Pushed plugin API to 110.

------------------------------------------------------------------------
r8748 | rauh | 2013-02-21 11:46:07 +0100 (Thu, 21 Feb 2013) | 2 lines

Bugfix: print all help messages of mpiexec to stdout (#1926)

------------------------------------------------------------------------
r8747 | rauh | 2013-02-21 11:38:07 +0100 (Thu, 21 Feb 2013) | 2 lines

Enhancement: show timeout option of mpiexec in help output

------------------------------------------------------------------------
r8746 | rauh | 2013-02-18 16:43:06 +0100 (Mon, 18 Feb 2013) | 6 lines

Enhancement: Avoid directory clash of /var/account (#1930).
Enhancement: Let the psaccounter started by psid run as root.
Enhancement: Let ordinary users only get their own accounting
    records using psaccounter. Adminusers may receive accounting
    data from everyone..

------------------------------------------------------------------------
r8745 | eicker | 2013-02-15 19:09:00 +0100 (Fri, 15 Feb 2013) | 2 lines

Let psid print some info from malloc on SIGUSR2.

------------------------------------------------------------------------
r8744 | rauh | 2013-02-13 08:59:33 +0100 (Wed, 13 Feb 2013) | 2 lines

Enhancement: let MPI processes fail if no pspmi plugin is loaded.

------------------------------------------------------------------------
r8743 | rauh | 2013-02-12 12:28:39 +0100 (Tue, 12 Feb 2013) | 2 lines

Removed leftover debug output.

------------------------------------------------------------------------
r8742 | rauh | 2013-02-12 11:46:31 +0100 (Tue, 12 Feb 2013) | 2 lines

Removed obsolete files.

------------------------------------------------------------------------
r8741 | rauh | 2013-02-12 11:45:42 +0100 (Tue, 12 Feb 2013) | 11 lines

Remark: The pspmi plugin is now mandatory for the MPI2 startup and should
be added as default to the parastation configuration.
Remark: Pushed pslog to version 3. This new version is *NOT* compatible
with older parastation versions.
Enhancement: The PMI layer moved from the psidforwarder into the pspmi plugin.
Enhancement: Use dynamic structures for the KVS implementation.
Enhancement: Optimized distribution of PMI values and keys over daisy chain.
Enhancement: #1539 prepared support for PMI spawn (actual spawning still missing).
Enhancement: Removed old compability code to support PMI without a daisy chain.

------------------------------------------------------------------------
r8740 | moschny | 2013-02-08 18:47:00 +0100 (Fri, 08 Feb 2013) | 1 line

Update dist/Makefile from git.ccc:psbuild.
------------------------------------------------------------------------
r8739 | eicker | 2013-02-08 13:55:16 +0100 (Fri, 08 Feb 2013) | 2 lines

Simplify creation of coredumps in forwarder

------------------------------------------------------------------------
r8738 | eicker | 2013-02-08 13:53:29 +0100 (Fri, 08 Feb 2013) | 2 lines

Bugfix: Fix possible segmentation-fault in psiadmin's auto-completion.

------------------------------------------------------------------------
r8737 | eicker | 2013-02-08 13:51:33 +0100 (Fri, 08 Feb 2013) | 2 lines

Bugfix: Fix memory-leak in psiadmin's parser.

------------------------------------------------------------------------
r8733 | eicker | 2013-02-05 20:15:29 +0100 (Tue, 05 Feb 2013) | 2 lines

New release (psmgmt-5.0.41-2)

------------------------------------------------------------------------


Version psmgmt-5.0.41-2:
========================
------------------------------------------------------------------------
r8732 | eicker | 2013-02-05 20:11:49 +0100 (Tue, 05 Feb 2013) | 2 lines

Enable coredumps of forwarder on SIGPIPE for debugging purposes.

------------------------------------------------------------------------
r8731 | eicker | 2013-02-04 12:27:19 +0100 (Mon, 04 Feb 2013) | 2 lines

Improve .gdbinit's user-function documentation (again).

------------------------------------------------------------------------
r8730 | eicker | 2013-02-01 18:23:58 +0100 (Fri, 01 Feb 2013) | 2 lines

Let the compiler check for unused variables.

------------------------------------------------------------------------
r8729 | eicker | 2013-02-01 18:19:53 +0100 (Fri, 01 Feb 2013) | 2 lines

Enhancement: Some more sketches of the PSIcomm API.

------------------------------------------------------------------------
r8725 | eicker | 2013-01-30 18:48:13 +0100 (Wed, 30 Jan 2013) | 2 lines

New release (psmgmt-5.0.41-1)

------------------------------------------------------------------------

Version psmgmt-5.0.41-1:
========================
------------------------------------------------------------------------
r8724 | eicker | 2013-01-30 18:44:16 +0100 (Wed, 30 Jan 2013) | 2 lines

Enhancement: First draft of the PSIcomm API.

------------------------------------------------------------------------
r8723 | eicker | 2013-01-30 17:53:40 +0100 (Wed, 30 Jan 2013) | 3 lines

Bugfix: Prevent call of iterations over message-buffers recursively.
    This should fix new problems reported on JUDGE (JUDGE-TRAC #412)

------------------------------------------------------------------------
r8719 | eicker | 2013-01-25 23:57:02 +0100 (Fri, 25 Jan 2013) | 2 lines

New version (psmgmt-5.0.41)

------------------------------------------------------------------------

Version psmgmt-5.0.41:
======================
------------------------------------------------------------------------
r8718 | eicker | 2013-01-25 18:44:01 +0100 (Fri, 25 Jan 2013) | 3 lines

Bugfix: Prevent lists of messages-buffers from corruption due to
    asynchronous operations.

------------------------------------------------------------------------
r8717 | eicker | 2013-01-25 18:31:13 +0100 (Fri, 25 Jan 2013) | 2 lines

Prevent warning during compile

------------------------------------------------------------------------
r8716 | eicker | 2013-01-25 16:31:51 +0100 (Fri, 25 Jan 2013) | 3 lines

Enancement: Try to speedup (un-)blocking of SIGCHLD handling by preventing
    actual syscalls. Instead, internal flags are raised.

------------------------------------------------------------------------
r8715 | eicker | 2013-01-25 16:28:34 +0100 (Fri, 25 Jan 2013) | 4 lines

Enancement: Try to speedup (un-)blocking of timers by cashing the latest
    search-result. This should prevent from iterations through the list of
    timers.

------------------------------------------------------------------------
r8714 | eicker | 2013-01-23 21:53:32 +0100 (Wed, 23 Jan 2013) | 2 lines

Minor adaptions and enhancements of gdb functions.

------------------------------------------------------------------------
r8713 | moschny | 2013-01-16 11:32:55 +0100 (Wed, 16 Jan 2013) | 1 line

Run autoreconf.
------------------------------------------------------------------------
r8712 | moschny | 2013-01-16 11:24:43 +0100 (Wed, 16 Jan 2013) | 1 line

Add missing header include for setrlimit().
------------------------------------------------------------------------
r8708 | eicker | 2013-01-10 00:32:49 +0100 (Thu, 10 Jan 2013) | 2 lines

New release (psmgmt-5.0.40-2)

------------------------------------------------------------------------

Version psmgmt-5.0.40-2:
========================
------------------------------------------------------------------------
r8707 | eicker | 2013-01-09 19:08:27 +0100 (Wed, 09 Jan 2013) | 2 lines

New helper function for use within gdb on bug analysis.

------------------------------------------------------------------------
r8706 | eicker | 2013-01-08 22:31:54 +0100 (Tue, 08 Jan 2013) | 2 lines

Bugfix: Prevent from message floods due to flow-control. (#1907)

------------------------------------------------------------------------
r8705 | eicker | 2013-01-08 22:30:07 +0100 (Tue, 08 Jan 2013) | 3 lines

Bugfix: Block any asynchronous action while doing garbage collection on
    message buffers. (#1904 / #1907)

------------------------------------------------------------------------
r8704 | eicker | 2013-01-08 22:27:34 +0100 (Tue, 08 Jan 2013) | 3 lines

Bugfix: Prevent race-condition that might lead to double free() of
    msgbufs (#1904 / #1907)

------------------------------------------------------------------------
r8703 | eicker | 2013-01-08 22:22:45 +0100 (Tue, 08 Jan 2013) | 3 lines

Enhancement: Only do PStask_gcSig() with expensive blocking of signals,
    if required.

------------------------------------------------------------------------
r8702 | eicker | 2013-01-08 22:21:39 +0100 (Tue, 08 Jan 2013) | 3 lines

Enhancement: Allow to check via PStask_gcSigRequired(), if garbage
    collection of signal structures is required.

------------------------------------------------------------------------
r8701 | eicker | 2013-01-08 22:19:01 +0100 (Tue, 08 Jan 2013) | 2 lines

Fix whitespace and copyright.

------------------------------------------------------------------------
r8700 | rauh | 2013-01-07 12:43:05 +0100 (Mon, 07 Jan 2013) | 2 lines

Bugfix: don't let the init script confuse psidforwarder with the main psid process

------------------------------------------------------------------------
r8696 | eicker | 2012-12-20 17:05:49 +0100 (Thu, 20 Dec 2012) | 2 lines

New release (psmgmt-5.0.40-1)

------------------------------------------------------------------------

Version psmgmt-5.0.40-1:
========================
------------------------------------------------------------------------
r8695 | moschny | 2012-12-20 16:37:18 +0100 (Thu, 20 Dec 2012) | 1 line

Cosmetics.
------------------------------------------------------------------------
r8694 | moschny | 2012-12-20 16:37:01 +0100 (Thu, 20 Dec 2012) | 1 line

Do not pack pstask.h twice.
------------------------------------------------------------------------
r8693 | moschny | 2012-12-20 14:31:41 +0100 (Thu, 20 Dec 2012) | 11 lines

Fix cpuinfo calls, trying to fix #1896.

The compiler assumes that the output of an inline assembler block with
no input is constant. With -03 it thus starts optimizing away multiple
executions of such a block. This can be avoided by marking the
assembler block as 'volatile'.

At least for getAPIC_ID() the expected result is obviously not a
constant. It doesn't hurt though to also mark all other similar inline
assembler blocks as volatile.

------------------------------------------------------------------------
r8692 | eicker | 2012-12-17 15:11:50 +0100 (Mon, 17 Dec 2012) | 3 lines

Update information on how to release a new version
svninfo.xsl has to be included again to create a tag

------------------------------------------------------------------------
r8688 | eicker | 2012-12-17 14:53:48 +0100 (Mon, 17 Dec 2012) | 2 lines

New version (psmgmt-5.0.40)

------------------------------------------------------------------------

Version psmgmt-5.0.40:
======================
------------------------------------------------------------------------
r8687 | eicker | 2012-12-17 14:32:56 +0100 (Mon, 17 Dec 2012) | 2 lines

Bugfix: Be more careful when asynchronously modifying daemon's signal-lists.

------------------------------------------------------------------------
r8686 | rauh | 2012-12-13 11:20:13 +0100 (Thu, 13 Dec 2012) | 3 lines

Enhancement: Added PSIDHOOK_CREATEPARTNL and pushed the plugin API to 109.
Enhancement: Don't let send stop/cont messages disturb the partition request process.

------------------------------------------------------------------------
r8685 | eicker | 2012-12-13 09:17:51 +0100 (Thu, 13 Dec 2012) | 3 lines

Bugfix: Don't spawn broken tasks, if unable to determine logger's TID
    (#1844).

------------------------------------------------------------------------
r8684 | eicker | 2012-12-11 18:59:27 +0100 (Tue, 11 Dec 2012) | 2 lines

Bugfix: Allow to overbook nodes without pinning (#1877).

------------------------------------------------------------------------
r8683 | eicker | 2012-12-11 18:57:07 +0100 (Tue, 11 Dec 2012) | 2 lines

Enhancement: Add next-keylist for psiadmin's 'set overbook' directive.

------------------------------------------------------------------------
r8682 | rauh | 2012-12-11 10:41:20 +0100 (Tue, 11 Dec 2012) | 2 lines

Added support for the MVAPICH PMI process map extension.

------------------------------------------------------------------------
r8679 | eicker | 2012-11-30 15:17:07 +0100 (Fri, 30 Nov 2012) | 3 lines

Enhancement: Replace some printf() in libpsi by PSI_log() for more
    consistent output.

------------------------------------------------------------------------
r8674 | eicker | 2012-11-20 19:53:56 +0100 (Tue, 20 Nov 2012) | 2 lines

Fix tons of typos.

------------------------------------------------------------------------
r8673 | eicker | 2012-11-20 18:39:50 +0100 (Tue, 20 Nov 2012) | 3 lines

Enhancement: Allocate/free psid's signal structures in large chunks.
Enhancement: Prepare for signal structures marked as deleted.

------------------------------------------------------------------------
r8672 | eicker | 2012-11-20 13:25:23 +0100 (Tue, 20 Nov 2012) | 2 lines

Bugfix: Guard PStask_clone() from rare races on list iterations.

------------------------------------------------------------------------
r8671 | eicker | 2012-11-20 13:20:11 +0100 (Tue, 20 Nov 2012) | 2 lines

Bugfix: Ensure keeping the last chunk of msgbufs.

------------------------------------------------------------------------
r8667 | moschny | 2012-11-09 00:29:30 +0100 (Fri, 09 Nov 2012) | 1 line

Fix "make distcheck".
------------------------------------------------------------------------
r8666 | moschny | 2012-11-09 00:15:26 +0100 (Fri, 09 Nov 2012) | 1 line

Bugfix: "make rpm" failed after "make clean".
------------------------------------------------------------------------
r8665 | eicker | 2012-11-09 00:13:28 +0100 (Fri, 09 Nov 2012) | 2 lines

Make r8664 also working with the old bash of the buildbot

------------------------------------------------------------------------
r8664 | eicker | 2012-11-08 23:35:01 +0100 (Thu, 08 Nov 2012) | 2 lines

Bring "make rpm"'s output into more convenient shape.

------------------------------------------------------------------------
r8663 | rauh | 2012-11-06 16:33:14 +0100 (Tue, 06 Nov 2012) | 2 lines

Added support for MPI_LOCALNRANKS and MPI_LOCALRANKID needed by libpsm

------------------------------------------------------------------------
r8662 | eicker | 2012-11-06 13:56:31 +0100 (Tue, 06 Nov 2012) | 2 lines

Bugfix: Fix typo introduced in r8660.

------------------------------------------------------------------------
r8661 | eicker | 2012-11-06 13:46:24 +0100 (Tue, 06 Nov 2012) | 3 lines

Bugfix: Don't drop message, if buffers are temporarily unavailable in
    the IP stack. Instead try to re-send.

------------------------------------------------------------------------
r8660 | eicker | 2012-11-02 15:35:51 +0100 (Fri, 02 Nov 2012) | 3 lines

Bugfix: Drop message in psid in a controlled way, if sending failed due
    to ENOBUFS.

------------------------------------------------------------------------
r8659 | eicker | 2012-11-02 00:57:28 +0100 (Fri, 02 Nov 2012) | 3 lines

Bugfix: Prevent hanging forwarders due to missed timeout in
    connectLogger(). This was introduced in r8644.

------------------------------------------------------------------------
r8655 | rauh | 2012-10-23 13:17:37 +0200 (Tue, 23 Oct 2012) | 2 lines

Bugfix: fixed psaccount and psresport plugin broken by introduction of autotools

------------------------------------------------------------------------
r8654 | moschny | 2012-10-18 17:05:51 +0200 (Thu, 18 Oct 2012) | 3 lines

- Fix for #1838: pass --datarootdir to configure.
- Use $localstatedir instead of /var.
- Change defaults of $sysconfigdir and $localstatedir to /etc and /var, respectively.
------------------------------------------------------------------------
r8653 | moschny | 2012-10-18 16:53:18 +0200 (Thu, 18 Oct 2012) | 1 line

Older xsltproc cannot read from a FIFO.
------------------------------------------------------------------------
r8652 | moschny | 2012-10-18 15:38:33 +0200 (Thu, 18 Oct 2012) | 1 line

Update authores.
------------------------------------------------------------------------
r8651 | moschny | 2012-10-18 15:37:24 +0200 (Thu, 18 Oct 2012) | 2 lines

- Use xsltproc instead of xmlstarlet.
- Call svn in C locale.
------------------------------------------------------------------------
r8650 | moschny | 2012-10-17 21:02:37 +0200 (Wed, 17 Oct 2012) | 1 line

Remove VERSION, this confuses the buildsystem.
------------------------------------------------------------------------
r8649 | moschny | 2012-10-17 19:37:16 +0200 (Wed, 17 Oct 2012) | 1 line

Merge autotools branch.
------------------------------------------------------------------------
r8646 | eicker | 2012-10-05 17:24:49 +0200 (Fri, 05 Oct 2012) | 2 lines

Fix build of testacct again.

------------------------------------------------------------------------
r8644 | eicker | 2012-09-28 18:55:29 +0200 (Fri, 28 Sep 2012) | 2 lines

Bugfix: Ensure that timeout might expire several times in PSLog_read().

------------------------------------------------------------------------
r8642 | eicker | 2012-09-28 17:28:09 +0200 (Fri, 28 Sep 2012) | 2 lines

Enhancement: Trigger a 1k malloc()/free() cycle via SIGUSR2 to psid.

------------------------------------------------------------------------
r8641 | eicker | 2012-09-28 17:19:53 +0200 (Fri, 28 Sep 2012) | 2 lines

Bugfix: Prevent futile daemon message on selector during shutdown

------------------------------------------------------------------------
r8640 | eicker | 2012-09-28 17:03:10 +0200 (Fri, 28 Sep 2012) | 3 lines

Enhancement: Reduce number of flow-control messages
Enhancement: Don't report on dropped flow-control messages

------------------------------------------------------------------------
r8639 | eicker | 2012-09-21 18:27:35 +0200 (Fri, 21 Sep 2012) | 2 lines

Fix misplaced double-quote introduced in r8636.

------------------------------------------------------------------------
r8638 | eicker | 2012-09-21 18:24:08 +0200 (Fri, 21 Sep 2012) | 2 lines

Revert r8633. Actually the string 'unknown' shall be printed.

------------------------------------------------------------------------
r8637 | eicker | 2012-09-21 18:19:10 +0200 (Fri, 21 Sep 2012) | 5 lines

Bugfix: Catch one corner-case when SIGCHLD is delivered during some
    dead-time of the main-loop (while entering the select() in
    Sselect()). This was introduced in r8632.
Enhancement: Reduce amount of blocking of SIGCHLD in forwarder.

------------------------------------------------------------------------
r8636 | eicker | 2012-09-21 18:11:41 +0200 (Fri, 21 Sep 2012) | 2 lines

Bugfix: Add some missing newlines in psilogger's error-messages.

------------------------------------------------------------------------
r8635 | eicker | 2012-09-21 18:10:20 +0200 (Fri, 21 Sep 2012) | 2 lines

Enhancement: Make pslog more robust against stray signals.

------------------------------------------------------------------------
r8634 | moschny | 2012-09-20 15:13:11 +0200 (Thu, 20 Sep 2012) | 1 line

Fix test_paramspace.c so it compiles at least. Probably needs more fixes.
------------------------------------------------------------------------
r8633 | moschny | 2012-09-19 20:55:16 +0200 (Wed, 19 Sep 2012) | 1 line

Fix SVN keywords. Current SVN versions will only recognize a keyword if it either has no content at all or its content ends with a blank.
------------------------------------------------------------------------
r8632 | eicker | 2012-09-12 11:43:29 +0200 (Wed, 12 Sep 2012) | 3 lines

Enhancement: Use Selector facility within psidforwarder (#1648)
Bugfix: Fix possible deadlock in psidforwarder's signal handler (#1708)

------------------------------------------------------------------------
r8631 | eicker | 2012-09-12 11:37:53 +0200 (Wed, 12 Sep 2012) | 4 lines

Bugfix: Fix one possible deadlock in flow-control between forwarder and
    logger on heavy traffic from both sides. For this, new messages
    types PSP_CD_SENDSTOP and PSP_CD_SENDCONT were introduced.

------------------------------------------------------------------------
r8630 | eicker | 2012-09-10 11:43:57 +0200 (Mon, 10 Sep 2012) | 2 lines

Remove some hacks from config_parsing no longer necessary.

------------------------------------------------------------------------
r8629 | eicker | 2012-09-10 09:13:54 +0200 (Mon, 10 Sep 2012) | 10 lines

Enhancement: Extend parser with next-keylist functionality.
Move PSparamspace into libputil.
Enhancement: PSparamspace auto-generates keylists for auto-completion.
Enhancement: PSparamspace now uses parser's next-keylist functionality.
Enhancement: Implement generic handling of boolean ints in PSparamspace.
Enhancement: Implement 'parameter' directive in psiadmin to allow
    modification of local parameters within the admin (#633).
Enhancement: Allow psiadmin's 'list' directive to show hostnames (#490).
Enhancement: Allow psiadmin's 'show' directive to print hex-numbers (#612).

------------------------------------------------------------------------
r8628 | eicker | 2012-09-10 08:46:44 +0200 (Mon, 10 Sep 2012) | 2 lines

Fix documentation comment.

------------------------------------------------------------------------
r8626 | hauke | 2012-08-29 17:16:23 +0200 (Wed, 29 Aug 2012) | 3 lines

psh: omit newline after prompt when using "-s"

This fix ticket #1797.
------------------------------------------------------------------------
r8625 | eicker | 2012-08-28 18:02:34 +0200 (Tue, 28 Aug 2012) | 3 lines

Collect functional tests in directory tests/functional
Add new test for testing the parameter-space manager.

------------------------------------------------------------------------
r8624 | eicker | 2012-08-28 17:59:35 +0200 (Tue, 28 Aug 2012) | 2 lines

Enhancement: Add parameter-space manager to pscommon.

------------------------------------------------------------------------
r8623 | eicker | 2012-08-28 16:12:45 +0200 (Tue, 28 Aug 2012) | 2 lines

Move getWidth() to PSC_getWidth() as part of libpscommon.

------------------------------------------------------------------------
r8622 | eicker | 2012-08-21 20:16:16 +0200 (Tue, 21 Aug 2012) | 3 lines

Enahncement: Check kernel.pid_max for compatibility with PStask_ID_t
    (#1767).

------------------------------------------------------------------------
r8621 | eicker | 2012-08-17 17:43:38 +0200 (Fri, 17 Aug 2012) | 4 lines

Bugfix: Ensure to really use the correct abstract UNIX socket as the
    local service port
Enhancement: Suppress some warning during daemon's shutdown.

------------------------------------------------------------------------
r8620 | eicker | 2012-07-25 00:39:08 +0200 (Wed, 25 Jul 2012) | 2 lines

Enhancement: Enable binding to memory-nodes as default (#1747).

------------------------------------------------------------------------
r8619 | rauh | 2012-07-13 15:49:35 +0200 (Fri, 13 Jul 2012) | 2 lines

Enhancement: export psaccount sendSignal2AllChildren() for psmom

------------------------------------------------------------------------
r8618 | rauh | 2012-06-22 15:46:19 +0200 (Fri, 22 Jun 2012) | 2 lines

Bugfix: forward client data before cleanup up jobs

------------------------------------------------------------------------
r8616 | rauh | 2012-06-15 13:48:22 +0200 (Fri, 15 Jun 2012) | 5 lines

Enhancement: added configuration file
Enhancement: implemented plugin set/unset commands
Enhancement: instantly cleanup jobs on psmom request
Enhancement: better cleanup of leftover jobs/clients

------------------------------------------------------------------------
r8615 | rauh | 2012-06-12 11:44:09 +0200 (Tue, 12 Jun 2012) | 2 lines

Bugfix: fixed segfault/list corruption in psaccount plugin (#1711)

------------------------------------------------------------------------
r8611 | rauh | 2012-06-01 17:28:07 +0200 (Fri, 01 Jun 2012) | 6 lines

Bugfix: account jobscripts and children from serial jobs
Bugfix: correct accounting of mutlipe mpiexec calls in a parallel job
Enhancement: continously forward accounting information to logger node
Enhancement: implemented show and help calls of plugin API
Enhancement: more debug output

------------------------------------------------------------------------
r8606 | eicker | 2012-05-18 22:40:04 +0200 (Fri, 18 May 2012) | 2 lines

New version (psmgmt-5.0.39)

------------------------------------------------------------------------

Version psmgmt-5.0.39:
======================
------------------------------------------------------------------------
r8605 | eicker | 2012-05-18 22:26:05 +0200 (Fri, 18 May 2012) | 2 lines

Enhancement: Prevent forwarder from excessive logging.

------------------------------------------------------------------------
r8604 | eicker | 2012-05-18 22:25:10 +0200 (Fri, 18 May 2012) | 3 lines

Bugfix: Node might be declared dead while RDP tries to connect. In that
    case messages stored within the daemon have to be cleared.

------------------------------------------------------------------------
r8603 | eicker | 2012-05-18 22:18:44 +0200 (Fri, 18 May 2012) | 2 lines

Bugfix: Don't increase window-size beyond MAX_WINDOW_SIZE.

------------------------------------------------------------------------
r8599 | moschny | 2012-05-02 13:18:59 +0200 (Wed, 02 May 2012) | 3 lines

Removed merge tracking for "svnmerge" for
https://svn.ipd.kit.edu/repos/ParaStation/branches/thomas/psmgmt-qpl

------------------------------------------------------------------------
r8598 | moschny | 2012-05-02 13:12:04 +0200 (Wed, 02 May 2012) | 13 lines

Merged revisions 8587,8591 via svnmerge from
https://svn.ipd.kit.edu/repos/ParaStation/branches/thomas/psmgmt-qpl

........
  r8587 | moschny | 2012-04-26 20:24:50 +0200 (Do, 26 Apr 2012) | 1 line

  Update all headers to QPL.
........
  r8591 | moschny | 2012-04-27 17:54:28 +0200 (Fr, 27 Apr 2012) | 1 line

  Update headers to QPL.
........

------------------------------------------------------------------------
r8597 | moschny | 2012-05-02 13:07:58 +0200 (Wed, 02 May 2012) | 3 lines

Initialized merge tracking via "svnmerge" with revisions "1-8586" from
https://svn.ipd.kit.edu/repos/ParaStation/branches/thomas/psmgmt-qpl

------------------------------------------------------------------------
r8595 | rauh | 2012-05-02 10:58:23 +0200 (Wed, 02 May 2012) | 2 lines

Pushed plugin API version to 108.

------------------------------------------------------------------------
r8593 | moschny | 2012-04-27 19:29:06 +0200 (Fri, 27 Apr 2012) | 7 lines

Make the assembler code in corePerPhysical() more robust against
compiler optimizations by combining the three existing blocks into a
single block, with a single in/out/clobber annotation.

Also use local jump labels instead of global labels to prevent name
clashes.

------------------------------------------------------------------------
r8592 | moschny | 2012-04-27 18:17:00 +0200 (Fri, 27 Apr 2012) | 2 lines

Fix to avoid linker warnings, caused by defining PSID_logger twice.
------------------------------------------------------------------------
r8588 | rauh | 2012-04-27 16:54:01 +0200 (Fri, 27 Apr 2012) | 3 lines

Enhancement: Added startup support for OpenMPI (#580).
An OpenMPI version 1.5 or greater is required.

------------------------------------------------------------------------
r8570 | rauh | 2012-03-13 17:08:47 +0100 (Tue, 13 Mar 2012) | 3 lines

Enhancement: added new features needed by psmom to solve #1477
    (let the healthchecker discover invalid processes)

------------------------------------------------------------------------
r8569 | eicker | 2012-03-08 23:27:46 +0100 (Thu, 08 Mar 2012) | 2 lines

Bugfix: Make pssh's -e and psmstart's --exports options working.

------------------------------------------------------------------------
r8565 | eicker | 2012-03-05 09:09:09 +0100 (Mon, 05 Mar 2012) | 2 lines

New version (psmgmt-5.0.38)

------------------------------------------------------------------------

Version psmgmt-5.0.38:
======================
------------------------------------------------------------------------
r8564 | eicker | 2012-02-24 19:42:47 +0100 (Fri, 24 Feb 2012) | 3 lines

Enhancement: Add support for GridEngine PE-files. (#932)
Fix some typos.

------------------------------------------------------------------------
r8563 | eicker | 2012-02-24 18:43:15 +0100 (Fri, 24 Feb 2012) | 7 lines

Enhancement: Rework the clash detection when defining nodes to run on or
    sorting via command-line argument and environment at the same time.
Enhancement: Detect clashes between batch-system and manual requirements
    on resource
Enhancement: Prepare for SGE support. Actual support not yet
    implemented.

------------------------------------------------------------------------
r8562 | eicker | 2012-02-24 17:30:15 +0100 (Fri, 24 Feb 2012) | 3 lines

Bugfix: syslog() might deadlock when called from within fork() (via some
    signal-handler after receiving a SIGCHLD). Related to r8548 (#5285)

------------------------------------------------------------------------
r8561 | eicker | 2012-02-21 15:23:24 +0100 (Tue, 21 Feb 2012) | 3 lines

Enhancement: Master socket now uses Linux's abstract address. (#1573)
Enhancement: Get rid of explicit lock-file.

------------------------------------------------------------------------
r8559 | eicker | 2012-02-17 16:25:56 +0100 (Fri, 17 Feb 2012) | 3 lines

Enhancement: Add 'silent' option to psiadmin's shutdown directive and be
    more verbose during shutdown (#1572)

------------------------------------------------------------------------
r8558 | eicker | 2012-02-17 09:50:32 +0100 (Fri, 17 Feb 2012) | 2 lines

Move legacy MPI starters into separate sub-package (#1584)

------------------------------------------------------------------------
r8557 | eicker | 2012-02-17 09:15:46 +0100 (Fri, 17 Feb 2012) | 2 lines

Get rid of ELAN-support, since Quadrics QsNet seems to be dead (#1591)

------------------------------------------------------------------------
r8556 | eicker | 2012-01-31 17:41:15 +0100 (Tue, 31 Jan 2012) | 2 lines

Add test/debug plugin to suppress flow-controll on a local daemon.

------------------------------------------------------------------------
r8552 | eicker | 2012-01-31 16:45:48 +0100 (Tue, 31 Jan 2012) | 2 lines

New version (psmgmt-5.0.37)

------------------------------------------------------------------------

Version psmgmt-5.0.37:
======================
------------------------------------------------------------------------
r8551 | eicker | 2012-01-26 19:04:21 +0100 (Thu, 26 Jan 2012) | 3 lines

Enhancement: Prepare psiadmin to print-out hostnames instead of node IDs
    sometime (#490).

------------------------------------------------------------------------
r8550 | eicker | 2012-01-26 19:03:01 +0100 (Thu, 26 Jan 2012) | 2 lines

Improve messages from psid's plugin-handling to psiadmin.

------------------------------------------------------------------------
r8549 | eicker | 2012-01-24 18:20:52 +0100 (Tue, 24 Jan 2012) | 4 lines

Bugfix: Ensure, that all TASKDEAD-messages are delivered to new
    master-psid after failover. Additionally, don't tell new master
    about jobs currently shutting down.

------------------------------------------------------------------------
r8548 | eicker | 2012-01-23 14:49:59 +0100 (Mon, 23 Jan 2012) | 3 lines

Bugfix: Block SIGCHLD while doing syslog() in order to prevent psid from
    deadlocks. syslog() is not re-entrand! (JUDGE-TRAC #141)

------------------------------------------------------------------------
r8547 | eicker | 2012-01-23 13:54:00 +0100 (Mon, 23 Jan 2012) | 2 lines

Add missing timer.h include.

------------------------------------------------------------------------
r8546 | eicker | 2012-01-23 12:46:01 +0100 (Mon, 23 Jan 2012) | 4 lines

Bugfix: connection to syslog has to be re-opened after cleanup for fork()
Bugfix: Get rid of obsolete timer-entries after fork(). Might lead to
    strange behavior, if timer is pending during fork()

------------------------------------------------------------------------
r8545 | eicker | 2011-12-14 14:37:13 +0100 (Wed, 14 Dec 2011) | 2 lines

Bugfix: Remove spurious TAB in output when talking to plugins (#1481).

------------------------------------------------------------------------
r8544 | eicker | 2011-12-14 14:21:37 +0100 (Wed, 14 Dec 2011) | 2 lines

Enhancement: Suppress some warning introduced with gcc 4.6.

------------------------------------------------------------------------
r8543 | eicker | 2011-12-14 13:58:54 +0100 (Wed, 14 Dec 2011) | 3 lines

Bugfix: Actually enable dumping of too-long messages tail. This
    completes the changes done in r8132.

------------------------------------------------------------------------
r8542 | eicker | 2011-12-14 13:53:10 +0100 (Wed, 14 Dec 2011) | 2 lines

Include stub into test-plugin for extraordinary long help-messages.

------------------------------------------------------------------------
r8541 | eicker | 2011-12-12 17:57:43 +0100 (Mon, 12 Dec 2011) | 3 lines

Bugfix: Selectors shall be removed when corresponding file-descriptor is
    closed.

------------------------------------------------------------------------
r8530 | eicker | 2011-12-06 17:48:57 +0100 (Tue, 06 Dec 2011) | 2 lines

New version (psmgmt-5.0.36)

------------------------------------------------------------------------

Version psmgmt-5.0.36:
======================
------------------------------------------------------------------------
r8529 | eicker | 2011-12-06 17:40:38 +0100 (Tue, 06 Dec 2011) | 2 lines

Bugfix: Beautify psiadmin's 'plugin help/show/...' output (#1481)

------------------------------------------------------------------------
r8528 | rauh | 2011-12-05 17:40:01 +0100 (Mon, 05 Dec 2011) | 3 lines

Bugfix: (quick fix) psaccount logging via mlog in the psmom forwarder can let it
exit unexpectedly.

------------------------------------------------------------------------
r8527 | eicker | 2011-11-30 17:15:28 +0100 (Wed, 30 Nov 2011) | 2 lines

Enhancement: Replace gethostbyname() with getaddrinfo() (#654).

------------------------------------------------------------------------
r8526 | eicker | 2011-11-25 17:59:03 +0100 (Fri, 25 Nov 2011) | 3 lines

Enhancement: If PSI_LOG_SILENT is set, logger will suppress all output
    besides client-messages.

------------------------------------------------------------------------
r8525 | eicker | 2011-11-24 13:41:15 +0100 (Thu, 24 Nov 2011) | 2 lines

Bugfix: If old task-structure found during enqueue delete the right one.

------------------------------------------------------------------------
r8524 | eicker | 2011-11-22 18:24:51 +0100 (Tue, 22 Nov 2011) | 9 lines

Next generation plugin API:
- support set(), unset(), show(), help() methods
- new admin-directives: 'plugin set', 'plugin unset', 'plugin show',
- new admin-directives: 'plugin help'
- new admin-directives: 'plugin avail'
- new admin-directives: 'show/set pluginUnloadTmout'
- new admin-directives: 'show pluginAPIver'
- new admin-directives: 'plugin loadtime'

------------------------------------------------------------------------
r8520 | eicker | 2011-10-20 13:49:05 +0200 (Thu, 20 Oct 2011) | 2 lines

Extend plugin1 by tests of new plugin API

------------------------------------------------------------------------
r8519 | eicker | 2011-10-19 18:09:36 +0200 (Wed, 19 Oct 2011) | 5 lines

Add definitions for new plugin actions (help, set, unset, show)
New helpers to add data to messages (PSP_strLen(), PSP_putMsgBuf(),
   PSP_putTypedMsgBuf())
Fix typos

------------------------------------------------------------------------
r8518 | eicker | 2011-10-19 18:00:55 +0200 (Wed, 19 Oct 2011) | 2 lines

Add definition of next-generation plugin interface.

------------------------------------------------------------------------
r8517 | eicker | 2011-09-19 13:49:58 +0200 (Mon, 19 Sep 2011) | 2 lines

Push plugn-API to reflect Timer_registerEnhanced()

------------------------------------------------------------------------
r8516 | eicker | 2011-09-19 13:42:54 +0200 (Mon, 19 Sep 2011) | 3 lines

Enhancement: Create new type of timeout-handlers receiving the timer ID
    and additional information upon elapse. This implements #1361.

------------------------------------------------------------------------
r8515 | eicker | 2011-09-19 13:24:52 +0200 (Mon, 19 Sep 2011) | 2 lines

Fix typos.

------------------------------------------------------------------------
r8514 | eicker | 2011-09-09 20:06:19 +0200 (Fri, 09 Sep 2011) | 5 lines

Enhancement: psid shall not block SIGCHLD most of the time. Instead,
    only critical code-regions are fenced by blocked SIGCHLD. This
    should help with #1333
Fix many typos (childs -> children)

------------------------------------------------------------------------
r8510 | eicker | 2011-08-29 16:04:27 +0200 (Mon, 29 Aug 2011) | 2 lines

New version (psmgmt-5.0.35)

------------------------------------------------------------------------

Version psmgmt-5.0.35:
======================
------------------------------------------------------------------------
r8509 | rauh | 2011-08-29 15:42:49 +0200 (Mon, 29 Aug 2011) | 3 lines

Enhancement: sendSignal2Session() returns now the number of children the
signal was sent to

------------------------------------------------------------------------
r8508 | eicker | 2011-08-26 14:12:19 +0200 (Fri, 26 Aug 2011) | 3 lines

Enhancement: Suppress unnecessary warning messages when psilogger
    receives duplicate FINALIZE message (#1304).

------------------------------------------------------------------------
r8507 | eicker | 2011-08-26 13:26:38 +0200 (Fri, 26 Aug 2011) | 3 lines

Enhancement: Implement raw-mode in psilogger. This is used by 'pssh -r'
    in order to enable pssh to be used as transport for rsync (#504).

------------------------------------------------------------------------
r8506 | eicker | 2011-08-22 13:35:32 +0200 (Mon, 22 Aug 2011) | 3 lines

Enhancement: Cancel PMI-barrier warning after all clients joined. This
    implements #1172.

------------------------------------------------------------------------
r8502 | eicker | 2011-08-22 09:20:00 +0200 (Mon, 22 Aug 2011) | 4 lines

Bugfix: Enhanced implementation of #1280. This should allow mpiexec from
    within script started via pssh, too. This is used whenever
    pshealthcheck's stress-test is invoked via pssh.

------------------------------------------------------------------------
r8501 | eicker | 2011-08-22 09:12:21 +0200 (Mon, 22 Aug 2011) | 2 lines

Fix many typos.

------------------------------------------------------------------------
r8497 | eicker | 2011-08-19 18:22:24 +0200 (Fri, 19 Aug 2011) | 2 lines

New release (psmgmt-5.0.34-4)

------------------------------------------------------------------------
r8493 | eicker | 2011-08-19 18:11:18 +0200 (Fri, 19 Aug 2011) | 2 lines

New release (psmgmt-5.0.34-3)

------------------------------------------------------------------------
r8492 | eicker | 2011-08-19 18:06:42 +0200 (Fri, 19 Aug 2011) | 4 lines

Bugfix: Correct detection of psiadmin connecting from within script
    started via pssh. This should fix #1280.
Enhancement: Find and destroy left-over task structures.

------------------------------------------------------------------------
r8491 | eicker | 2011-08-19 17:39:24 +0200 (Fri, 19 Aug 2011) | 2 lines

Add sample .gdbinit with some usefull functions for debugging psid.

------------------------------------------------------------------------
r8490 | eicker | 2011-08-19 17:38:05 +0200 (Fri, 19 Aug 2011) | 3 lines

Improve comments
Fix some more typos, whitespace, etc.

------------------------------------------------------------------------
r8489 | rauh | 2011-08-19 16:48:25 +0200 (Fri, 19 Aug 2011) | 2 lines

fixed some typos

------------------------------------------------------------------------
r8488 | rauh | 2011-08-19 16:40:57 +0200 (Fri, 19 Aug 2011) | 2 lines

Enhancement: let the forwarders set there process title

------------------------------------------------------------------------
r8484 | eicker | 2011-08-18 14:45:32 +0200 (Thu, 18 Aug 2011) | 2 lines

New release (psmgmt-5.0.34-2)

------------------------------------------------------------------------
r8483 | eicker | 2011-08-18 14:42:44 +0200 (Thu, 18 Aug 2011) | 3 lines

Make psid's argv accessible in order to enable forwarders to change
    their argv[0] (nice for clearer output of ps(1)).

------------------------------------------------------------------------
r8482 | eicker | 2011-07-22 19:50:59 +0200 (Fri, 22 Jul 2011) | 2 lines

Adapt version of plugin API due to last change.

------------------------------------------------------------------------
r8481 | eicker | 2011-07-22 19:48:53 +0200 (Fri, 22 Jul 2011) | 2 lines

Enhancement: PSIDHOOK_SHUTDOWN realized. This implements #1215.

------------------------------------------------------------------------
r8477 | eicker | 2011-07-21 16:29:56 +0200 (Thu, 21 Jul 2011) | 2 lines

New version (psmgmt-5.0.34)

------------------------------------------------------------------------

Version psmgmt-5.0.34:
======================
------------------------------------------------------------------------
r8476 | eicker | 2011-07-21 16:15:18 +0200 (Thu, 21 Jul 2011) | 2 lines

Improve documentation of hooks.

------------------------------------------------------------------------
r8475 | eicker | 2011-07-21 11:30:49 +0200 (Thu, 21 Jul 2011) | 2 lines

Enhancement: create psmgmt-devel RPM. This implements #1100.

------------------------------------------------------------------------
r8474 | eicker | 2011-07-15 17:55:30 +0200 (Fri, 15 Jul 2011) | 3 lines

Enhancement: Make multiple occurrences of mpiexec -e option behave as naively
    expected. This should implement jt:#4515

------------------------------------------------------------------------
r8470 | eicker | 2011-07-14 20:04:05 +0200 (Thu, 14 Jul 2011) | 2 lines

New release (psmgmt-5.0.33-2)

------------------------------------------------------------------------
r8469 | eicker | 2011-07-14 20:00:16 +0200 (Thu, 14 Jul 2011) | 3 lines

Bugfix: Print out numerical IP address, if psiadmin's 'resolve' directive
    cannot resolve hostname.

------------------------------------------------------------------------
r8468 | eicker | 2011-07-14 19:27:39 +0200 (Thu, 14 Jul 2011) | 2 lines

Bugfix: Use correct protocol-version to encode partition requests.

------------------------------------------------------------------------
r8464 | eicker | 2011-07-13 18:18:05 +0200 (Wed, 13 Jul 2011) | 2 lines

New version (psmgmt-5.0.33)

------------------------------------------------------------------------

Version psmgmt-5.0.33:
======================
------------------------------------------------------------------------
r8463 | eicker | 2011-07-05 13:59:06 +0200 (Tue, 05 Jul 2011) | 3 lines

Enhancement: Propagate user's PATH and LIBRARY_PATH environment to
    spawned processes. This should implement #1173.

------------------------------------------------------------------------
r8462 | eicker | 2011-07-05 13:49:39 +0200 (Tue, 05 Jul 2011) | 3 lines

Don't propagate LD_LIBRARY_PATH explicitly in mpiexec. This is done
    implicitly within PSE which is used by mpiexec.

------------------------------------------------------------------------
r8461 | eicker | 2011-07-02 02:28:23 +0200 (Sat, 02 Jul 2011) | 3 lines

Suppress various warning while building RPM. This includes forcing the
    -fno-strict-aliasing option to allow explicit mapping of pointers.

------------------------------------------------------------------------
r8460 | eicker | 2011-07-02 01:45:55 +0200 (Sat, 02 Jul 2011) | 3 lines

Bugfix: Accounter will violate array boundary during construction.
Suppress one new warning seen with gcc 4.5.1 on openSUSE 11.4.

------------------------------------------------------------------------
r8459 | rauh | 2011-06-29 14:10:13 +0200 (Wed, 29 Jun 2011) | 3 lines

added psaccount plugin which provides advanced accounting
functionality

------------------------------------------------------------------------
r8458 | eicker | 2011-06-10 23:51:40 +0200 (Fri, 10 Jun 2011) | 4 lines

Bugfix: Create SENDCONT messages, if packet is dropped on
    RDP-connection. This should fix problems with flow-control to the
    psaccounter daemon.

------------------------------------------------------------------------
r8457 | eicker | 2011-05-31 08:20:43 +0200 (Tue, 31 May 2011) | 3 lines

Add user instead of set user in configuration file.
Fix typos.

------------------------------------------------------------------------
r8456 | eicker | 2011-05-17 13:18:54 +0200 (Tue, 17 May 2011) | 2 lines

Beautify comments.

------------------------------------------------------------------------
r8455 | rauh | 2011-05-16 15:54:22 +0200 (Mon, 16 May 2011) | 2 lines

Pushed plugin API version to 103.

------------------------------------------------------------------------
r8454 | rauh | 2011-05-13 10:31:00 +0200 (Fri, 13 May 2011) | 2 lines

Added more detailed description for CreatePart hook

------------------------------------------------------------------------
r8453 | eicker | 2011-05-12 16:02:56 +0200 (Thu, 12 May 2011) | 2 lines

Bugfix: Suppress unnecessary warning, if allocation of partition fails.

------------------------------------------------------------------------
r8452 | rauh | 2011-05-12 14:40:15 +0200 (Thu, 12 May 2011) | 3 lines

Enhancement: added new hook for psmom to change partition requests
Bugfix: let PSIDhook_call() return PSIDHOOK_NOFUNC if no hook is registered

------------------------------------------------------------------------
r8448 | eicker | 2011-05-11 20:01:12 +0200 (Wed, 11 May 2011) | 2 lines

New release (psmgmt-5.0.32-1)

------------------------------------------------------------------------
r8447 | eicker | 2011-05-10 11:49:34 +0200 (Tue, 10 May 2011) | 2 lines

Bugfix: Fix minor race between hooks and plugins in psid during startup

------------------------------------------------------------------------
r8446 | eicker | 2011-05-04 09:34:40 +0200 (Wed, 04 May 2011) | 2 lines

Bugfix: Releasing the psiadmin's parser too early breaks range command.

------------------------------------------------------------------------
r8442 | eicker | 2011-04-15 18:54:15 +0200 (Fri, 15 Apr 2011) | 2 lines

New version (psmgmt-5.0.32)

------------------------------------------------------------------------

Version psmgmt-5.0.32:
======================
------------------------------------------------------------------------
r8441 | eicker | 2011-04-15 18:26:26 +0200 (Fri, 15 Apr 2011) | 5 lines

Push version of plugin API. This reflect the various changes since
    psmgmt-5.0.31 like fixing the behavior of initialize(),
    implementation if logging_finalize() to allow dynamical loggers, the
    new framework for hooks and dynamical drop-handlers.

------------------------------------------------------------------------
r8440 | eicker | 2011-04-15 18:18:02 +0200 (Fri, 15 Apr 2011) | 4 lines

Enhancement: Implement dynamic handling of dropping messages via
    handler-functions that might be registered dynamically. This should
    implement #992.

------------------------------------------------------------------------
r8439 | eicker | 2011-04-15 16:53:01 +0200 (Fri, 15 Apr 2011) | 6 lines

Enhancement: Make user's allowance to influence to mapping of processes
    onto physical cores configurable. Both ways are implemented, persistent
    configuration via /etc/parastation.conf and live-configuration via
    psiadmin.
Fix typos.

------------------------------------------------------------------------
r8438 | eicker | 2011-04-15 15:52:31 +0200 (Fri, 15 Apr 2011) | 2 lines

Implement CPU-mapping to be steered by users via __PSI_CPUMAP.

------------------------------------------------------------------------
r8437 | eicker | 2011-04-15 13:56:53 +0200 (Fri, 15 Apr 2011) | 3 lines

Add some comments concerning blocking of timer.
Fix typos.

------------------------------------------------------------------------
r8436 | eicker | 2011-04-14 12:02:00 +0200 (Thu, 14 Apr 2011) | 2 lines

Adapt test-plugins to fixes of the plugin API.

------------------------------------------------------------------------
r8435 | eicker | 2011-04-14 11:53:06 +0200 (Thu, 14 Apr 2011) | 4 lines

Bugfix: Change behavior of plugin's initialize() method as described in
    the Wiki. I.e. initialize() now returns an int signaling the success
    of initialization. This should fix #1096.

------------------------------------------------------------------------
r8434 | eicker | 2011-04-13 17:47:07 +0200 (Wed, 13 Apr 2011) | 2 lines

Let some test-plugins make use of the hooks.

------------------------------------------------------------------------
r8433 | eicker | 2011-04-13 17:46:12 +0200 (Wed, 13 Apr 2011) | 4 lines

Enhancement: Implement daemon's hook-framework. Currently there exists
    just two hooks: PSIDHOOK_NODE_UP and PSIDHOOK_NODE_DOWN. This is
    required by the psmom plugin.

------------------------------------------------------------------------
r8432 | eicker | 2011-04-12 19:39:19 +0200 (Tue, 12 Apr 2011) | 2 lines

Ensure errno is valid after send() returns while sending to client.

------------------------------------------------------------------------
r8431 | eicker | 2011-04-12 19:28:28 +0200 (Tue, 12 Apr 2011) | 3 lines

Bugfix: Unblock timer in RDP, if Rsendto() fails due to shortness in
    message buffers. This should fix #1077.

------------------------------------------------------------------------
r8430 | eicker | 2011-04-12 13:38:00 +0200 (Tue, 12 Apr 2011) | 3 lines

Let Sselect() report on interrupts due to signals, if no timeout is
    given. This is required for psmom's forwarder process.

------------------------------------------------------------------------
r8429 | eicker | 2011-03-25 19:06:30 +0100 (Fri, 25 Mar 2011) | 3 lines

Bugfix: Don't try to read executable, if reading is not allowed. This
    should fix #1058.

------------------------------------------------------------------------
r8428 | eicker | 2011-03-24 16:08:56 +0100 (Thu, 24 Mar 2011) | 3 lines

Bugfix: Free the list of plugins to load as defined in
    parastation.conf. This should fix #1009.

------------------------------------------------------------------------
r8427 | eicker | 2011-03-24 11:21:08 +0100 (Thu, 24 Mar 2011) | 4 lines

Mark some functions explicitely as deprecated via __attribute__.
Remove support for Myrinet in ParaStation4 marked as deprecated long
    before.

------------------------------------------------------------------------
r8426 | eicker | 2011-03-24 10:44:01 +0100 (Thu, 24 Mar 2011) | 3 lines

Implement and enable PSI_finalizeLog().
Make use of logger_finalize() functionality.

------------------------------------------------------------------------
r8425 | eicker | 2011-03-24 10:43:02 +0100 (Thu, 24 Mar 2011) | 2 lines

Make use of logger_finalize() functionality.

------------------------------------------------------------------------
r8424 | eicker | 2011-03-24 10:42:24 +0100 (Thu, 24 Mar 2011) | 2 lines

Make use of logger_finalize() functionality.

------------------------------------------------------------------------
r8423 | eicker | 2011-03-24 10:34:26 +0100 (Thu, 24 Mar 2011) | 2 lines

Rework psid's logging. This enables logger_finalize() functionality.

------------------------------------------------------------------------
r8422 | eicker | 2011-03-24 10:30:21 +0100 (Thu, 24 Mar 2011) | 3 lines

Rework psilogger's output creation. This enables logger_finalize()
    functionality

------------------------------------------------------------------------
r8421 | eicker | 2011-03-24 10:28:06 +0100 (Thu, 24 Mar 2011) | 2 lines

Implement PSC_finalizeLog(). This enables logger_finalize() functionality.

------------------------------------------------------------------------
r8420 | eicker | 2011-03-24 10:25:53 +0100 (Thu, 24 Mar 2011) | 2 lines

Fix type in error message.

------------------------------------------------------------------------
r8419 | eicker | 2011-03-24 10:24:55 +0100 (Thu, 24 Mar 2011) | 3 lines

Make use of parser_finalize() functionality.
Fix minor memory-leaks in psiadmin.

------------------------------------------------------------------------
r8418 | eicker | 2011-03-24 10:12:26 +0100 (Thu, 24 Mar 2011) | 4 lines

Implement parser_finalize(). This should help with #1010.
Rework parser's comment-system. parser_commentCont() now deprecated.
Fix minor memory-leaks in parser-system.

------------------------------------------------------------------------
r8417 | eicker | 2011-03-22 21:02:23 +0100 (Tue, 22 Mar 2011) | 3 lines

Implement logging_finalize() to free all resources used by a logger.
    This should help with #1010.

------------------------------------------------------------------------
r8416 | eicker | 2011-03-18 14:27:21 +0100 (Fri, 18 Mar 2011) | 2 lines

Bugfix: Fix pssh's behavior for interactive sessions.

------------------------------------------------------------------------
r8412 | eicker | 2011-03-16 16:58:39 +0100 (Wed, 16 Mar 2011) | 2 lines

New version (psmgmt-5.0.31)

------------------------------------------------------------------------

Version psmgmt-5.0.31:
======================
------------------------------------------------------------------------
r8411 | eicker | 2011-03-16 16:55:03 +0100 (Wed, 16 Mar 2011) | 2 lines

Distribute NEWS-file within RPM.

------------------------------------------------------------------------
r8410 | eicker | 2011-03-16 13:47:21 +0100 (Wed, 16 Mar 2011) | 2 lines

Improve testing on failed initialization of loggers.

------------------------------------------------------------------------
r8409 | eicker | 2011-03-16 12:48:23 +0100 (Wed, 16 Mar 2011) | 3 lines

Enhancement: Unload plugins explicitly before daemon finally shuts
    down. This should finally implement #562.

------------------------------------------------------------------------
r8408 | eicker | 2011-03-16 12:44:37 +0100 (Wed, 16 Mar 2011) | 2 lines

Some more plugins for psid-plugin debugging.

------------------------------------------------------------------------
r8407 | eicker | 2011-03-14 20:03:35 +0100 (Mon, 14 Mar 2011) | 4 lines

Bugfix: Catch some possible segmentation-faults, if realloc during
    logging fails.
Enhance documentation for logging-facility.

------------------------------------------------------------------------
r8406 | eicker | 2011-03-04 17:28:59 +0100 (Fri, 04 Mar 2011) | 4 lines

Enhancement: Make RDP-statistics persistently configurable.
Enhancement: Make RDP-statistics switchable during runtime.
Enhancement: Nicer output if psiadmin's 'list rdp' and 'list rdpconn'.

------------------------------------------------------------------------
r8405 | eicker | 2011-03-04 16:00:26 +0100 (Fri, 04 Mar 2011) | 2 lines

Enhancement: Let psiadmin accept range of the form last-first, too (#1014).

------------------------------------------------------------------------
r8404 | eicker | 2011-03-03 23:17:55 +0100 (Thu, 03 Mar 2011) | 5 lines

Enhancement: RDP now reports on MTTA (mean time to ACK) in msec.
    For this, psiadmin 'list rdp' was splitted into 'list rdp' reporting
    the current status of the connection and 'list rdpconn' giving
    additional info concerning the connections.

------------------------------------------------------------------------
r8403 | eicker | 2011-03-03 09:07:46 +0100 (Thu, 03 Mar 2011) | 2 lines

White-space cleanup.

------------------------------------------------------------------------
r8402 | eicker | 2011-03-03 09:00:58 +0100 (Thu, 03 Mar 2011) | 3 lines

Enhancement: Get rid of DIY list in partition handling (#449)
Bugfix: Close memory leak in partition handling (#794)

------------------------------------------------------------------------
r8401 | eicker | 2011-03-02 11:03:17 +0100 (Wed, 02 Mar 2011) | 2 lines

Bugfix: Prevent psid from segfaulting, if PSI_TPP erroneously set to 0.

------------------------------------------------------------------------
r8400 | eicker | 2011-02-25 20:37:15 +0100 (Fri, 25 Feb 2011) | 3 lines

Improve compatibility with older protocol-versions. This fixes minor
    flaws introduced with r8397.

------------------------------------------------------------------------
r8399 | eicker | 2011-02-25 19:34:08 +0100 (Fri, 25 Feb 2011) | 3 lines

Fix one compiler-warning. It makes sense to have unsigned
    message-lengths.

------------------------------------------------------------------------
r8398 | eicker | 2011-02-25 19:30:39 +0100 (Fri, 25 Feb 2011) | 3 lines

Bugfix: Take RDP-header into account when calculating maximum message
    size for protocols. This should fix #459.

------------------------------------------------------------------------
r8397 | eicker | 2011-02-25 19:17:11 +0100 (Fri, 25 Feb 2011) | 3 lines

Bugfix: Allow for long working-directories, arguments and
    argument-vectors when spawning processes. This should fix #740.

------------------------------------------------------------------------
r8396 | eicker | 2011-02-25 19:14:49 +0100 (Fri, 25 Feb 2011) | 2 lines

Enhance error messages within PSI_sendMsg().

------------------------------------------------------------------------
r8395 | eicker | 2011-02-25 19:01:41 +0100 (Fri, 25 Feb 2011) | 2 lines

Bugfix: Don't crash psid, if client<->daemon protocol is messed up.

------------------------------------------------------------------------
r8394 | eicker | 2011-02-25 18:40:14 +0100 (Fri, 25 Feb 2011) | 4 lines

Bugfix: Fix mpiexec'a determination of own executable (missing \0 in
     buffer).
Enhance mpiexec's error-message if spawning of service-process failed.

------------------------------------------------------------------------
r8393 | hauke | 2011-02-25 10:05:27 +0100 (Fri, 25 Feb 2011) | 8 lines

psh: fix precedence of $RCMD, $AUTOCD and $MAXRCMD

Fix the precedence of settings for rcmd, autocd and maxrcmd to
 * command line
 * configfile ~/psh.d/*
 * environment variable

See Ticket #994.
------------------------------------------------------------------------
r8392 | eicker | 2011-02-23 10:39:12 +0100 (Wed, 23 Feb 2011) | 4 lines

Bugfix: Output of very long lines might get crippled. Fix bug introduced
    with r8365.
Enhancement: Nicer output of long line with and without prefixes.

------------------------------------------------------------------------
r8391 | eicker | 2011-02-18 18:37:35 +0100 (Fri, 18 Feb 2011) | 2 lines

More detailed messages on late receives in psilogger.

------------------------------------------------------------------------
r8390 | eicker | 2011-02-16 22:40:46 +0100 (Wed, 16 Feb 2011) | 3 lines

Remove extra debug in context of #442. Root cause was fixed in r8131.
Fix some comiler-warning in rdp.c

------------------------------------------------------------------------
r8389 | eicker | 2011-02-16 18:58:15 +0100 (Wed, 16 Feb 2011) | 3 lines

Collected statistics on JuRoPA for some month. Lock seems to be
    unnecessary. This answers #820.

------------------------------------------------------------------------
r8388 | eicker | 2011-02-16 18:23:35 +0100 (Wed, 16 Feb 2011) | 2 lines

Initialize timer facility explicitely. This helps with #799.

------------------------------------------------------------------------
r8384 | eicker | 2011-02-16 15:17:32 +0100 (Wed, 16 Feb 2011) | 2 lines

New version (psmgmt-5.0.30)

------------------------------------------------------------------------

Version psmgmt-5.0.30:
======================
------------------------------------------------------------------------
r8383 | eicker | 2011-02-16 14:13:49 +0100 (Wed, 16 Feb 2011) | 3 lines

Enhancement: Let psid print some info on RDP-socket on SIGUSR1.
closeConnection not used outside psidclient.c. Thus, make it private.

------------------------------------------------------------------------
r8382 | eicker | 2011-02-11 18:43:51 +0100 (Fri, 11 Feb 2011) | 7 lines

Enhancement: Display job's starttime in psiadmin's 'list jobs', if
    available. For this PSDaemonProtocolVersion pushed to 407.
Refactoring: Rename PSIDnodes_setProtoVersion()->PSIDnodes_setProtoV()
    PSIDnodes_getProtoVersion()->PSIDnodes_getProtoV(),
    PSIDnodes_setDaemonProtoVersion()->PSIDnodes_setDmnProtoV() and
    PSIDnodes_getDaemonProtoVersion()->PSIDnodes_getDmnProtoV()

------------------------------------------------------------------------
r8381 | eicker | 2011-02-11 18:22:21 +0100 (Fri, 11 Feb 2011) | 2 lines

Bugfix: Fix typo in csh-profile introduced in r8368.

------------------------------------------------------------------------
r8380 | eicker | 2011-02-11 10:58:00 +0100 (Fri, 11 Feb 2011) | 2 lines

Fix test-plugin to conform to new plugin-interface.

------------------------------------------------------------------------
r8379 | eicker | 2011-02-11 10:57:10 +0100 (Fri, 11 Feb 2011) | 3 lines

Enhancement: Implement the enhance plugin-interface. This should
    implement #562.

------------------------------------------------------------------------
r8378 | eicker | 2011-02-10 15:59:13 +0100 (Thu, 10 Feb 2011) | 2 lines

Fix svn-properties of various new files.

------------------------------------------------------------------------
r8377 | eicker | 2011-02-10 15:48:31 +0100 (Thu, 10 Feb 2011) | 2 lines

Add some test-plugins for testing the new plugin-interface.

------------------------------------------------------------------------
r8376 | eicker | 2011-02-09 17:05:25 +0100 (Wed, 09 Feb 2011) | 3 lines

Bugfix: Close (almost) all file-descriptors to prevent strange
    RPP-behavior in psmom.

------------------------------------------------------------------------
r8375 | eicker | 2011-02-07 17:57:36 +0100 (Mon, 07 Feb 2011) | 3 lines

Bugfix: Ensure consistent fd-sets and errno on error in Sselect().
Enhancement: Add possibility to check for registered selector on fd.

------------------------------------------------------------------------
r8374 | eicker | 2011-02-07 09:22:15 +0100 (Mon, 07 Feb 2011) | 3 lines

Enhancement: Allow modifying psid's environment during runtime. This
    will implement #815.

------------------------------------------------------------------------
r8368 | eicker | 2010-12-22 18:01:29 +0100 (Wed, 22 Dec 2010) | 2 lines

Add /opt/parastation/sbin to root's PATH. This implements #893.

------------------------------------------------------------------------
r8367 | eicker | 2010-12-15 13:13:35 +0100 (Wed, 15 Dec 2010) | 5 lines

Enhancement: Implement extra timeout and test within forwarder waiting
    for the client-process to do the exec(). This implements #879.
Enhancement: Improve return-values of the PSI_spawn() family of
    functions. Now errors should be reported for the correct ranks.

------------------------------------------------------------------------
r8366 | eicker | 2010-12-14 23:06:33 +0100 (Tue, 14 Dec 2010) | 2 lines

Bugfix: Give correct rank in mpiexec, if spawn fails.

------------------------------------------------------------------------
r8365 | eicker | 2010-12-14 23:04:25 +0100 (Tue, 14 Dec 2010) | 2 lines

Bugfix: Improve logging with timestamps. This should fix #719.

------------------------------------------------------------------------
r8364 | eicker | 2010-12-09 10:54:35 +0100 (Thu, 09 Dec 2010) | 3 lines

Re-order some list-operations in psidmsgbuf. These should make the list
    handling more immune against race-conditions.

------------------------------------------------------------------------
r8363 | eicker | 2010-12-06 19:00:32 +0100 (Mon, 06 Dec 2010) | 4 lines

Enhancement: More verbose info, if PMI barrier timeout strikes (#827).
Some reorganization in psilogger's KVS stuff. Should be more effizient
    now.

------------------------------------------------------------------------
r8362 | eicker | 2010-12-03 18:43:16 +0100 (Fri, 03 Dec 2010) | 3 lines

Enhancement: Make daemon's RLIMIT_NOFILE configurable. (#792)
Enhancement: Propagate user's RLIMIT_NOFILE to client-procs. (#792)

------------------------------------------------------------------------
r8361 | eicker | 2010-12-03 18:39:31 +0100 (Fri, 03 Dec 2010) | 2 lines

Suppress one compiler-warning (forgot to #include one header).

------------------------------------------------------------------------
r8360 | eicker | 2010-12-03 18:36:26 +0100 (Fri, 03 Dec 2010) | 2 lines

Mark psiadmin's hex-output to be in hex. This should help with #612.

------------------------------------------------------------------------
r8359 | eicker | 2010-11-30 12:03:09 +0100 (Tue, 30 Nov 2010) | 5 lines

Bugfix: Small msgbufs within the psid are allocated within bunches in
    order to disburden the pressure upon malloc()/free(). Additionally
    this ensure that all memory allocated is really given back to the
    kernel. This should finally fix #689.

------------------------------------------------------------------------
r8358 | eicker | 2010-10-28 16:17:22 +0200 (Thu, 28 Oct 2010) | 3 lines

Allow to use a different signal to kill jobs in the stress-testing environment.
Disable MPI-1 in the stress-testing environment per default.

------------------------------------------------------------------------
r8357 | eicker | 2010-10-27 00:14:19 +0200 (Wed, 27 Oct 2010) | 3 lines

Bugfix: Store managing structures for temporary msgbufs directly with
    the buffers itself. This should fix #689.

------------------------------------------------------------------------
r8356 | eicker | 2010-10-26 18:32:55 +0200 (Tue, 26 Oct 2010) | 2 lines

Enhancement: Implement psiadmin's 'echo' directive. See #632.

------------------------------------------------------------------------
r8355 | eicker | 2010-10-26 18:31:28 +0200 (Tue, 26 Oct 2010) | 2 lines

Improve psid's log, if plugin-definitions are wrong in configuration file.

------------------------------------------------------------------------
r8351 | eicker | 2010-10-06 12:28:37 +0200 (Wed, 06 Oct 2010) | 2 lines

New version (psmgmt-5.0.29)

------------------------------------------------------------------------

Version psmgmt-5.0.29:
======================
------------------------------------------------------------------------
r8350 | eicker | 2010-10-04 15:46:12 +0200 (Mon, 04 Oct 2010) | 5 lines

Enhancement: Improve RDP-performance: put msgbufs back into pool
    immediately after ACK is received.
Secure changes to RDP's list of msgbufs by lock. Most probably this is
    temporarily. See #820.

------------------------------------------------------------------------
r8349 | eicker | 2010-10-04 15:36:55 +0200 (Mon, 04 Oct 2010) | 3 lines

Fix warning on found selector during registration after re-connect.
Enhance log, if selector was found during Selector_register().

------------------------------------------------------------------------
r8348 | eicker | 2010-10-04 11:06:45 +0200 (Mon, 04 Oct 2010) | 2 lines

Re-organize handling of RDP-messages to the daemon.

------------------------------------------------------------------------
r8347 | eicker | 2010-10-01 17:20:51 +0200 (Fri, 01 Oct 2010) | 3 lines

- Don't restrict max fd for select() too much.
- Whitespace cleanup.

------------------------------------------------------------------------
r8346 | eicker | 2010-10-01 17:19:45 +0200 (Fri, 01 Oct 2010) | 2 lines

Remove obsolete stub in test_config.c

------------------------------------------------------------------------
r8345 | eicker | 2010-10-01 17:18:49 +0200 (Fri, 01 Oct 2010) | 4 lines

Reorganize handling of client's file-descriptors. They're now handled
    directly within the Selector instead via PSID_readfds. This might
    also help with jt:#3239 since it fixes glitches in the flow-control.

------------------------------------------------------------------------
r8344 | eicker | 2010-10-01 15:51:39 +0200 (Fri, 01 Oct 2010) | 2 lines

Remove extra debug.

------------------------------------------------------------------------
r8343 | eicker | 2010-10-01 14:57:52 +0200 (Fri, 01 Oct 2010) | 4 lines

Enhancement: Allow to trigger Sselect() to start-over. Might be useful
    to enable modified fd-sets more quickly.
Enhancement: Allow to disable registered selectors temporarily.

------------------------------------------------------------------------
r8337 | eicker | 2010-09-30 08:34:14 +0200 (Thu, 30 Sep 2010) | 2 lines

Improve documentation of Sselect() usage.

------------------------------------------------------------------------
r8318 | hauke | 2010-09-24 18:16:20 +0200 (Fri, 24 Sep 2010) | 5 lines

psh: Using psnameexpand and psnamecompress from pscluster/bin/pstool

Fix
#317 psh name merging will not merge
#318 psh's NameCompress create empty result.
------------------------------------------------------------------------
r8314 | rauh | 2010-09-17 16:18:02 +0200 (Fri, 17 Sep 2010) | 2 lines

Enhancement: removed obsolete NrofNodes in default configuration

------------------------------------------------------------------------
r8309 | rauh | 2010-09-09 12:30:40 +0200 (Thu, 09 Sep 2010) | 2 lines

Enhancement: enable stack protector if supported, fixing #796

------------------------------------------------------------------------
r8308 | eicker | 2010-09-07 18:20:44 +0200 (Tue, 07 Sep 2010) | 2 lines

Fix typo introduced in r8307.

------------------------------------------------------------------------
r8307 | eicker | 2010-09-07 17:51:04 +0200 (Tue, 07 Sep 2010) | 2 lines

Complete correct initialization of clientStat.

------------------------------------------------------------------------
r8306 | eicker | 2010-09-07 17:33:37 +0200 (Tue, 07 Sep 2010) | 2 lines

Use assignment instead of memcpy() to transfer struct timeval.

------------------------------------------------------------------------
r8303 | eicker | 2010-09-03 12:11:30 +0200 (Fri, 03 Sep 2010) | 3 lines

Suppress some less interesting RDP-messages per default. These might
    lead to problems on huge clusters due to created load.

------------------------------------------------------------------------
r8302 | eicker | 2010-08-30 13:19:20 +0200 (Mon, 30 Aug 2010) | 2 lines

Fix typo.

------------------------------------------------------------------------
r8298 | eicker | 2010-08-30 10:37:52 +0200 (Mon, 30 Aug 2010) | 2 lines

New version (psmgmt-5.0.28)

------------------------------------------------------------------------

Version psmgmt-5.0.28:
======================
------------------------------------------------------------------------
r8297 | eicker | 2010-08-30 10:34:56 +0200 (Mon, 30 Aug 2010) | 2 lines

Start new condensed changelog in NEWS.

------------------------------------------------------------------------
r8294 | eicker | 2010-08-26 18:28:40 +0200 (Thu, 26 Aug 2010) | 2 lines

Enhancement: Don't catch SIGBUS, if core-dump are enabled.

------------------------------------------------------------------------
r8293 | eicker | 2010-08-26 18:13:10 +0200 (Thu, 26 Aug 2010) | 7 lines

Merge from Michael's branch preparing for accounting-plugin:
Bugfix: extended accouting information can be valid even if some values
    are zero
Enhancement: removed all accouting functions from forwarder, the new
    accounting plugin will be responsible for extended accouting now.
Enhancement: improved detection of extended accounting information

------------------------------------------------------------------------
r8271 | eicker | 2010-08-19 12:01:07 +0200 (Thu, 19 Aug 2010) | 4 lines

Bugfix: Save RDP's state-machine from infinite loop. This should fix
    #386.
Enhancement: Improved logging from RDP's state-machine.

------------------------------------------------------------------------
r8230 | eicker | 2010-07-09 02:03:38 +0200 (Fri, 09 Jul 2010) | 4 lines

Bugfix: RDP interprets SYNNACK as NACK plus request for synchronization.
Bugfix: Don't tell caller to do Rrecvfrom when receiving RDP_DATA on
    CLOSED conn.

------------------------------------------------------------------------
r8229 | eicker | 2010-07-09 01:17:00 +0200 (Fri, 09 Jul 2010) | 8 lines

Improve problem reporting from within RDP.
Don't overwrite ConnID_in when shutting down conn. This should help to
    detect conns closed just on one side. Send SYNNACK then.
Bugfix: Don't close conn when SYNNACK was received.
Bugfix: Improve RDP's behavior on unexpected msgs on ACTIVE conns.
Bugfix: Delay grow of RDP's window until msgbug is actually there. Same
    holds for RDP_CAN_CONTINUE callback.

------------------------------------------------------------------------
r8228 | eicker | 2010-07-08 22:07:46 +0200 (Thu, 08 Jul 2010) | 5 lines

Bugfix: Ensure that RDP's lists are not screwed up. For this, items are
    removed from lists only during timeout-handling. Should help with #386.
Bugfix: Ensure that RDP's timeout-handler is not called while looping
    over list. Should help with #386.

------------------------------------------------------------------------
r8226 | rauh | 2010-07-07 17:26:41 +0200 (Wed, 07 Jul 2010) | 2 lines

Bugfix: option --norcfile of psaccview doesn't need a parameter

------------------------------------------------------------------------
r8225 | rauh | 2010-07-07 16:01:26 +0200 (Wed, 07 Jul 2010) | 5 lines

Bugfix: don't display empty lines when using option --nospace
Enhancement: new option --last_days to show the last x days of accounting data.
Enhancement: new option --timeout will stop parsing if the timeout is reached.
This version will help fixing ticket #715 and #716

------------------------------------------------------------------------
r8214 | eicker | 2010-06-30 12:31:16 +0200 (Wed, 30 Jun 2010) | 2 lines

Improve debug messages.

------------------------------------------------------------------------
r8206 | eicker | 2010-06-28 09:05:05 +0200 (Mon, 28 Jun 2010) | 2 lines

Enhancement: Get rid of extra structures for ACKs within RDP.

------------------------------------------------------------------------
r8205 | eicker | 2010-06-25 19:33:26 +0200 (Fri, 25 Jun 2010) | 4 lines

Bugfix: Fix possible race-condition when resequencing RDP messages. This
    might lead to consecutive messages with same seqno. As a consequence
    this might lead to the behavior described in #327.

------------------------------------------------------------------------
r8190 | eicker | 2010-06-22 11:48:13 +0200 (Tue, 22 Jun 2010) | 2 lines

Push new version for QPACE.

------------------------------------------------------------------------
r8180 | eicker | 2010-06-17 20:50:22 +0200 (Thu, 17 Jun 2010) | 3 lines

Prevent handleDroppedMsg to call send_DAEMONCONNECT() recursively. This
    might lead to hangs on large clusters with few nodes up.

------------------------------------------------------------------------
r8179 | eicker | 2010-06-17 19:45:38 +0200 (Thu, 17 Jun 2010) | 4 lines

After becoming master, start lurking for other node with the next ID
    instead of 0. This should help on large systems with only few nodes
    running since nodes from 0 to myID were just checked.

------------------------------------------------------------------------
r8165 | eicker | 2010-05-25 11:54:38 +0200 (Tue, 25 May 2010) | 3 lines

Bugfix: Allow service-tasks to explicitely request signals on childs
    end. This should fix #554.

------------------------------------------------------------------------
r8161 | eicker | 2010-05-19 08:08:05 +0200 (Wed, 19 May 2010) | 2 lines

New version (psmgmt-5.0.27)

------------------------------------------------------------------------

Version psmgmt-5.0.27:
======================
------------------------------------------------------------------------
r8160 | eicker | 2010-05-18 10:34:27 +0200 (Tue, 18 May 2010) | 3 lines

Increase rounds in initial PMI_Barrier to 2. Try to collect more
    statistics.

------------------------------------------------------------------------
r8159 | eicker | 2010-05-11 20:48:16 +0200 (Tue, 11 May 2010) | 5 lines

Enhancement: Allow dynamic registration of functions to be called from
    the main-loop. This might be useful for plugins.
Make use of this functionality for various calls made from the
    main-loop.

------------------------------------------------------------------------
r8158 | eicker | 2010-05-11 15:29:40 +0200 (Tue, 11 May 2010) | 3 lines

Enhancement: Send SIGCONT before sending any SIGKILL in order to wakeup
    receiver for signal delivery.

------------------------------------------------------------------------
r8153 | eicker | 2010-05-06 17:29:27 +0200 (Thu, 06 May 2010) | 2 lines

Fix one compiler-warning.

------------------------------------------------------------------------
r8152 | eicker | 2010-05-06 17:28:59 +0200 (Thu, 06 May 2010) | 2 lines

Fix one typo in comment.

------------------------------------------------------------------------
r8151 | eicker | 2010-05-06 17:09:23 +0200 (Thu, 06 May 2010) | 6 lines

Bugfix: Due to some bugs in the flow-control between forwarder and
    logger there might be duplicated task-structures preventing
    PStasklist_find() from working as expected. At the end this might
    lead to hanging psiadmins. See jt:#2194
Bugfix: Try to fix the bug mentioned above.

------------------------------------------------------------------------
r8133 | eicker | 2010-04-30 15:41:14 +0200 (Fri, 30 Apr 2010) | 4 lines

Bugfix: Start selector early enough such that first call to node-script
    actually works.
Improved log-messages on failed scripts.

------------------------------------------------------------------------
r8132 | eicker | 2010-04-30 14:00:20 +0200 (Fri, 30 Apr 2010) | 3 lines

Enhancement: Make PSI_recvMsg() more robust, if an unexpected message or
    an message of wrong size is received. This should implement #509.

------------------------------------------------------------------------
r8131 | eicker | 2010-04-30 12:07:37 +0200 (Fri, 30 Apr 2010) | 5 lines

Bugfix: Problematic node is reported in msg_name instead of
    SO_EE_OFFENDER within the extended reliable error message. This
    should fix #442.
Some additional debug for #442. Keep under investigation.

------------------------------------------------------------------------
r8130 | eicker | 2010-04-30 12:02:09 +0200 (Fri, 30 Apr 2010) | 4 lines

Bugfix: Prevent double sending of PLUGINRES messages. This should fix
    #510.
Bugfix: Send PLUGINRES messages of correct size upon message drop.

------------------------------------------------------------------------
r8129 | eicker | 2010-04-30 11:58:19 +0200 (Fri, 30 Apr 2010) | 2 lines

Bugfix: Ensure that re-registration of messages is actually possible.

------------------------------------------------------------------------
r8128 | eicker | 2010-04-29 20:23:53 +0200 (Thu, 29 Apr 2010) | 2 lines

Improve some of the daemon's debug-logs.

------------------------------------------------------------------------
r8125 | eicker | 2010-04-27 20:12:28 +0200 (Tue, 27 Apr 2010) | 4 lines

Bugfix: Make forwarder's timeout waiting for logger's answer to
    INITIALIZE-message dependant on total number of childs. This should
    fix #480.

------------------------------------------------------------------------
r8124 | eicker | 2010-04-26 15:26:39 +0200 (Mon, 26 Apr 2010) | 3 lines

Bugfix: Suppress faulty problem-messages due to wrong interpretation of
    PSID_execScript()'s return value.

------------------------------------------------------------------------
r8123 | eicker | 2010-04-22 15:20:57 +0200 (Thu, 22 Apr 2010) | 4 lines

Add remark concerning file-descriptors in PSID_execFunc()'s and
    PSID_execScript()' callback-function. See #613.
Bugfix: Fix possible leak of file-descriptors.

------------------------------------------------------------------------
r8122 | eicker | 2010-04-21 18:14:56 +0200 (Wed, 21 Apr 2010) | 2 lines

Add some more extra debug for #442.

------------------------------------------------------------------------
r8116 | eicker | 2010-04-21 11:47:28 +0200 (Wed, 21 Apr 2010) | 3 lines

Enhancement: Use number of actually defined nodes as NrOfNodes. This
    should complete the implementation of #489.

------------------------------------------------------------------------
r8115 | eicker | 2010-04-20 20:57:32 +0200 (Tue, 20 Apr 2010) | 4 lines

Enhancement: Make NrOfNodes statement in parastation.conf obsolete. For
    this, PSIDnodes_grow() allows to dynamically grow the structures
    used to manage node-information. This implements #489.

------------------------------------------------------------------------
r8106 | eicker | 2010-04-16 19:55:42 +0200 (Fri, 16 Apr 2010) | 3 lines

Enhancement: Consider LSF's LSB_DJOB_HOSTFILE environment introduced by
    Platform in the meantime. This fixes #585.

------------------------------------------------------------------------
r8101 | eicker | 2010-04-12 13:26:01 +0200 (Mon, 12 Apr 2010) | 2 lines

Bugfix: psid might catch SIGSEGV, if it becomes master during shutdown.

------------------------------------------------------------------------
r8100 | eicker | 2010-04-12 09:58:47 +0200 (Mon, 12 Apr 2010) | 3 lines

Enhancement: Don't block SIGCHLD within scripts executed via
    PSID_execFunc(). This fixes #578.

------------------------------------------------------------------------
r8099 | eicker | 2010-04-12 09:18:20 +0200 (Mon, 12 Apr 2010) | 3 lines

Bugfix: Enable file-descriptor to be usable as a selector, if it was
relesased via Selector_remove() recently. This fixes #577.

------------------------------------------------------------------------
r8049 | eicker | 2010-03-24 16:35:54 +0100 (Wed, 24 Mar 2010) | 2 lines

New version (psmgmt-5.0.26)

------------------------------------------------------------------------

Version psmgmt-5.0.26:
======================
------------------------------------------------------------------------
r8048 | rauh | 2010-03-24 13:28:05 +0100 (Wed, 24 Mar 2010) | 3 lines

Enhancement: cmd line options (like --maxtime, --usize) will overwrite environment variables like MPIEXEC_TIMEOUT.
Additionally MPIEXEC_TIMEOUT will overwrite PSI_MAXTIME variable.

------------------------------------------------------------------------
r8047 | rauh | 2010-03-24 11:38:25 +0100 (Wed, 24 Mar 2010) | 3 lines

Enhancement: added support for -maxtime, MPIEXEC_TIMEOUT and various other compatibility
options for mpiexec fixing #526.

------------------------------------------------------------------------
r8039 | eicker | 2010-03-19 19:48:24 +0100 (Fri, 19 Mar 2010) | 4 lines

Enhancement: Make mpiexec's return value more predictive. From now on
    the maximum return-value of all child-processes will be returned.
    This implements #244.

------------------------------------------------------------------------
r8038 | eicker | 2010-03-19 19:27:37 +0100 (Fri, 19 Mar 2010) | 5 lines

Enhancement: Implement maximum allowed time for MPI applications. For
    that, if the PSI_MAXTIME environment is given, an parallel
    application is terminated after this number of seconds. This
    implements #529.

------------------------------------------------------------------------
r8037 | eicker | 2010-03-19 19:24:07 +0100 (Fri, 19 Mar 2010) | 3 lines

Enhancement: Allow timers to get unregistered any time, even during
    timer-handling.

------------------------------------------------------------------------
r8036 | hauke | 2010-03-18 13:22:47 +0100 (Thu, 18 Mar 2010) | 5 lines

psid2cmustatus: Implementation

Translate the ParaStation up/down status of all nodes to a cmu
usable status file.

------------------------------------------------------------------------
r8035 | eicker | 2010-03-15 13:36:37 +0100 (Mon, 15 Mar 2010) | 2 lines

Don't send useless shutdown() immediately before close().

------------------------------------------------------------------------
r8034 | eicker | 2010-03-15 13:25:13 +0100 (Mon, 15 Mar 2010) | 3 lines

Bugfix: Fix one race-condition: psid might get in an unusable state, if
    child-process used to send signals to clients catches SIGTERM.

------------------------------------------------------------------------
r8025 | eicker | 2010-02-23 11:04:17 +0100 (Tue, 23 Feb 2010) | 3 lines

Enhancement: Add dependency on $named and nscd to ParaStation's SysV
    init script. This should fix #496.

------------------------------------------------------------------------
r8022 | eicker | 2010-02-21 22:11:46 +0100 (Sun, 21 Feb 2010) | 4 lines

Enhancement: Make Selector_remove() asynchronuos enough that *any*
    selector might be removed during selector-handling. This was
    requested by Michael for psmom.

------------------------------------------------------------------------
r8021 | eicker | 2010-02-19 22:01:42 +0100 (Fri, 19 Feb 2010) | 2 lines

Bugfix: Fix problem with RDP's ACKs on big-endian machines.

------------------------------------------------------------------------
r8006 | eicker | 2010-02-05 18:31:31 +0100 (Fri, 05 Feb 2010) | 2 lines

More re-organization to prevent one compiler-warning.

------------------------------------------------------------------------
r8005 | eicker | 2010-02-05 18:19:05 +0100 (Fri, 05 Feb 2010) | 2 lines

Fix fatal bug from r8004.

------------------------------------------------------------------------
r8004 | eicker | 2010-02-05 18:15:57 +0100 (Fri, 05 Feb 2010) | 3 lines

Bugfix: Fix possible segfault in doExec() when called from
    PSID_execFunc(). This was just introduced in r8003.

------------------------------------------------------------------------
r8003 | eicker | 2010-02-05 18:09:19 +0100 (Fri, 05 Feb 2010) | 3 lines

Enhancement: New function PSID_execFunc(). This is required by Michael's psmom.
Some re-organization of functions.

------------------------------------------------------------------------
r8002 | eicker | 2010-02-05 13:41:01 +0100 (Fri, 05 Feb 2010) | 3 lines

Bugfix: Daemon might segfault, if selector-handler de-registers during
    handling. Merged from Michael's branch.

------------------------------------------------------------------------
r7993 | eicker | 2010-01-29 23:34:36 +0100 (Fri, 29 Jan 2010) | 3 lines

Bugfix: Expect WHODIED messages even while waiting for RELEASERES.
Bugfix: Don't count WHODIED message as SPAWNSUCCESS/FAILED.

------------------------------------------------------------------------
r7981 | eicker | 2010-01-27 18:22:07 +0100 (Wed, 27 Jan 2010) | 2 lines

New version (psmgmt-5.0.25)

------------------------------------------------------------------------

Version psmgmt-5.0.25:
======================
------------------------------------------------------------------------
r7980 | eicker | 2010-01-27 18:18:21 +0100 (Wed, 27 Jan 2010) | 3 lines

Bugfix: Prevent jobs/daemon from crashing due to empty environment
    variables.

------------------------------------------------------------------------
r7979 | eicker | 2010-01-27 17:11:26 +0100 (Wed, 27 Jan 2010) | 2 lines

Finally fix mpiexec's problems, if verbosity is requested.

------------------------------------------------------------------------
r7978 | rauh | 2010-01-27 12:19:01 +0100 (Wed, 27 Jan 2010) | 4 lines

Bugfix: fix bug introduced in r7972, options --nodes --hosts were broken
Enhancement: remove dispensable empty env vars like PSI_NODES, causing bad effects
Typo: improved error messages

------------------------------------------------------------------------
r7977 | eicker | 2010-01-26 19:28:18 +0100 (Tue, 26 Jan 2010) | 2 lines

Bugfix: Fix problems with host/network byteorder on big-endian machines.

------------------------------------------------------------------------
r7972 | rauh | 2010-01-25 10:28:19 +0100 (Mon, 25 Jan 2010) | 2 lines

Bugfix: Verbose messages should only be output by the logger, not all ranks.

------------------------------------------------------------------------
r7971 | eicker | 2010-01-22 18:47:31 +0100 (Fri, 22 Jan 2010) | 2 lines

Fix one compiler-warning in more recent versions of gcc.

------------------------------------------------------------------------
r7970 | eicker | 2010-01-22 18:38:10 +0100 (Fri, 22 Jan 2010) | 2 lines

Bugfix: Prevent psid from assassination via sending RDP-packet of type -1.

------------------------------------------------------------------------
r7969 | eicker | 2010-01-22 18:34:15 +0100 (Fri, 22 Jan 2010) | 2 lines

Improve mpiexec's prompt-behavior, if GDB-mode is enabled.

------------------------------------------------------------------------
r7966 | eicker | 2010-01-22 15:04:00 +0100 (Fri, 22 Jan 2010) | 2 lines

Enhancement: Implement -t option for pssh in analogy to ssh.

------------------------------------------------------------------------
r7965 | rauh | 2010-01-21 15:04:42 +0100 (Thu, 21 Jan 2010) | 2 lines

mpiexec: added interactive mode (-i --interactive), fixing ticket #220 #221

------------------------------------------------------------------------
r7952 | moschny | 2010-01-12 13:24:52 +0100 (Tue, 12 Jan 2010) | 1 line

Repository cleanup.
------------------------------------------------------------------------
r7926 | eicker | 2009-12-03 17:12:30 +0100 (Thu, 03 Dec 2009) | 2 lines

Bugfix: Make sure child actually gets KILL signal, if forwarder is gone.

------------------------------------------------------------------------
r7916 | eicker | 2009-11-14 15:57:22 +0100 (Sat, 14 Nov 2009) | 3 lines

Bugfix: Fix possible segfault. Might be triggered, if task-structure
    marked as deleted is removed before connection is closed.

------------------------------------------------------------------------
r7915 | eicker | 2009-11-12 11:34:55 +0100 (Thu, 12 Nov 2009) | 2 lines

Disable some #442 debug. This lets the master spoil the syslog.

------------------------------------------------------------------------
r7911 | eicker | 2009-11-11 23:11:38 +0100 (Wed, 11 Nov 2009) | 2 lines

New version (psmgmt-5.0.24)

------------------------------------------------------------------------
r7910 | eicker | 2009-11-11 23:08:09 +0100 (Wed, 11 Nov 2009) | 2 lines

Add some more debug for #442.

------------------------------------------------------------------------

Version psmgmt-5.0.24:
======================
------------------------------------------------------------------------
r7910 | eicker | 2009-11-11 23:08:09 +0100 (Wed, 11 Nov 2009) | 2 lines

Add some more debug for #442.

------------------------------------------------------------------------
r7909 | eicker | 2009-11-11 23:07:26 +0100 (Wed, 11 Nov 2009) | 2 lines

Bugfix: Workaround #442.

------------------------------------------------------------------------
r7907 | eicker | 2009-11-10 23:10:05 +0100 (Tue, 10 Nov 2009) | 3 lines

Bugfix: Make mpiexec's --ondemand option and similar mechanisms just
    setting environments actually work.

------------------------------------------------------------------------
r7903 | eicker | 2009-11-03 20:11:34 +0100 (Tue, 03 Nov 2009) | 3 lines

Improve output, if PMI_BARRIER_ROUNDS is given.
If mpiexec's service process catches SIGTERM, try to identify sender.

------------------------------------------------------------------------
r7894 | eicker | 2009-10-28 22:44:43 +0100 (Wed, 28 Oct 2009) | 2 lines

New version (psmgmt-5.0.23)

------------------------------------------------------------------------

Version psmgmt-5.0.23:
======================
------------------------------------------------------------------------
r7893 | eicker | 2009-10-28 22:40:31 +0100 (Wed, 28 Oct 2009) | 2 lines

Bugfix: Clear possible garbage before creating __PINNING__ environment.

------------------------------------------------------------------------
r7892 | eicker | 2009-10-27 22:18:50 +0100 (Tue, 27 Oct 2009) | 2 lines

Enhancement: Propagate all OMP_* environment to spawned processes.

------------------------------------------------------------------------
r7891 | eicker | 2009-10-27 18:49:16 +0100 (Tue, 27 Oct 2009) | 3 lines

Enhancement: Also propagate limits on the address-space to spawned
    processes.

------------------------------------------------------------------------
r7889 | eicker | 2009-10-26 09:54:25 +0100 (Mon, 26 Oct 2009) | 2 lines

Bugfix: Forwarders might miss some output of childs running very shortly.

------------------------------------------------------------------------
r7888 | eicker | 2009-10-26 09:34:34 +0100 (Mon, 26 Oct 2009) | 2 lines

Bugfix: Make mpiexec's --exports, -envlist, etc. options actually work.

------------------------------------------------------------------------
r7887 | eicker | 2009-10-26 09:31:49 +0100 (Mon, 26 Oct 2009) | 2 lines

Let PSE_getRank() exit(), if PSE_initialize was not called before.

------------------------------------------------------------------------
r7886 | eicker | 2009-10-25 01:15:28 +0200 (Sun, 25 Oct 2009) | 2 lines

Bugfix: Always remove child from child-list in case of CHILDDEAD message.

------------------------------------------------------------------------
r7885 | eicker | 2009-10-25 01:14:12 +0200 (Sun, 25 Oct 2009) | 2 lines

Enhancement: Let PSID_blockSig() return the old blocking status.

------------------------------------------------------------------------
r7884 | eicker | 2009-10-25 01:12:34 +0200 (Sun, 25 Oct 2009) | 2 lines

Use switch() instead of if-chains.

------------------------------------------------------------------------
r7883 | eicker | 2009-10-24 23:42:47 +0200 (Sat, 24 Oct 2009) | 2 lines

Fix whitespace problems.

------------------------------------------------------------------------
r7882 | eicker | 2009-10-23 21:26:52 +0200 (Fri, 23 Oct 2009) | 3 lines

Enhancement: Also propagate limits on the data segment to spawned
    processes.

------------------------------------------------------------------------
r7881 | eicker | 2009-10-23 21:16:08 +0200 (Fri, 23 Oct 2009) | 2 lines

Bugfix: Close two more holes that might lead to left-over processes.

------------------------------------------------------------------------
r7878 | eicker | 2009-10-21 13:24:51 +0200 (Wed, 21 Oct 2009) | 4 lines

Bugfix: Make script-hooks triggered by node-status actually woring. This
    fixed a bug introduced in r7875
Fix some glitches in psiadmin's output of 'list <script>'.

------------------------------------------------------------------------
r7877 | eicker | 2009-10-21 12:35:04 +0200 (Wed, 21 Oct 2009) | 2 lines

Prevent master-psid from spoiling the syslog.

------------------------------------------------------------------------
r7876 | eicker | 2009-10-20 21:26:49 +0200 (Tue, 20 Oct 2009) | 3 lines

Bugfix: Actually look into OMP_NUM_THREADS. This makes r7856 really
    working.

------------------------------------------------------------------------
r7875 | eicker | 2009-10-20 21:23:40 +0200 (Tue, 20 Oct 2009) | 8 lines

Enhancement: Implement various script-hooks:
 - script called during startup (#378)
 - script called on master-node, if nodes goes down (#340)
 - script called on master-node, if nodes comes up (extension of #340)
Scripts can only be configured during startup, i.e. in the config-file
Scripts configured can be requested via node list-directives in
    psiadmin.

------------------------------------------------------------------------
r7856 | eicker | 2009-10-19 12:12:40 +0200 (Mon, 19 Oct 2009) | 2 lines

Enhancement: Look into OMP_NUM_THREADS, if PSI_TPP is not set.

------------------------------------------------------------------------
r7852 | eicker | 2009-10-19 09:20:07 +0200 (Mon, 19 Oct 2009) | 2 lines

New version (psmgmt-5.0.22)

------------------------------------------------------------------------

Version psmgmt-5.0.22:
======================
------------------------------------------------------------------------
r7851 | eicker | 2009-10-19 08:52:55 +0200 (Mon, 19 Oct 2009) | 2 lines

Suppress some logs, if childs was not yet registered.

------------------------------------------------------------------------
r7850 | eicker | 2009-10-16 18:57:18 +0200 (Fri, 16 Oct 2009) | 2 lines

More verbose logging to catch #442.

------------------------------------------------------------------------
r7849 | eicker | 2009-10-16 15:53:58 +0200 (Fri, 16 Oct 2009) | 2 lines

Bugfix: Forwarder ignored SIG-messages, if connectLogger() failed.

------------------------------------------------------------------------
r7848 | eicker | 2009-10-16 15:13:10 +0200 (Fri, 16 Oct 2009) | 2 lines

Bugfix: Fix some occasions where forwarder might want to kill its child.

------------------------------------------------------------------------
r7847 | eicker | 2009-10-16 14:51:43 +0200 (Fri, 16 Oct 2009) | 2 lines

Bugfix: Prevent possible segfault, if child-task was not found.

------------------------------------------------------------------------
r7846 | eicker | 2009-10-15 18:55:22 +0200 (Thu, 15 Oct 2009) | 3 lines

Enhancement: Allow comma-separated hostnames as nodelists in psiadmin.
    This should implement #450.

------------------------------------------------------------------------
r7842 | eicker | 2009-10-14 08:10:34 +0200 (Wed, 14 Oct 2009) | 2 lines

New version (psmgmt-5.0.21)

------------------------------------------------------------------------

Version psmgmt-5.0.21:
======================
------------------------------------------------------------------------
r7841 | eicker | 2009-10-13 15:21:17 +0200 (Tue, 13 Oct 2009) | 3 lines

Split list.h into internal part and public part (list_t.h) just defining
    the list_t type. This should help with #446.

------------------------------------------------------------------------
r7839 | eicker | 2009-10-12 13:29:13 +0200 (Mon, 12 Oct 2009) | 2 lines

Bugfix: Prevent remaining task-info within psid while task is dead.

------------------------------------------------------------------------
r7838 | eicker | 2009-10-12 13:16:19 +0200 (Mon, 12 Oct 2009) | 2 lines

More debug-info on dropped messages.

------------------------------------------------------------------------
r7837 | eicker | 2009-10-12 12:23:04 +0200 (Mon, 12 Oct 2009) | 2 lines

Improve master's determination, if some nodes are not defined.

------------------------------------------------------------------------
r7836 | eicker | 2009-10-12 11:53:35 +0200 (Mon, 12 Oct 2009) | 3 lines

Enhancement: Make sure mpiexec waits for all service-processes, too.
Enhancement: Add debug-facility PSID_LOG_MSGDUMP to dump dropped packets.

------------------------------------------------------------------------
r7835 | eicker | 2009-10-12 08:22:47 +0200 (Mon, 12 Oct 2009) | 2 lines

Some additional warning.

------------------------------------------------------------------------
r7834 | eicker | 2009-10-09 17:13:54 +0200 (Fri, 09 Oct 2009) | 2 lines

Don't allow ressource-allocation, if node is not starter.

------------------------------------------------------------------------
r7833 | eicker | 2009-10-09 17:13:07 +0200 (Fri, 09 Oct 2009) | 2 lines

Improve handling of short-running (i.e. non-MPI) jobs.

------------------------------------------------------------------------
r7832 | eicker | 2009-10-09 12:49:50 +0200 (Fri, 09 Oct 2009) | 2 lines

Significant improvement in signal-handling and child-tracking.

------------------------------------------------------------------------
r7831 | eicker | 2009-10-09 12:38:27 +0200 (Fri, 09 Oct 2009) | 7 lines

Bugfix: Improve errno-handling in sendClient(). Sporadicly wrong errnos
    were reported before.
Bugfix: Receive remaining messages after client passed away.
Bugfix: Ensure all childs are handled in deleteClient().
Enhancement: Ensure complete header is received in recvClient().
Minor improvements.

------------------------------------------------------------------------
r7830 | eicker | 2009-10-09 12:28:13 +0200 (Fri, 09 Oct 2009) | 2 lines

Daemon now ignores SIGPIPE silently.

------------------------------------------------------------------------
r7829 | eicker | 2009-10-09 12:26:15 +0200 (Fri, 09 Oct 2009) | 5 lines

Various minor enhancements of forwarder:
- Handle (non-PMI) childs exiting via exit(<val not 0>) as failed.
- Ignore late KVS messages.
- Don't suppress SIGCHLD during loggerConnect.

------------------------------------------------------------------------
r7828 | eicker | 2009-10-09 12:22:33 +0200 (Fri, 09 Oct 2009) | 3 lines

Enhancement: Suppress logger-messages on terminated child. Might be
    explicitely requestest via PSI_TERMINETED environment.

------------------------------------------------------------------------
r7827 | eicker | 2009-10-09 10:52:56 +0200 (Fri, 09 Oct 2009) | 3 lines

Bugfix: Prevent forwarder from commiting suicide. In rare cases
    tcgetpgrp() -- dissentient from the man-page -- might return 0.

------------------------------------------------------------------------
r7822 | eicker | 2009-10-07 09:12:56 +0200 (Wed, 07 Oct 2009) | 2 lines

Further improvements of signal/CHILDDEAD handling.

------------------------------------------------------------------------
r7821 | eicker | 2009-10-05 15:19:50 +0200 (Mon, 05 Oct 2009) | 2 lines

Fix some compiler versions on uninitialize variables.

------------------------------------------------------------------------
r7820 | eicker | 2009-10-05 14:48:21 +0200 (Mon, 05 Oct 2009) | 2 lines

Further reorganization of configure. Test for curses and history, too.

------------------------------------------------------------------------
r7819 | eicker | 2009-10-02 23:55:09 +0200 (Fri, 02 Oct 2009) | 3 lines

Bugfix: Fix sender information in PSP_CD_SIGRES messages. This might
    lead to stuck daemons, if message was stored within psidrdp-layer.

------------------------------------------------------------------------
r7810 | eicker | 2009-10-02 12:54:05 +0200 (Fri, 02 Oct 2009) | 2 lines

Explicitely test for libreadline.so and libpopt.so during configure.

------------------------------------------------------------------------
r7806 | eicker | 2009-10-02 12:30:25 +0200 (Fri, 02 Oct 2009) | 2 lines

New version (psmgmt-5.0.20)

------------------------------------------------------------------------

Version psmgmt-5.0.20:
======================
------------------------------------------------------------------------
r7805 | eicker | 2009-10-01 21:02:44 +0200 (Thu, 01 Oct 2009) | 2 lines

Verbose logging, if declareNodeDead() is called with local ID. See #442.

------------------------------------------------------------------------
r7802 | eicker | 2009-09-25 15:03:30 +0200 (Fri, 25 Sep 2009) | 3 lines

Bugfix: Also kill such processes that have released itself upon dead of
    root-process. Otherwise they might survive the job they belong to.

------------------------------------------------------------------------
r7801 | eicker | 2009-09-25 14:39:37 +0200 (Fri, 25 Sep 2009) | 3 lines

New function PSID_findSignal() searching for signal without removing it
    from signal-list.

------------------------------------------------------------------------
r7800 | eicker | 2009-09-25 14:35:22 +0200 (Fri, 25 Sep 2009) | 3 lines

Bugfix: Also include list.h into RPM since pstask.h refers to it. This
    might revent pscom's RPM from building

------------------------------------------------------------------------
r7799 | eicker | 2009-09-23 15:22:01 +0200 (Wed, 23 Sep 2009) | 3 lines

Enhancement: Add PMI_BARRIER_ROUNDS environment. If set to value larger
    that 1 more than a single barrier-timeout message is created.

------------------------------------------------------------------------
r7798 | eicker | 2009-09-22 10:11:14 +0200 (Tue, 22 Sep 2009) | 2 lines

Bugfix: Prevent segfault due to looping over modifying list.

------------------------------------------------------------------------
r7797 | eicker | 2009-09-22 09:56:10 +0200 (Tue, 22 Sep 2009) | 5 lines

Enhancement: Add timeout during chdir(), stat(), etc.
Enhancement: forwarders now run under user's UID
Enhancement: Make number of stat() tries configurable
Enhancement: Automatically export all __PSI_* environments

------------------------------------------------------------------------
r7796 | eicker | 2009-09-21 21:34:18 +0200 (Mon, 21 Sep 2009) | 2 lines

Enhancement: New psiadmin directive 'list starttime'.

------------------------------------------------------------------------
r7795 | eicker | 2009-09-18 22:23:28 +0200 (Fri, 18 Sep 2009) | 2 lines

Fix typo introduced in r7794.

------------------------------------------------------------------------
r7794 | eicker | 2009-09-18 22:11:35 +0200 (Fri, 18 Sep 2009) | 2 lines

Bugfix: Prevent double free() on forwarder's child-list.

------------------------------------------------------------------------
r7793 | eicker | 2009-09-18 21:12:13 +0200 (Fri, 18 Sep 2009) | 2 lines

Bugfix: Don't catch SIGIOT since this is just a synonym for SIGABRT.

------------------------------------------------------------------------
r7792 | eicker | 2009-09-18 20:40:16 +0200 (Fri, 18 Sep 2009) | 2 lines

Enhancement: Nicer ordering of tasks.

------------------------------------------------------------------------
r7791 | eicker | 2009-09-18 20:26:09 +0200 (Fri, 18 Sep 2009) | 3 lines

Bugfix: Don't catch SIGABRT since it might bring the daemon into a
    strange state. Create core-dump, if possible.

------------------------------------------------------------------------
r7790 | eicker | 2009-09-17 14:21:03 +0200 (Thu, 17 Sep 2009) | 2 lines

Fix some @doctodos.

------------------------------------------------------------------------
r7789 | eicker | 2009-09-17 13:27:34 +0200 (Thu, 17 Sep 2009) | 4 lines

Enhancement: Complete rework of spawn-mechanism. This makes spawning
    much more asynchronously and should prevent unaccessible psids due
    to hanging file-systems.

------------------------------------------------------------------------
r7788 | eicker | 2009-09-13 17:50:22 +0200 (Sun, 13 Sep 2009) | 3 lines

Bugfix: Fix bug introduced in r7760 by calling list_add_tail with wrong
    order of arguments.

------------------------------------------------------------------------
r7787 | eicker | 2009-09-13 02:16:58 +0200 (Sun, 13 Sep 2009) | 3 lines

Bugfix: Fix bug introduced in r7741 by calling list_add_tail with wrong
    order of arguments.

------------------------------------------------------------------------
r7780 | eicker | 2009-09-04 16:31:54 +0200 (Fri, 04 Sep 2009) | 4 lines

Enhancement: If psid finds no CPU during startup, retry after some
    seconds.
Fix whitespace stuff.

------------------------------------------------------------------------
r7760 | eicker | 2009-09-01 19:30:51 +0200 (Tue, 01 Sep 2009) | 2 lines

Replace PStask_sig_t's DIY list by list_t.

------------------------------------------------------------------------
r7743 | eicker | 2009-08-31 13:58:49 +0200 (Mon, 31 Aug 2009) | 3 lines

Bugfix: Make psiadmin's 'plugins load <name>' directive actually work.
    psiadmin missed to send the trailing \0 in the message to psid.

------------------------------------------------------------------------
r7742 | eicker | 2009-08-31 13:34:57 +0200 (Mon, 31 Aug 2009) | 2 lines

Remove doubled registration of psiadmin's 'plugins unload' directive.

------------------------------------------------------------------------
r7741 | eicker | 2009-08-29 00:28:34 +0200 (Sat, 29 Aug 2009) | 2 lines

Replace PStask_t's double-linked list by list_t.

------------------------------------------------------------------------
r7740 | eicker | 2009-08-28 22:50:03 +0200 (Fri, 28 Aug 2009) | 3 lines

Bugfix: Prevent clearing recursive clearing of psid's RDP message list.
    This might lead to multiple calls to free() on the same memory.

------------------------------------------------------------------------
r7735 | eicker | 2009-08-27 13:27:24 +0200 (Thu, 27 Aug 2009) | 2 lines

New version (psmgmt-5.0.19)

------------------------------------------------------------------------

Version psmgmt-5.0.19:
======================
------------------------------------------------------------------------
r7734 | eicker | 2009-08-27 12:53:50 +0200 (Thu, 27 Aug 2009) | 6 lines

Bugfix: Clean-up tasks to be spawned upon connection breakdown. This
    should be to prevent daemon crashes, if a connection gets reseted
    during receive of a SPAWNREQ message.
Enhancement: Set errno correctly if PStask_clone() fails.
Bugfix: Report correct answer, if spawn request fails.

------------------------------------------------------------------------
r7733 | eicker | 2009-08-27 12:29:48 +0200 (Thu, 27 Aug 2009) | 4 lines

Explicitely reset timer-counter upon finish of the corresponding
    timeout-handler. This should reduce the frequency of potentially
    long-running timeout-handlers as the RDP's handler.

------------------------------------------------------------------------
r7732 | eicker | 2009-08-27 01:57:47 +0200 (Thu, 27 Aug 2009) | 2 lines

Bugfix: More robustness on log environments or argument-vectors.

------------------------------------------------------------------------
r7731 | eicker | 2009-08-27 01:56:30 +0200 (Thu, 27 Aug 2009) | 3 lines

Bugfix: Test much more (allocated) pointers on validity. This should
    prevent the psid from catching a segfault (see #751 in JuRoPA TRAC).

------------------------------------------------------------------------
r7730 | eicker | 2009-08-27 01:51:52 +0200 (Thu, 27 Aug 2009) | 3 lines

Bugfix: Fix some race-conditions that might lead to annoying
    'doACK: strange things happen' messages (see #327).

------------------------------------------------------------------------
r7729 | eicker | 2009-08-27 01:48:52 +0200 (Thu, 27 Aug 2009) | 3 lines

Enhancement: More verbose message, if user requested more processors
    than given by the batch-system.

------------------------------------------------------------------------
r7722 | eicker | 2009-08-18 20:24:16 +0200 (Tue, 18 Aug 2009) | 3 lines

Bugfix: Make psids faster aware of single-sided closed RDP-connections.
    Hopefully this helps with #386 and #385.

------------------------------------------------------------------------
r7721 | eicker | 2009-08-18 13:05:56 +0200 (Tue, 18 Aug 2009) | 3 lines

Bugfix: Prevent psid from segfaulting during shutdown
Bugfix: Prevent psid from generating packet-storms during shutdown

------------------------------------------------------------------------
r7715 | eicker | 2009-08-03 18:38:29 +0200 (Mon, 03 Aug 2009) | 2 lines

New version (psmgmt-5.0.18)

------------------------------------------------------------------------

Version psmgmt-5.0.18:
======================

------------------------------------------------------------------------
r7714 | eicker | 2009-08-03 18:36:27 +0200 (Mon, 03 Aug 2009) | 3 lines

Make logger less verbose. Don't irritate users with 'CC_ERROR from
    unknown task' messages.

------------------------------------------------------------------------
r7713 | eicker | 2009-08-03 18:34:04 +0200 (Mon, 03 Aug 2009) | 3 lines

libpsi: From now on wait for 60 seconds (instead of 10) to get the
requested resources within PSI_createPartition().

------------------------------------------------------------------------
r7712 | eicker | 2009-08-02 23:07:54 +0200 (Sun, 02 Aug 2009) | 3 lines

Bugfix: Discard messages to the local daemon in condSendMsg(). This
    should fix #391.

------------------------------------------------------------------------
r7708 | rauh | 2009-07-30 13:35:44 +0200 (Thu, 30 Jul 2009) | 2 lines

bugfix: always calculate avg_value columns or the output will be messed up

------------------------------------------------------------------------
r7707 | rauh | 2009-07-30 12:25:51 +0200 (Thu, 30 Jul 2009) | 2 lines

added option --jobid to search for an specific job id

------------------------------------------------------------------------
r7682 | rauh | 2009-07-13 12:20:25 +0200 (Mon, 13 Jul 2009) | 2 lines

Enhancement: more verbose output on pmi errors

------------------------------------------------------------------------
r7678 | eicker | 2009-07-10 02:54:34 +0200 (Fri, 10 Jul 2009) | 2 lines

New version (psmgmt-5.0.17)

------------------------------------------------------------------------

Version psmgmt-5.0.17:
======================
------------------------------------------------------------------------
r7677 | eicker | 2009-07-10 00:16:14 +0200 (Fri, 10 Jul 2009) | 2 lines

Bugfix: Fix flaw introduced in r7659.

------------------------------------------------------------------------
r7676 | eicker | 2009-07-09 19:20:39 +0200 (Thu, 09 Jul 2009) | 2 lines

Bugfix: Fix broken variable declaration introduced in r7671.

------------------------------------------------------------------------
r7675 | hauke | 2009-07-09 13:22:27 +0200 (Thu, 09 Jul 2009) | 1 line

psh: Change the maxrcmd default to 128.
------------------------------------------------------------------------
r7674 | hauke | 2009-07-09 13:22:26 +0200 (Thu, 09 Jul 2009) | 1 line

psh: Do the cleanup in backgroud.
------------------------------------------------------------------------
r7673 | hauke | 2009-07-09 13:22:25 +0200 (Thu, 09 Jul 2009) | 2 lines

psh: compare output files via md5sum's. Remove old "diff"
compare. This speedup the merge a lot!
------------------------------------------------------------------------
r7672 | hauke | 2009-07-09 13:22:23 +0200 (Thu, 09 Jul 2009) | 1 line

psh: whitespace cleanup.
------------------------------------------------------------------------
r7671 | eicker | 2009-07-08 16:33:14 +0200 (Wed, 08 Jul 2009) | 3 lines

Enhancement: Make execution of external scripts more asynchronuous.
Mark PSID_setParam() and PSID_getParam() as deprecated.

------------------------------------------------------------------------
r7668 | eicker | 2009-07-06 23:41:25 +0200 (Mon, 06 Jul 2009) | 2 lines

Enhancement: Prepare for general hook functions.

------------------------------------------------------------------------
r7667 | eicker | 2009-07-06 22:59:15 +0200 (Mon, 06 Jul 2009) | 3 lines

Get rid of '/sbin/service parastation condrestart' on RPM update. This
    should fix #325.

------------------------------------------------------------------------
r7666 | eicker | 2009-07-06 22:57:36 +0200 (Mon, 06 Jul 2009) | 3 lines

Get rid of ambiguous LOCKFILE.
Whitespace cleanup.

------------------------------------------------------------------------
r7665 | eicker | 2009-07-06 22:55:57 +0200 (Mon, 06 Jul 2009) | 3 lines

Bugfix: Get rid of 'manpath -q' also for (t)csh
Whitespace cleanup.

------------------------------------------------------------------------
r7663 | rauh | 2009-07-03 11:15:59 +0200 (Fri, 03 Jul 2009) | 2 lines

added missing mpiexec.gdb to svn

------------------------------------------------------------------------
r7662 | rauh | 2009-07-02 17:12:07 +0200 (Thu, 02 Jul 2009) | 2 lines

Enhancement: better filename for /opt/parastation/config/gdb.conf -> mpiexec.gdb (ticket #236)

------------------------------------------------------------------------
r7661 | rauh | 2009-07-02 17:06:54 +0200 (Thu, 02 Jul 2009) | 2 lines

removed whitespace errors and warning in psiloggermerge.c

------------------------------------------------------------------------
r7660 | rauh | 2009-07-02 16:58:03 +0200 (Thu, 02 Jul 2009) | 3 lines

Bugfix: Ticket #351, mpiexec with merge should now output lines with missing '\n'.
some cleanup of code, typo

------------------------------------------------------------------------
r7659 | eicker | 2009-07-01 21:53:05 +0200 (Wed, 01 Jul 2009) | 2 lines

Streamline the daisy-chaining stuff. Fix some possible race-conditions.

------------------------------------------------------------------------
r7658 | eicker | 2009-07-01 19:05:42 +0200 (Wed, 01 Jul 2009) | 3 lines

Enhancement: New directives in psiadmin: 'list up' and 'list down'
Enhancement: Extended directive in psiadmin: 'list summary [max <max>]'.

------------------------------------------------------------------------
r7657 | rauh | 2009-07-01 15:40:14 +0200 (Wed, 01 Jul 2009) | 3 lines

Enhancement: added umask option to mpiexec
Bugfix: removed unnecessary/dangerous catching of many signals

------------------------------------------------------------------------
r7652 | eicker | 2009-07-01 14:40:29 +0200 (Wed, 01 Jul 2009) | 3 lines

Enhancemment: More readable output from logger, if output-source is
    printed. This fixes #350.

------------------------------------------------------------------------
r7651 | eicker | 2009-07-01 14:20:15 +0200 (Wed, 01 Jul 2009) | 3 lines

Bugfix: Don't receive more answers on spawn-messages than expected. This
    should fix #349.

------------------------------------------------------------------------
r7649 | eicker | 2009-07-01 12:01:54 +0200 (Wed, 01 Jul 2009) | 2 lines

Enhancement: Propagate umask setting to child tasks.

------------------------------------------------------------------------
r7648 | eicker | 2009-07-01 12:01:06 +0200 (Wed, 01 Jul 2009) | 2 lines

Fix on compile-warning.

------------------------------------------------------------------------
r7647 | eicker | 2009-07-01 12:00:37 +0200 (Wed, 01 Jul 2009) | 3 lines

Bugfix: Fix nodelist '-1' syntax in psiadmin, if only one node is
    defined.

------------------------------------------------------------------------
r7643 | hauke | 2009-07-01 10:31:40 +0200 (Wed, 01 Jul 2009) | 2 lines

psh: new rcmd default with ConnectTimeout: "ssh -x -oConnectTimeout=10"

------------------------------------------------------------------------
r7622 | rauh | 2009-06-03 12:16:07 +0200 (Wed, 03 Jun 2009) | 3 lines

Enhancement: if we use a daisy chain in pmi, now all the barrier_in message (except the first one)
will be distributed over the daisy chain too.

------------------------------------------------------------------------
r7621 | rauh | 2009-06-03 10:40:10 +0200 (Wed, 03 Jun 2009) | 3 lines

Enhancement: if we use daisy chain in pmi, now the kvs_update_cache_result is
only send from the last rank in the chain.

------------------------------------------------------------------------
r7616 | eicker | 2009-06-02 22:42:27 +0200 (Tue, 02 Jun 2009) | 2 lines

New release (psmgmt-5.0.16-2)

------------------------------------------------------------------------

Version psmgmt-5.0.16-2:
========================
------------------------------------------------------------------------
r7615 | eicker | 2009-06-02 22:40:44 +0200 (Tue, 02 Jun 2009) | 2 lines

Various fixes to make changes from r7613 actually work.

------------------------------------------------------------------------
r7614 | eicker | 2009-06-02 18:03:26 +0200 (Tue, 02 Jun 2009) | 3 lines

Fix one bug introduced in r7613.
Improved logging.

------------------------------------------------------------------------
r7613 | eicker | 2009-06-02 16:05:18 +0200 (Tue, 02 Jun 2009) | 2 lines

Enhancement: Implement daisy-chain broadcasts for PMI-broadcasts.

------------------------------------------------------------------------
r7612 | rauh | 2009-06-02 12:04:08 +0200 (Tue, 02 Jun 2009) | 3 lines

Enhancement: only send a kvs update to all clients, if the kvs really changed. Not at every barrier.
Enhancement: better kvs debug messages

------------------------------------------------------------------------
r7608 | eicker | 2009-06-02 01:55:05 +0200 (Tue, 02 Jun 2009) | 2 lines

New version (psmgmt-5.0.16)

------------------------------------------------------------------------

Version psmgmt-5.0.16:
======================
------------------------------------------------------------------------
r7607 | eicker | 2009-06-02 01:43:38 +0200 (Tue, 02 Jun 2009) | 2 lines

Also present OTHER_OPTIONS string on --help in mpiexec.

------------------------------------------------------------------------
r7606 | eicker | 2009-06-02 01:35:22 +0200 (Tue, 02 Jun 2009) | 2 lines

Bugfix: Fix mpiexec's help and usage messages.

------------------------------------------------------------------------
r7605 | eicker | 2009-06-02 01:13:58 +0200 (Tue, 02 Jun 2009) | 2 lines

Bugfix: Prevent mpiexec from SEGFAULTing on error-message.

------------------------------------------------------------------------
r7604 | eicker | 2009-06-02 00:38:54 +0200 (Tue, 02 Jun 2009) | 2 lines

Bugfix: Fix SEGFAULT introduced in r7602.

------------------------------------------------------------------------
r7603 | eicker | 2009-06-02 00:27:30 +0200 (Tue, 02 Jun 2009) | 5 lines

Bugfix: Fix problems that might lead to orphaned forwarder-processes.
    Thus, childs are declared dead towards local daemon *after*
    releasing the logger and dropped CC_MSG packets create CC_ERROR
    answers.

------------------------------------------------------------------------
r7602 | eicker | 2009-05-31 15:41:44 +0200 (Sun, 31 May 2009) | 3 lines

Enhancement: Propagate the setting of 'ulimit -c' to parallel jobs. This
    should fix #206.

------------------------------------------------------------------------
r7598 | eicker | 2009-05-29 22:27:07 +0200 (Fri, 29 May 2009) | 2 lines

New release (psmgmt-5.0.15-8)

------------------------------------------------------------------------

Version psmgmt-5.0.15-8:
========================
------------------------------------------------------------------------
r7597 | eicker | 2009-05-29 22:00:13 +0200 (Fri, 29 May 2009) | 2 lines

Bugfix: Compute timeout correctly in psilogger's KVS on huge clusters.

------------------------------------------------------------------------
r7592 | eicker | 2009-05-29 19:06:48 +0200 (Fri, 29 May 2009) | 3 lines

Add some more information about RDP's information. This is accessible
    via psiadmin's 'show rdpretrans' directive.

------------------------------------------------------------------------
r7579 | eicker | 2009-05-27 18:31:52 +0200 (Wed, 27 May 2009) | 2 lines

New release (psmgmt-5.0.15-6)

------------------------------------------------------------------------

Version psmgmt-5.0.15-6:
========================
------------------------------------------------------------------------
r7578 | eicker | 2009-05-27 17:57:03 +0200 (Wed, 27 May 2009) | 3 lines

Fix flow-control: sendMsg() should not fail, if message was stored and
    just a SENDSTOP was initiated.

------------------------------------------------------------------------
r7577 | eicker | 2009-05-27 12:31:20 +0200 (Wed, 27 May 2009) | 2 lines

Try to work around a scalabitlity problem in message spawn.

------------------------------------------------------------------------
r7576 | eicker | 2009-05-27 11:53:56 +0200 (Wed, 27 May 2009) | 2 lines

Try to make dospawn more scalable by handling answer on availability.

------------------------------------------------------------------------
r7575 | eicker | 2009-05-27 11:51:32 +0200 (Wed, 27 May 2009) | 2 lines

Fix typo introduced in r7574.

------------------------------------------------------------------------
r7574 | eicker | 2009-05-27 10:41:40 +0200 (Wed, 27 May 2009) | 4 lines

Bugfix: Really activate RDP's close timeout.
Bugfix: Try to fix possible race-condition that might lead to annoying 'doACK:
    strange things happen' messages

------------------------------------------------------------------------
r7565 | eicker | 2009-05-25 17:46:54 +0200 (Mon, 25 May 2009) | 2 lines

New release (psmgmt-5.0.15-2)

------------------------------------------------------------------------

Version psmgmt-5.0.15-2:
========================
------------------------------------------------------------------------
r7564 | eicker | 2009-05-25 17:14:36 +0200 (Mon, 25 May 2009) | 4 lines

Reducing RDP's number of preallocated buffers on huge clusters seem to
    be no good idea. Set to full window-size, again.
Instead, reduce window-size from 64 to 32.

------------------------------------------------------------------------
r7558 | eicker | 2009-05-25 16:49:07 +0200 (Mon, 25 May 2009) | 2 lines

Replace various self-coded list-structures with list_t from list.h.

------------------------------------------------------------------------
r7552 | eicker | 2009-05-25 00:38:08 +0200 (Mon, 25 May 2009) | 2 lines

New version (psmgmt-5.0.15)

------------------------------------------------------------------------

Version psmgmt-5.0.15:
======================
------------------------------------------------------------------------
r7551 | eicker | 2009-05-25 00:33:32 +0200 (Mon, 25 May 2009) | 2 lines

Remove some compiler-warnings introduced lately.

------------------------------------------------------------------------
r7550 | eicker | 2009-05-25 00:24:36 +0200 (Mon, 25 May 2009) | 3 lines

Enhancement: Provide some error analysis, if an application cannot
    create a partition even in the presence of a batch-system

------------------------------------------------------------------------
r7549 | eicker | 2009-05-25 00:22:51 +0200 (Mon, 25 May 2009) | 2 lines

Don't catch SIGSEGV within mpiexec.

------------------------------------------------------------------------
r7548 | eicker | 2009-05-24 21:38:56 +0200 (Sun, 24 May 2009) | 3 lines

Use virtual processors for scheduling instead of physical ones. This
    enable the use of SMT.

------------------------------------------------------------------------
r7547 | eicker | 2009-05-24 20:50:49 +0200 (Sun, 24 May 2009) | 3 lines

Bugfix: Fix error preventing cross-version compatibility. This was
    introduced in r7494.

------------------------------------------------------------------------
r7546 | eicker | 2009-05-24 19:55:11 +0200 (Sun, 24 May 2009) | 4 lines

Enhancement: Enable more than 1 thread per process for multi-threaded
    applications. Define the PSI_TPP environment to enable.
Bugfix: Make tpp-feature in partition-requests really working.

------------------------------------------------------------------------
r7545 | eicker | 2009-05-24 15:27:59 +0200 (Sun, 24 May 2009) | 3 lines

Bugfix: Fix race-condition in client-client flow-control. This might
    lead to autistic forwarders.

------------------------------------------------------------------------
r7544 | eicker | 2009-05-24 15:04:03 +0200 (Sun, 24 May 2009) | 2 lines

More debug information for CC-msg handling.

------------------------------------------------------------------------
r7543 | eicker | 2009-05-24 15:03:28 +0200 (Sun, 24 May 2009) | 3 lines

Enhancement: Allow user to use environment to suppress process-pinning
    (__PSI_NO_PINPROC) and memory-binding (__PSI_NO_BINDMEM)

------------------------------------------------------------------------
r7541 | eicker | 2009-05-22 14:42:06 +0200 (Fri, 22 May 2009) | 2 lines

Bugfix: Also send UID/GID in PROVIDETASK messages. This should fix #320.

------------------------------------------------------------------------
r7535 | eicker | 2009-05-20 15:25:05 +0200 (Wed, 20 May 2009) | 2 lines

New version (psmgmt-5.0.14)

------------------------------------------------------------------------

Version psmgmt-5.0.14:
======================
------------------------------------------------------------------------
r7527 | eicker | 2009-05-19 14:55:55 +0200 (Tue, 19 May 2009) | 3 lines

Limit maximum number of status-broadcasts again, now to 4 per iteration.
Add additional problem reporting.

------------------------------------------------------------------------
r7525 | eicker | 2009-05-19 11:16:29 +0200 (Tue, 19 May 2009) | 6 lines

Limit the number of status-broadcast per status iteration. Excessive
    status-broadcasts due to lost connections might make RDP run out of
    pre-allocated buffers.
Also make this status-broadcast limit configurable. Both ways are
    supported, runtime (via psiadmin) and persistent (via parastation.conf).

------------------------------------------------------------------------
r7524 | eicker | 2009-05-18 22:08:04 +0200 (Mon, 18 May 2009) | 3 lines

Close RDP-connection immediately after sending SHUTDOWN message. This
    should prevent excessive resends on huge clusters.

------------------------------------------------------------------------
r7523 | eicker | 2009-05-18 21:47:14 +0200 (Mon, 18 May 2009) | 4 lines

Enhancement: Also make timeout of RDP's central timer configurable.
    Both ways are supported, runtime (via psiadmin) and persistent (via
    parastation.conf).

------------------------------------------------------------------------
r7522 | eicker | 2009-05-18 20:50:56 +0200 (Mon, 18 May 2009) | 3 lines

Enhancement: Implement psiadmin's 'set master <id>' directive to give
    the ParaStation daemon hints about the real master.

------------------------------------------------------------------------
r7519 | eicker | 2009-05-18 13:34:05 +0200 (Mon, 18 May 2009) | 4 lines

Enhancement: Make both, the RDP-ping's status-timeout and dead-limit
    configurable. Both ways of configuration are supported: During
    run-time via psiadmin and persistently in parastation.conf.

------------------------------------------------------------------------
r7495 | eicker | 2009-05-12 22:10:21 +0200 (Tue, 12 May 2009) | 2 lines

New version (psmgmt-5.0.13)

------------------------------------------------------------------------

Version psmgmt-5.0.13:
======================
------------------------------------------------------------------------
r7494 | eicker | 2009-05-12 22:07:09 +0200 (Tue, 12 May 2009) | 3 lines

Bugfix: Fix problems with CD_GETNODES messages due to reduced
    maximum message-size.

------------------------------------------------------------------------
r7493 | eicker | 2009-05-12 22:05:05 +0200 (Tue, 12 May 2009) | 2 lines

Update some outdated information on message-types.

------------------------------------------------------------------------
r7492 | eicker | 2009-05-12 21:58:35 +0200 (Tue, 12 May 2009) | 5 lines

Implement RDP's closed-timeout. On freshly closed connections all
    messages are ignored during this period.
Make RDP's closed-timeout configurable during runtime via psiadmin.
Make RDP's closed-timeout persistently configurable via parastation.conf.

------------------------------------------------------------------------
r7490 | eicker | 2009-05-12 18:12:36 +0200 (Tue, 12 May 2009) | 2 lines

Increase (again) number of preallocated buffers on huge clusters.

------------------------------------------------------------------------
r7489 | eicker | 2009-05-11 20:43:50 +0200 (Mon, 11 May 2009) | 2 lines

Improved logging in RDP's MYsendto.

------------------------------------------------------------------------
r7484 | eicker | 2009-05-11 13:19:35 +0200 (Mon, 11 May 2009) | 2 lines

New release (psmgmt-5.0.12-4)

------------------------------------------------------------------------

Version psmgmt-5.0.12-4:
========================
------------------------------------------------------------------------
r7483 | eicker | 2009-05-11 13:17:27 +0200 (Mon, 11 May 2009) | 4 lines

Bugfix: Fix potential segfault in RDP. In rare cases RDP's list-handling
    might get confused. Seen on JuRoPA under heavy message load due to
    other psid's running amok.

------------------------------------------------------------------------
r7479 | eicker | 2009-05-08 21:49:01 +0200 (Fri, 08 May 2009) | 2 lines

New release (psmgmt-5.0.12-3)

------------------------------------------------------------------------

Version psmgmt-5.0.12-3:
========================
------------------------------------------------------------------------
r7478 | eicker | 2009-05-08 21:47:17 +0200 (Fri, 08 May 2009) | 2 lines

Bugfix: Really get first message- or ack-buffers.

------------------------------------------------------------------------
r7474 | eicker | 2009-05-08 18:10:08 +0200 (Fri, 08 May 2009) | 2 lines

New release (psmgmt-5.0.12-2)

------------------------------------------------------------------------

Version psmgmt-5.0.12-2:
========================
------------------------------------------------------------------------
r7473 | eicker | 2009-05-08 18:08:11 +0200 (Fri, 08 May 2009) | 3 lines

Bugfix: Test, if a message buffer really was available.
Bugfix: Don't allocate much to few message- and ack-buffers.

------------------------------------------------------------------------
r7469 | eicker | 2009-05-08 15:09:31 +0200 (Fri, 08 May 2009) | 2 lines

New release (psmgmt-5.0.12-1)

------------------------------------------------------------------------

Version psmgmt-5.0.12-1:
========================
------------------------------------------------------------------------
r7468 | eicker | 2009-05-08 15:06:17 +0200 (Fri, 08 May 2009) | 10 lines

Bugfix: Eliminate possible list-confusion in RDP during conn. close.
Bugfix: Really send new master in DD_MASTER_IS message.
Bugfix: Increase cross-version compatibility of DD_LOAD messages.
Enhancement: Suppress error-logs, if daemon shuts down gracefully.
Enhancement: Make RDP's 'unable to process ACK' log more meaningful.
Enhancement: Smarter analysis of DD_ACTIVE_NODES messages.
Increase RDP's RDP_SMALL_DATA_SIZE to 64 byte, thus DD_LOAD messages now
    fitting.
Reduce RDP's number of allocated message-frames on huge clusters.

------------------------------------------------------------------------
r7462 | eicker | 2009-05-08 10:47:37 +0200 (Fri, 08 May 2009) | 2 lines

New version (psmgmt-5.0.12)

------------------------------------------------------------------------

Version psmgmt-5.0.12:
======================
------------------------------------------------------------------------
r7461 | eicker | 2009-05-08 10:45:17 +0200 (Fri, 08 May 2009) | 3 lines

Enhancement: Create psid's Local Service Port more recently. This give
    psiadmin a better chance to connect on daemon startup.

------------------------------------------------------------------------
r7460 | eicker | 2009-05-08 10:12:28 +0200 (Fri, 08 May 2009) | 4 lines

Bugfix: Fix resend-timer handling in RDP. This was introduced in r7441.
Enhancement: Make RDP's resend-timeout configurable during runtime and
    persistantly within configuration-file.

------------------------------------------------------------------------
r7459 | eicker | 2009-05-08 10:07:02 +0200 (Fri, 08 May 2009) | 2 lines

Prevent two unsigned/signed warning on Power platforms.

------------------------------------------------------------------------
r7458 | eicker | 2009-05-08 09:44:52 +0200 (Fri, 08 May 2009) | 3 lines

Bugfix: Prevent 'CheckFileTable(0): EBADF -> close socket' messages with
    MPI1

------------------------------------------------------------------------
r7449 | eicker | 2009-05-07 10:28:20 +0200 (Thu, 07 May 2009) | 2 lines

New version (psmgmt-5.0.11)

------------------------------------------------------------------------

Version psmgmt-5.0.11:
======================
------------------------------------------------------------------------
r7448 | eicker | 2009-05-07 10:10:28 +0200 (Thu, 07 May 2009) | 3 lines

Enhancement: New option for psiadmin '-d' prevents starting local
    daemon.

------------------------------------------------------------------------
r7447 | eicker | 2009-05-07 10:07:05 +0200 (Thu, 07 May 2009) | 2 lines

Check permissions on DAEMONSTOP message.

------------------------------------------------------------------------
r7443 | eicker | 2009-05-05 23:45:22 +0200 (Tue, 05 May 2009) | 3 lines

Reset retransmission-counter on closeConnection().
Add retransmission-counter to psiadmin's 'list rdp' output.

------------------------------------------------------------------------
r7442 | eicker | 2009-05-05 23:28:29 +0200 (Tue, 05 May 2009) | 3 lines

Fix bugs introduced in r7441.
Cleanup psiadmin's 'list rdp' output.

------------------------------------------------------------------------
r7441 | eicker | 2009-05-05 20:33:53 +0200 (Tue, 05 May 2009) | 2 lines

Replace various self-coded list-structures with list_t from list.h.

------------------------------------------------------------------------
r7440 | eicker | 2009-05-05 19:13:11 +0200 (Tue, 05 May 2009) | 2 lines

Update PSP_DD_LOAD's information.

------------------------------------------------------------------------
r7439 | eicker | 2009-05-05 19:11:05 +0200 (Tue, 05 May 2009) | 2 lines

Document changes introduced in r7438 in psiadmin's online help.

------------------------------------------------------------------------
r7438 | eicker | 2009-05-05 17:45:53 +0200 (Tue, 05 May 2009) | 8 lines

Make maximum pending ACKs in RDP configurable.
Thus, the new option PSP_OP_RDPMAXACKPEND is invented.
Additionally, the new functions getMaxAckPendRDP()/setMaxAckPendRDP()
   are required.
psiadmin needs new directives 'set/show rdpmaxackpend'
New directives withing parastation.conf 'RDPMaxACKPending' and
   'RDPMaxRetrans' to allow persistent settings.

------------------------------------------------------------------------
r7437 | eicker | 2009-05-04 18:04:09 +0200 (Mon, 04 May 2009) | 3 lines

Make RDP platform independent. For this some helper functions handling
    byte-order related stuff in psbyteorder.h are added.

------------------------------------------------------------------------
r7431 | eicker | 2009-04-30 22:15:25 +0200 (Thu, 30 Apr 2009) | 6 lines

Limit maximum size of messages sent to 1500 byte. Thus, each message
    sent fits into an Ethernet frame and splitting into fragments within
    the IP layer is not required.
Add size argument to PSI_recvMsg(). This prevents possible seqmentation
    faults.

------------------------------------------------------------------------
r7429 | eicker | 2009-04-30 16:28:28 +0200 (Thu, 30 Apr 2009) | 5 lines

Replace psh's awk-based functions for name expansion and merging with
    more powerful bash-functions developed by Ferdinand.
Mark xinetd configuration file for psidstarter as config-file. Thus, it
    will not be replaced during RPM updates.

------------------------------------------------------------------------
r7428 | eicker | 2009-04-29 23:46:05 +0200 (Wed, 29 Apr 2009) | 2 lines

Enable loading and unloading of plugins during runtime.

------------------------------------------------------------------------
r7426 | eicker | 2009-04-29 23:05:35 +0200 (Wed, 29 Apr 2009) | 2 lines

Add package name to VERSION.package file. This fixes #296.

------------------------------------------------------------------------
r7422 | eicker | 2009-04-28 17:41:35 +0200 (Tue, 28 Apr 2009) | 2 lines

Update information about various messages used by ParaStation.

------------------------------------------------------------------------
r7412 | eicker | 2009-04-20 12:35:27 +0200 (Mon, 20 Apr 2009) | 3 lines

Bugfix: Don't try to start psid during spawn, if remote daemon is down.
    This should fix #266.

------------------------------------------------------------------------
r7383 | eicker | 2009-04-03 15:15:13 +0200 (Fri, 03 Apr 2009) | 14 lines

Extension: Prepare for daemon-plugins. Right now the daemon might load
    plugins on startup and the admin is abe to show the plugins.
    (Un-)loading plugins during runtime is not yet supported.
Remove PSC_setInstalldir(). Functionality now provided via hint to
    PSC_lookupInstalldir().
New message type PSP_INFO_QUEUE_PLUGINS. Used by psiadmin to fetch
    information about plugins.
Parser for configuration file now suppert plugins directive.
psiadmin's parser supports 'plugins' directive. No funtionality for
    (un-)loading plugins yet.
Minor improvements in psiadmin's syntax check.
Minor improvements in psiadmin's help messages.
Many whitespace cleanups

------------------------------------------------------------------------
r7381 | eicker | 2009-04-02 19:06:36 +0200 (Thu, 02 Apr 2009) | 4 lines

Allow exact matching shortcuts. E.g. in psiadmin 'list p' is allowed,
    even if 'list' might be followed by both, 'processes' and 'plugins'.
    The shortcut has to be added explicitely to the parser's keylist.

------------------------------------------------------------------------
r7368 | rauh | 2009-04-01 12:34:11 +0200 (Wed, 01 Apr 2009) | 2 lines

Bugfix: mpiexec didn't recognize of no cmd was given.

------------------------------------------------------------------------
r7361 | eicker | 2009-03-27 18:14:49 +0100 (Fri, 27 Mar 2009) | 4 lines

Extension: New directive 'resolve' in psiadmin.
Remove some obsolete code.
More whitespace cleanup.

------------------------------------------------------------------------
r7360 | eicker | 2009-03-27 18:09:03 +0100 (Fri, 27 Mar 2009) | 2 lines

Bugfix: Fix manual build. psidspawn.o has to find config.h.

------------------------------------------------------------------------
r7340 | eicker | 2009-03-16 11:47:40 +0100 (Mon, 16 Mar 2009) | 2 lines

New release (psmgmt-5.0.10-2)

------------------------------------------------------------------------

Version psmgmt-5.0.10-2:
========================
------------------------------------------------------------------------
r7339 | eicker | 2009-03-16 10:59:14 +0100 (Mon, 16 Mar 2009) | 3 lines

Bugfix: Support both version of the libnuma-API.
Reorganize build-systems function/library detection.

------------------------------------------------------------------------
r7338 | eicker | 2009-03-16 09:42:16 +0100 (Mon, 16 Mar 2009) | 2 lines

Bugfix: Use real input-string when detecting no "$" in handleGenStr().

------------------------------------------------------------------------
r7334 | eicker | 2009-03-14 03:50:17 +0100 (Sat, 14 Mar 2009) | 3 lines

Bugfix: psidintel.o has to be compiled with -O0 for correct
    CPU-detection.

------------------------------------------------------------------------
r7330 | eicker | 2009-03-14 02:08:29 +0100 (Sat, 14 Mar 2009) | 2 lines

New version (psmgmt-5.0.10)

------------------------------------------------------------------------

Version psmgmt-5.0.10:
======================
------------------------------------------------------------------------
r7329 | eicker | 2009-03-14 02:05:42 +0100 (Sat, 14 Mar 2009) | 2 lines

Also convert mpirun_elan to use a single spawn for compute-processes.

------------------------------------------------------------------------
r7328 | eicker | 2009-03-14 01:12:49 +0100 (Sat, 14 Mar 2009) | 3 lines

Modify mpiexec so that all client processes get spawned by a single call
    to PSI_spawnStrict().

------------------------------------------------------------------------
r7327 | eicker | 2009-03-14 01:04:17 +0100 (Sat, 14 Mar 2009) | 3 lines

Bugfix: Don't increment rank before per-node environment is set.
Bugfix: Instantiate environment only once.

------------------------------------------------------------------------
r7325 | eicker | 2009-03-13 17:00:38 +0100 (Fri, 13 Mar 2009) | 2 lines

Cleanup ELAN-part of mpiexec.

------------------------------------------------------------------------
r7321 | eicker | 2009-03-13 13:07:06 +0100 (Fri, 13 Mar 2009) | 2 lines

Make mpirun_elan's code somewhat cleaner.

------------------------------------------------------------------------
r7320 | eicker | 2009-03-13 12:50:42 +0100 (Fri, 13 Mar 2009) | 2 lines

Make mpiexec's code somewhat cleaner.

------------------------------------------------------------------------
r7319 | eicker | 2009-03-13 12:24:11 +0100 (Fri, 13 Mar 2009) | 4 lines

Extension: Make PSI_spawn*() family work even if no tid-pointer given.
Make mpirun_openib work with single PSI_spawnStrict() call.
Major whitespace cleanup.

------------------------------------------------------------------------
r7318 | eicker | 2009-03-13 11:43:13 +0100 (Fri, 13 Mar 2009) | 2 lines

Bugfix: Adapt membinding-code to changed API of newer libnuma.

------------------------------------------------------------------------
r7282 | eicker | 2009-02-26 14:48:40 +0100 (Thu, 26 Feb 2009) | 4 lines

Extension: Allow node entries with $GENERATE syntax as known from bind.
    This fixes #30.
Extension: Allow per node environment. This fixes #66.

------------------------------------------------------------------------
r7273 | eicker | 2009-02-25 10:56:18 +0100 (Wed, 25 Feb 2009) | 2 lines

Make pssh's interactive behavior more compatible with ssh.

------------------------------------------------------------------------
r7248 | rauh | 2009-02-19 11:01:14 +0100 (Thu, 19 Feb 2009) | 2 lines

bugfix: mpiexec --env should now finally work as espected, ticket #224

------------------------------------------------------------------------
r7238 | eicker | 2009-02-16 16:00:07 +0100 (Mon, 16 Feb 2009) | 4 lines

Bugfix: Some debugging adjustment prevented 'mpiexec -gdb' from correct
    functionality for less than 16 clients.
Cleanup (again) whitespace-junk.

------------------------------------------------------------------------
r7237 | rauh | 2009-02-16 15:27:58 +0100 (Mon, 16 Feb 2009) | 2 lines

bugfix: mpiexec, removed duplicate error ouput

------------------------------------------------------------------------
r7236 | rauh | 2009-02-16 13:47:42 +0100 (Mon, 16 Feb 2009) | 2 lines

added mpiexec --no_ondemand option

------------------------------------------------------------------------
r7235 | rauh | 2009-02-16 12:52:28 +0100 (Mon, 16 Feb 2009) | 3 lines

enhancement: mpiexec --gdb is using now the --args option as default, requested in ticket #222
enhancement: better verbose output

------------------------------------------------------------------------
r7234 | rauh | 2009-02-16 10:35:30 +0100 (Mon, 16 Feb 2009) | 2 lines

bugfix: mpiexec --env is now compatible to mpich, fixing ticket #219 and ticket #223

------------------------------------------------------------------------
r7232 | eicker | 2009-02-12 19:39:01 +0100 (Thu, 12 Feb 2009) | 3 lines

Improve raw-mode handling in logger, if remote process started via
    mpiexec.

------------------------------------------------------------------------
r7219 | hauke | 2009-02-11 15:28:09 +0100 (Wed, 11 Feb 2009) | 1 line

Add .gitignore
------------------------------------------------------------------------
r7217 | moschny | 2009-02-11 14:36:04 +0100 (Wed, 11 Feb 2009) | 2 lines

Fix #170.

------------------------------------------------------------------------
r7169 | eicker | 2009-02-03 14:17:49 +0100 (Tue, 03 Feb 2009) | 8 lines

Merge changes from Michael's branch:
- mpiexec: corrected spelling, dont catch SIGINT so we can be kill by
  ctrl-c
- pmi: docu for intel pmi extension, die on unsupported spwan-multi
  request, better output
Some cleanup from r7168
Cleanup whitespace waste.

------------------------------------------------------------------------
r7168 | eicker | 2009-02-03 11:31:37 +0100 (Tue, 03 Feb 2009) | 7 lines

Merge changes from Michael's branch:
- strongly optimized merge code
- bugfix: don`t try to merge output from special ranks e.g. service process
- bugfix: just allocate all the memory we need in advanced, dont waste
  time with reallocation


------------------------------------------------------------------------
r7167 | eicker | 2009-02-02 22:14:29 +0100 (Mon, 02 Feb 2009) | 5 lines

Bugfix: Complete rework client-managment and input-forwarding in
    psilogger. This makes mpiexec --gdb working for -np > 64.
Bugifx: Make process cleanup working again, if logger disappears in a
    nasty way, i.e. receiving but not answering FINALIZE.

------------------------------------------------------------------------
r7152 | eicker | 2009-01-29 18:51:18 +0100 (Thu, 29 Jan 2009) | 2 lines

Forward environment '__PSI_LOGGER_TIMEOUT' automatically.

------------------------------------------------------------------------
r7151 | eicker | 2009-01-29 18:47:10 +0100 (Thu, 29 Jan 2009) | 2 lines

Bugfix: Fix bug introduced in r7132.

------------------------------------------------------------------------
r7135 | eicker | 2009-01-28 19:32:20 +0100 (Wed, 28 Jan 2009) | 2 lines

Timeout waiting for partition if PSI_WAIT is not set.

------------------------------------------------------------------------
r7132 | eicker | 2009-01-27 10:14:50 +0100 (Tue, 27 Jan 2009) | 8 lines

Bugfix: Close forwarder's connection to local daemon on receiving
    message of length 0. This should fix #205.
Bugfix: Let forwarder wait ad infinitum for answering FINALIZE message.
    This should help with #186.
Extension: Make forwarder's timeout on connection to the logger
    configurable via __PSI_LOGGER_TIMEOUT. This should also help with
    #186.

------------------------------------------------------------------------
r7125 | eicker | 2009-01-23 09:35:22 +0100 (Fri, 23 Jan 2009) | 2 lines

Remove some warning concerning output conversions.

------------------------------------------------------------------------
r7070 | moschny | 2009-01-07 15:49:11 +0100 (Wed, 07 Jan 2009) | 2 lines

Use 0.0.rNNNN for the release number of trunk builds.

------------------------------------------------------------------------
r7066 | eicker | 2009-01-06 16:53:51 +0100 (Tue, 06 Jan 2009) | 7 lines

Merge changes from Michael's branch:
 added average memory values to accouting
 added change options user,group,jobname to match regular expressions
 added option to search for jobs which were run on a specific node
Adapt testacct to changes
Fix all the whitespace-errors in the edited files.

------------------------------------------------------------------------
r7065 | eicker | 2009-01-05 21:56:08 +0100 (Mon, 05 Jan 2009) | 4 lines

Bugfix: Try to fix #192. Seems that the logger sometimes ends
   prematurely and that the forwarder gets stuck by SIGNAL messages.
Start to rework the forwarding code in psilogger. Just some hacks, yet.

------------------------------------------------------------------------
r7050 | rauh | 2008-12-17 14:46:44 +0100 (Wed, 17 Dec 2008) | 2 lines

Bugfix: fixed rookie segfault in mpiexec

------------------------------------------------------------------------
r7049 | rauh | 2008-12-16 14:53:44 +0100 (Tue, 16 Dec 2008) | 3 lines

make mpiexec more independent if it was complied with elan support
ticket #168

------------------------------------------------------------------------
r7036 | eicker | 2008-12-10 21:10:28 +0100 (Wed, 10 Dec 2008) | 2 lines

Update copyrights according to last change.

------------------------------------------------------------------------
r7035 | eicker | 2008-12-10 21:06:51 +0100 (Wed, 10 Dec 2008) | 3 lines

Improve logging of psaccounter. For this, additional functionality had to
    be added to the PSC and PSI logging facilities.

------------------------------------------------------------------------
r7016 | eicker | 2008-12-09 13:51:49 +0100 (Tue, 09 Dec 2008) | 3 lines

Bugfix: Start hardware reasonably late in order to allow the accounter
  connecting the local daemon.

------------------------------------------------------------------------
r7009 | eicker | 2008-12-02 22:35:31 +0100 (Tue, 02 Dec 2008) | 2 lines

Try to fix #111 again.

------------------------------------------------------------------------
r7007 | eicker | 2008-12-01 21:40:42 +0100 (Mon, 01 Dec 2008) | 8 lines

Bugfix: Sselect() might return pending entries in the readfds set of
  file-descriptors never requested.
Get rid of the daemon's mainTimer.
The daemon's master socket (used for clients to connect) is now handled
  by the selector facility.
Bugfix: Fix bug in msg_CLIENTCONNECT() introduced in r7005/7006.
Bugfix: Add new files psidstate.[ch] to Makefile.sources.

------------------------------------------------------------------------
r7006 | eicker | 2008-12-01 19:10:22 +0100 (Mon, 01 Dec 2008) | 2 lines

The remaining part of the r7005 change.

------------------------------------------------------------------------
r7005 | eicker | 2008-12-01 19:07:26 +0100 (Mon, 01 Dec 2008) | 4 lines

Major refactoring of the daemon's message handling. The handling of the
  various message types is now much more flexible and even dynamic. This
  will be interestion once the daemon has dynamic plugins.

------------------------------------------------------------------------
r6975 | eicker | 2008-11-13 13:08:34 +0100 (Thu, 13 Nov 2008) | 3 lines

Bugfix: Send PSP_ACCOUNT_SLOTS messages to all accounters. Due to a bug
   in msg_ACCOUNT() a PSP_CD_ACCOUNT message was not re-usable.

------------------------------------------------------------------------
r6972 | rauh | 2008-11-06 13:51:22 +0100 (Thu, 06 Nov 2008) | 2 lines

added option (-T --timestamp) enabling PSI_TIMESTAMPS to mpiexec

------------------------------------------------------------------------
r6957 | hauke | 2008-10-31 12:16:44 +0100 (Fri, 31 Oct 2008) | 3 lines

Be strict POSIX compliance in "test"/[] calls. (No == use = instead!).
An alternative would be to use bash instead of /bin/sh.

------------------------------------------------------------------------
r6955 | eicker | 2008-10-29 17:15:51 +0100 (Wed, 29 Oct 2008) | 3 lines

Don't send SIGKILL if child-signal is no the default.
Suppress some warnings.

------------------------------------------------------------------------
r6558 | eicker | 2008-10-13 16:10:53 +0200 (Mon, 13 Oct 2008) | 2 lines

Update instructions on how to release a new version.

------------------------------------------------------------------------
r6556 | moschny | 2008-10-13 15:33:32 +0200 (Mon, 13 Oct 2008) | 2 lines

Add emacs mode identifier.

------------------------------------------------------------------------
r6553 | moschny | 2008-10-13 13:26:35 +0200 (Mon, 13 Oct 2008) | 1 line

Add missing file.
------------------------------------------------------------------------
r6526 | rauh | 2008-10-06 10:51:26 +0200 (Mon, 06 Oct 2008) | 2 lines

fixed wrong usage information

------------------------------------------------------------------------
r6525 | rauh | 2008-10-06 10:22:41 +0200 (Mon, 06 Oct 2008) | 2 lines

fixed wrong usage information

------------------------------------------------------------------------
r6523 | eicker | 2008-09-30 13:58:26 +0200 (Tue, 30 Sep 2008) | 2 lines

New version (psmgmt-5.0.9)

------------------------------------------------------------------------

Version psmgmt-5.0.9:
=====================
------------------------------------------------------------------------
r6514 | eicker | 2008-09-29 15:04:00 +0200 (Mon, 29 Sep 2008) | 2 lines

Bugfix: Enable 'bindMem' directive in configuration file.

------------------------------------------------------------------------
r6499 | eicker | 2008-09-17 13:53:32 +0200 (Wed, 17 Sep 2008) | 4 lines

Prevent sending SENDSTOP message if accounter is in autistic state.
Cancel alarm() call after spawning child processes in mpirun_elan.
Some minor changes to the build-system.

------------------------------------------------------------------------
r6494 | eicker | 2008-09-16 21:04:10 +0200 (Tue, 16 Sep 2008) | 2 lines

Minor changes to the build-system.

------------------------------------------------------------------------
r6491 | eicker | 2008-09-16 11:31:10 +0200 (Tue, 16 Sep 2008) | 2 lines

New version (psmgmt-5.0.8)

------------------------------------------------------------------------

Version psmgmt-5.0.8:
=====================
------------------------------------------------------------------------
r6483 | moschny | 2008-09-08 17:36:01 +0200 (Mon, 08 Sep 2008) | 1 line

Temporarily fix for #111, to enable building on Fedora 9.
------------------------------------------------------------------------
r6477 | eicker | 2008-09-04 10:13:14 +0200 (Thu, 04 Sep 2008) | 2 lines

Change some SVN properties within build system.

------------------------------------------------------------------------
r6447 | eicker | 2008-08-19 11:13:15 +0200 (Tue, 19 Aug 2008) | 3 lines

Bugfix: Processor detection on IA32 might fail due to aggressive
    compiler-optimizations.

------------------------------------------------------------------------
r6401 | eicker | 2008-07-25 17:03:44 +0200 (Fri, 25 Jul 2008) | 2 lines

Adapt method to put some files with x-bit into tar (and srpm).

------------------------------------------------------------------------
r6400 | moschny | 2008-07-25 14:49:05 +0200 (Fri, 25 Jul 2008) | 3 lines

Remove shebang lines, as they drag in unwanted dependencies in the
final rpms. Also, these scripts are not meant to be run stand-alone.

------------------------------------------------------------------------
r6397 | moschny | 2008-07-25 11:19:01 +0200 (Fri, 25 Jul 2008) | 1 line

Compatibility with make 3.80 on SLES10.
------------------------------------------------------------------------
r6392 | eicker | 2008-07-24 17:02:34 +0200 (Thu, 24 Jul 2008) | 3 lines

Add support for special scheduler setting. This is for Stephan Graf's
   tests with realtime-support for the JuRoPA system.

------------------------------------------------------------------------
r6391 | eicker | 2008-07-24 14:47:04 +0200 (Thu, 24 Jul 2008) | 2 lines

Fix depency check during build of RPM.

------------------------------------------------------------------------
r6389 | eicker | 2008-07-24 14:31:11 +0200 (Thu, 24 Jul 2008) | 3 lines

Fix bug in the new make mechanism which prevents from building RPMs.
Cleanup: remove INSTALL and PSM_INSTALL

------------------------------------------------------------------------
r6388 | moschny | 2008-07-24 14:26:54 +0200 (Thu, 24 Jul 2008) | 3 lines

%makeinstall doesn't set DESTDIR (at least on some systems). It is
deprecated anyway.

------------------------------------------------------------------------
r6386 | eicker | 2008-07-24 13:33:09 +0200 (Thu, 24 Jul 2008) | 2 lines

Complete rework of psmgmt's make process.

------------------------------------------------------------------------
r6376 | eicker | 2008-07-22 15:55:07 +0200 (Tue, 22 Jul 2008) | 2 lines

Fix problem introduced within last checkin.

------------------------------------------------------------------------
r6375 | eicker | 2008-07-22 15:41:26 +0200 (Tue, 22 Jul 2008) | 4 lines

Switch vcid's attribute from 'unused' to 'used'. This will make them
    appear even in the stripped executables.
Fixes in quite some copyright messages.

------------------------------------------------------------------------
r6368 | eicker | 2008-07-22 12:35:01 +0200 (Tue, 22 Jul 2008) | 2 lines

Fix build system for ppc64 builds.

------------------------------------------------------------------------
r6364 | eicker | 2008-07-21 17:39:04 +0200 (Mon, 21 Jul 2008) | 2 lines

Get rid of getClientFD(). Better find task and use task->fd.

------------------------------------------------------------------------
r6352 | eicker | 2008-07-21 14:31:53 +0200 (Mon, 21 Jul 2008) | 2 lines

Make sure that building RPMs does not use the /usr tree.

------------------------------------------------------------------------
r6347 | eicker | 2008-07-18 17:46:31 +0200 (Fri, 18 Jul 2008) | 2 lines

Don't remove old configuration file on update.

------------------------------------------------------------------------
r6346 | eicker | 2008-07-18 17:38:10 +0200 (Fri, 18 Jul 2008) | 2 lines

Rework the installation mechanism; get rid of the PSM_INSTALL script.

------------------------------------------------------------------------
r6345 | eicker | 2008-07-17 17:11:40 +0200 (Thu, 17 Jul 2008) | 2 lines

Rename PSI_OUTTIMES to PSI_TIMESTAMPS.

------------------------------------------------------------------------
r6339 | rauh | 2008-07-17 10:53:21 +0200 (Thu, 17 Jul 2008) | 2 lines

removed unsed function to prevent warning

------------------------------------------------------------------------
r6337 | moschny | 2008-07-16 17:23:07 +0200 (Wed, 16 Jul 2008) | 2 lines

Add `#include <limits.h>` to get `SSIZE_MAX`.

------------------------------------------------------------------------
r6336 | moschny | 2008-07-16 17:22:37 +0200 (Wed, 16 Jul 2008) | 2 lines

Add `#include <limits.h>` to get `HOST_NAME_MAX`.

------------------------------------------------------------------------
r6331 | rkr | 2008-07-16 10:07:06 +0200 (Wed, 16 Jul 2008) | 2 lines

psmgmt.sh: unknown option -q of RH manpath replaced

------------------------------------------------------------------------
r6315 | eicker | 2008-07-15 11:05:35 +0200 (Tue, 15 Jul 2008) | 8 lines

Extension: Enable the logging facility to print time-stamps.
Reorganize logging output: Direct print to fd even without newline.
Use logging facilities in psilogger instead directly printing to
   stdout/stderr.
psilogger prints high-resolution time-stamps, if PSI_OUTTIMES is set.
Fix RDP_blockTimer()'s prototype.
Major white-space cleanup.

------------------------------------------------------------------------
r6305 | eicker | 2008-07-10 20:11:55 +0200 (Thu, 10 Jul 2008) | 19 lines

Bugfix: This collection of changes fixes bug #125
Bugfix: Yet another possible SEGFAULT fixed. Reorganize flushing
    client-messages. Another list to fix.
Enable to block RDP's timer from outside via RDP_blockTimer()
Block RDP's timer while fiddling around with list of stored RDP-messages
    within daemon.
Store RELEASE messages for possible grand-childs.
Don't send SENDSTOP message back if original SENDSTOP message cannot be
    delivered. This suppresses an infinite loop.
Bugfix: Collect pending messages from dead childs (SIGCHLD received) and
    cleanup task afterwards.
Bugfix: Test newly created file-descriptors to fit into select-mask.
New functions PSID_getSignalByID() and PSID_getSignalByTID(). Used for
    saver handling of signal lists.
Make PSID_kill() work as described in docu, i.e. return correct errno.
Reorganize handling of pervasive signals.
Suppress many error-messages that might flood the syslog.
Rename sendAccoutingData() (typo!!) to sendAcctData()

------------------------------------------------------------------------
r6224 | rauh | 2008-07-08 10:14:08 +0200 (Tue, 08 Jul 2008) | 2 lines

fixed --norcfile option

------------------------------------------------------------------------
r6223 | rauh | 2008-07-07 14:40:47 +0200 (Mon, 07 Jul 2008) | 3 lines

added new option norcfile to prevent manipulating the output, if
we want to parse it later

------------------------------------------------------------------------
r6168 | eicker | 2008-06-26 10:49:01 +0200 (Thu, 26 Jun 2008) | 2 lines

New version (psmgmt-5.0.7)

------------------------------------------------------------------------

Version psmgmt-5.0.7:
=====================
------------------------------------------------------------------------
r6163 | moschny | 2008-06-24 17:05:12 +0200 (Tue, 24 Jun 2008) | 2 lines

Suppress warnings about existing MANPATH emitted by manpath.

------------------------------------------------------------------------
r6158 | rauh | 2008-06-23 16:36:27 +0200 (Mon, 23 Jun 2008) | 3 lines

removed stupid value swap space
bugfix: nospace option now quotes more values

------------------------------------------------------------------------
r6139 | rauh | 2008-06-11 15:03:19 +0200 (Wed, 11 Jun 2008) | 2 lines

fixed conversion warning

------------------------------------------------------------------------
r6138 | eicker | 2008-06-11 14:27:59 +0200 (Wed, 11 Jun 2008) | 10 lines

Reorganize signaling stuff:
 - Forwarder releases child even if PMI is not used.
 - Adapt CHILDDEAD message-handling once more.
 - Remove signal from assignedSigs within PSID_sendSignal().
 - PSID_releaseTask() now expects a task-structure as argument.
 - Fix problem in determining, if release-answer is expected.
Fix psiadmin's output. Lines might be too long.
Add some @todos
New tests for startup timing.

------------------------------------------------------------------------
r6132 | rauh | 2008-06-10 16:57:29 +0200 (Tue, 10 Jun 2008) | 3 lines

Bugfix: merging is now working again after changes intruduced in r6127
Bugfix: fixed bug in accounter (missing username/groupname in logfiles)

------------------------------------------------------------------------
r6127 | eicker | 2008-06-09 17:29:11 +0200 (Mon, 09 Jun 2008) | 15 lines

Bugfix: Solve problems with hanging loggers if child runs too short.
    This was due to problem with CHILDDEAD messages sent during child
    inheritance.
Processes with TG_SERVICE now always have rank -2. Thus
    PSI_spawnService() no longer needs the 'rank' argument.
Make logger handling negative ranks.
PSI_infoNodeID() now expect int32_t argument for PSP_INFO_RANKID.
Send PSP_CD_RELEASERES message only if answer is set in PSP_CD_RELEASE
    request.
Make PSI_release() set errno appropriately on error.
Show task's rank in psiadmin's 'list proc'.
Suppress some warnings.
Cleanup: Remove deprecated PSE_spawn().
Cleanup: Mark PSE_registerToParent() as deprecated.

------------------------------------------------------------------------
r6126 | rauh | 2008-06-09 15:49:48 +0200 (Mon, 09 Jun 2008) | 2 lines

Bugfix: psaccounter was exiting if a node was not available at startup

------------------------------------------------------------------------
r6110 | moschny | 2008-06-05 17:42:19 +0200 (Thu, 05 Jun 2008) | 2 lines

Fix compile problem on Fedora 9.

------------------------------------------------------------------------
r6096 | eicker | 2008-06-03 20:12:39 +0200 (Tue, 03 Jun 2008) | 3 lines

Reorganize daemon's shutdown and reset strategy.
Eliminate one compile-warning from mpiexec.

------------------------------------------------------------------------
r6095 | eicker | 2008-06-03 14:19:49 +0200 (Tue, 03 Jun 2008) | 4 lines

Bugfix: Fix possible memory violation in constructing overbooked
  partitions.
More debug info within psid's partition building.

------------------------------------------------------------------------
r6091 | eicker | 2008-05-30 21:29:53 +0200 (Fri, 30 May 2008) | 2 lines

Fix one regression in accounter.

------------------------------------------------------------------------
r6090 | eicker | 2008-05-30 21:26:19 +0200 (Fri, 30 May 2008) | 5 lines

Merge from Michael's branch:
- Make accounter compatible to daemon's messages, again.
- Many minor cleanup changes.
- Many new and improved documentation-comments.

------------------------------------------------------------------------
r6089 | eicker | 2008-05-30 20:39:26 +0200 (Fri, 30 May 2008) | 5 lines

Bugfix: Block handler while handling signals.
Bugfix: Remove yet another possible SEGFAULT in RDP.
Don't handle ACKs in RDP, if connection not ACTIVE.
Improve psid's welcome message.

------------------------------------------------------------------------
r6059 | eicker | 2008-05-27 19:05:51 +0200 (Tue, 27 May 2008) | 4 lines

Explicitely shutdown RDP connection when receiving DAEMONSHUTDOWN
   message. For this sending the DAEMONSHUTDOWN messages is delayed to
   phase 3.

------------------------------------------------------------------------
r6058 | eicker | 2008-05-27 18:19:32 +0200 (Tue, 27 May 2008) | 3 lines

Add accounting message from logger. From here we might get info
  concerning the batch-system's job ID.

------------------------------------------------------------------------
r6052 | eicker | 2008-05-27 15:20:02 +0200 (Tue, 27 May 2008) | 2 lines

Bugfix: Correct detection when to search the PATH for executable.

------------------------------------------------------------------------
r6042 | rauh | 2008-05-26 16:20:18 +0200 (Mon, 26 May 2008) | 3 lines

bugfix: output merging was crippled when no tty was available
bugfix: possible segfault in output buffer list

------------------------------------------------------------------------
r6040 | eicker | 2008-05-22 23:58:17 +0200 (Thu, 22 May 2008) | 2 lines

New version (psmgmt-5.0.6)

------------------------------------------------------------------------

Version psmgmt-5.0.6:
=====================
------------------------------------------------------------------------
r6038 | eicker | 2008-05-21 16:55:39 +0200 (Wed, 21 May 2008) | 3 lines

Bugfix: Fix one possible list corruption within RDP. This might lead to
   unpredictable results when a node went down unexpectedly.

------------------------------------------------------------------------
r6037 | eicker | 2008-05-21 16:52:39 +0200 (Wed, 21 May 2008) | 2 lines

Move configuration into template. Ignore local configuration.

------------------------------------------------------------------------
r6036 | eicker | 2008-05-21 16:48:49 +0200 (Wed, 21 May 2008) | 2 lines

Minor improvements in stress-test suite.

------------------------------------------------------------------------
r6031 | eicker | 2008-05-20 20:41:28 +0200 (Tue, 20 May 2008) | 2 lines

Add keyword-handling etc. to stress-test suite.

------------------------------------------------------------------------
r6030 | eicker | 2008-05-20 20:35:08 +0200 (Tue, 20 May 2008) | 2 lines

Add some more features to the stress-testing suite.

------------------------------------------------------------------------
r6029 | eicker | 2008-05-20 19:44:28 +0200 (Tue, 20 May 2008) | 2 lines

Correct handling of deleted tasks. Fix problems introduced in r6025.

------------------------------------------------------------------------
r6026 | eicker | 2008-05-20 16:26:14 +0200 (Tue, 20 May 2008) | 2 lines

Fix error message in mpiexec, if spawn of master process fails.

------------------------------------------------------------------------
r6025 | eicker | 2008-05-20 12:15:07 +0200 (Tue, 20 May 2008) | 8 lines

Bugfix: Yet another possible SEGFAULT. This fix requires reorganization
  of internal handling of task-structures. I.e. PStask_t structures will
  be removed from the list of managedTasks only in the main loop.
  Beforehand they are marked as deleted and ignored.
Put generation of PSP_ACCOUNT_CHILD message into sendAcctChild()
Rename sendAcctInfo() to sendAcctStart().
Improve PSIDtasklist_enqueue(), reorganize enqueueing childs.

------------------------------------------------------------------------
r6024 | hauke | 2008-05-20 11:19:30 +0200 (Tue, 20 May 2008) | 3 lines

Bugfix: 'struct poptOption' created on stack und used with global
'poptContext optCon'. Fix Ticket #71.

------------------------------------------------------------------------
r5999 | eicker | 2008-05-15 22:00:29 +0200 (Thu, 15 May 2008) | 3 lines

Prepare for faster startup of MPI2 jobs: PSI_spawn*() is now able to
  create a per rank environment.

------------------------------------------------------------------------
r5998 | eicker | 2008-05-15 20:56:55 +0200 (Thu, 15 May 2008) | 2 lines

Improved debugging and error messages.

------------------------------------------------------------------------
r5968 | eicker | 2008-05-09 11:51:14 +0200 (Fri, 09 May 2008) | 2 lines

New version (psmgmt-5.0.5)

------------------------------------------------------------------------

Version psmgmt-5.0.5:
=====================
------------------------------------------------------------------------
r5967 | rauh | 2008-05-08 17:04:53 +0200 (Thu, 08 May 2008) | 2 lines

fixed: wrong help message of psaccview for --begin --end

------------------------------------------------------------------------
r5963 | eicker | 2008-05-08 13:30:53 +0200 (Thu, 08 May 2008) | 3 lines

Make test-configuration more flexible. Put all parameters in a separate
  configuration-file.

------------------------------------------------------------------------
r5954 | eicker | 2008-05-07 11:51:29 +0200 (Wed, 07 May 2008) | 3 lines

Bugfix: Redirect PSP_CD_RELEASE messages if child was inherited.
Add more debug info in daemon's signal handling.

------------------------------------------------------------------------
r5936 | eicker | 2008-04-28 22:58:05 +0200 (Mon, 28 Apr 2008) | 3 lines

Improve and fix changes from r5935.
Fix yet another potential SEGFAULT.

------------------------------------------------------------------------
r5935 | eicker | 2008-04-28 16:46:22 +0200 (Mon, 28 Apr 2008) | 2 lines

Set 'RLimit Core' to unlimited if 'coreDir' is given explicitely.

------------------------------------------------------------------------
r5934 | eicker | 2008-04-28 16:44:33 +0200 (Mon, 28 Apr 2008) | 3 lines

Extend psmgmt's test suite. Now also effects of crashing daemon on the
  remaining cluster are examined.

------------------------------------------------------------------------
r5932 | eicker | 2008-04-25 22:02:11 +0200 (Fri, 25 Apr 2008) | 4 lines

Bugfix: Correct detection of insufficient resources in
  getCandidateList()
Improve stress-test settings

------------------------------------------------------------------------
r5931 | eicker | 2008-04-25 21:07:13 +0200 (Fri, 25 Apr 2008) | 2 lines

Add first version of psmgmt stress test.

------------------------------------------------------------------------
r5930 | eicker | 2008-04-25 20:00:17 +0200 (Fri, 25 Apr 2008) | 4 lines

Bugfix: Yet another possible SEGFAULT removed from declareNodeDead().
Add walltime to logger's PSP_ACCOUNT_END messages.
Minor cleanup.

------------------------------------------------------------------------
r5919 | eicker | 2008-04-23 16:34:34 +0200 (Wed, 23 Apr 2008) | 2 lines

New version (psmgmt-5.0.4)

------------------------------------------------------------------------

Version psmgmt-5.0.4:
=====================
------------------------------------------------------------------------
r5918 | eicker | 2008-04-23 16:31:53 +0200 (Wed, 23 Apr 2008) | 2 lines

Refactoring of accounting messages.

------------------------------------------------------------------------
r5917 | eicker | 2008-04-23 15:31:48 +0200 (Wed, 23 Apr 2008) | 2 lines

Add template for 'RLimit Core' and 'coreDir' to parastation.conf.

------------------------------------------------------------------------
r5916 | eicker | 2008-04-23 12:52:14 +0200 (Wed, 23 Apr 2008) | 2 lines

Increase size of standard CPU-map to 16 entries.

------------------------------------------------------------------------
r5913 | eicker | 2008-04-22 14:15:02 +0200 (Tue, 22 Apr 2008) | 2 lines

Bugfix: Eliminate endless loops introduced in r5888.

------------------------------------------------------------------------
r5912 | eicker | 2008-04-22 13:49:45 +0200 (Tue, 22 Apr 2008) | 3 lines

Make psid's CWD persisten configurable. core-dump will be deposited in
  CWD.

------------------------------------------------------------------------
r5904 | rauh | 2008-04-14 17:24:44 +0200 (Mon, 14 Apr 2008) | 2 lines

correct some misspelling

------------------------------------------------------------------------
r5891 | eicker | 2008-04-09 16:16:47 +0200 (Wed, 09 Apr 2008) | 2 lines

New version (psmgmt-5.0.3)

------------------------------------------------------------------------

Version psmgmt-5.0.3:
=====================
------------------------------------------------------------------------
r5890 | eicker | 2008-04-09 16:11:38 +0200 (Wed, 09 Apr 2008) | 4 lines

Bugfix: Make init-script to wait until psid has actually shut down.
Make init-script more LSB complient.
  These is merged from Michael's mgmt-restart branch.

------------------------------------------------------------------------
r5889 | eicker | 2008-04-09 15:59:14 +0200 (Wed, 09 Apr 2008) | 3 lines

Bugfix: Make sure the correct mpiexec is started as the service process.
  Merge from Michael's mgmt-fix branch.

------------------------------------------------------------------------
r5888 | eicker | 2008-04-09 15:56:26 +0200 (Wed, 09 Apr 2008) | 2 lines

Bugfix: Eliminate more possible source of SEGFAULTS.

------------------------------------------------------------------------
r5882 | eicker | 2008-04-08 18:57:00 +0200 (Tue, 08 Apr 2008) | 2 lines

New version (psmgmt-5.0.2)

------------------------------------------------------------------------

Version psmgmt-5.0.2:
=====================
------------------------------------------------------------------------
r5881 | eicker | 2008-04-08 18:40:26 +0200 (Tue, 08 Apr 2008) | 2 lines

Bugfix: Fix possible segfault while hard killing obstinate tasks.

------------------------------------------------------------------------
r5876 | eicker | 2008-04-08 15:08:59 +0200 (Tue, 08 Apr 2008) | 2 lines

Fix problems introduced within last checkins.

------------------------------------------------------------------------
r5875 | eicker | 2008-04-08 14:55:20 +0200 (Tue, 08 Apr 2008) | 2 lines

Improve psiadmin's 'list ap' output.

------------------------------------------------------------------------
r5873 | eicker | 2008-04-07 11:40:04 +0200 (Mon, 07 Apr 2008) | 2 lines

Suppress premature RELEASERES messages on purely local parallel jobs.

------------------------------------------------------------------------
r5872 | eicker | 2008-04-07 11:32:28 +0200 (Mon, 07 Apr 2008) | 3 lines

Generation of psid's core dumps now steered by 'RLimit Core' directive
  within configuration file.

------------------------------------------------------------------------
r5848 | eicker | 2008-04-01 16:35:51 +0200 (Tue, 01 Apr 2008) | 3 lines

Suppress confusing warning message if stdin is not available within
  psilogger.

------------------------------------------------------------------------
r5847 | eicker | 2008-04-01 11:07:56 +0200 (Tue, 01 Apr 2008) | 2 lines

Add support for supplementary groups.

------------------------------------------------------------------------
r5765 | eicker | 2008-03-10 16:12:58 +0100 (Mon, 10 Mar 2008) | 4 lines

Fix possible flaw in PSI_recvMsg() (read might be interrupted befor
  header is fully received).
More warning messages in PSI_release()

------------------------------------------------------------------------
r5731 | eicker | 2008-03-06 14:47:57 +0100 (Thu, 06 Mar 2008) | 2 lines

Extension: Implement SMT detection on Power (needed on Cell).

------------------------------------------------------------------------
r5682 | eicker | 2008-02-27 18:22:23 +0100 (Wed, 27 Feb 2008) | 2 lines

New version (psmgmt-5.0.1)

------------------------------------------------------------------------

Version psmgmt-5.0.1:
=====================
------------------------------------------------------------------------
r5681 | eicker | 2008-02-27 18:17:46 +0100 (Wed, 27 Feb 2008) | 5 lines

Merge changes from Michael's branch:
- bugfix: Suppress error for programs which don't use pmi
- improved psaccview and psaccounter code
- more docu

------------------------------------------------------------------------
r5680 | eicker | 2008-02-27 17:38:56 +0100 (Wed, 27 Feb 2008) | 3 lines

Bugfix: Determination of physical CPUs now works also with multi-core
IA32 processors..

------------------------------------------------------------------------
r5641 | eicker | 2008-02-21 18:28:00 +0100 (Thu, 21 Feb 2008) | 6 lines

Bugfix: Deliver signal directly from daemon if sending via forwarder
fails.
Bugfix: Differentiate connection to logger and to local daemon within
forwarder.
Bugfix: Improve signal forwarding within forwarder.

------------------------------------------------------------------------
r5629 | eicker | 2008-02-21 14:28:49 +0100 (Thu, 21 Feb 2008) | 2 lines

Simplify some prior changes and make them more standard conform.

------------------------------------------------------------------------
r5618 | eicker | 2008-02-19 18:23:24 +0100 (Tue, 19 Feb 2008) | 2 lines

Bugfix: Don't try to reach nodes via RDP if no IP address is configured.

------------------------------------------------------------------------
r5595 | eicker | 2008-02-18 12:43:42 +0100 (Mon, 18 Feb 2008) | 2 lines

Bugfix: Use network-byteorder for loopback detection.

------------------------------------------------------------------------
r5525 | rauh | 2008-01-25 17:26:59 +0100 (Fri, 25 Jan 2008) | 3 lines

Now the daemon forwards every single "PSP_" variable from the
environment to the PSI environment for the pscom library.

------------------------------------------------------------------------
r5524 | rauh | 2008-01-25 11:40:42 +0100 (Fri, 25 Jan 2008) | 3 lines

bugfix: now it is possible to overwrite the accouting dir from
the .psvaluerc file

------------------------------------------------------------------------
r5520 | eicker | 2008-01-23 14:53:18 +0100 (Wed, 23 Jan 2008) | 2 lines

Enable build of debuginfo RPM on SUSE.

------------------------------------------------------------------------
r5519 | eicker | 2008-01-23 11:35:17 +0100 (Wed, 23 Jan 2008) | 3 lines

Prevent use of nodes resolved to loopback address.
Try to catch more failed malloc() calls in RDP.

------------------------------------------------------------------------
r5513 | eicker | 2008-01-11 17:17:09 +0100 (Fri, 11 Jan 2008) | 2 lines

New version (psmgmt-5.0.0)

------------------------------------------------------------------------

Version psmgmt-5.0.0:
=====================
------------------------------------------------------------------------
r5512 | rauh | 2008-01-11 17:11:50 +0100 (Fri, 11 Jan 2008) | 2 lines

removed duplicate entry

------------------------------------------------------------------------
r5511 | eicker | 2008-01-11 16:49:40 +0100 (Fri, 11 Jan 2008) | 3 lines

Merge Elan fixes from Michael's mgmt-elan branch.
Fix whitespace stuff.

------------------------------------------------------------------------
r5510 | eicker | 2008-01-11 15:29:14 +0100 (Fri, 11 Jan 2008) | 4 lines

Merge some last of Michael's bugfixes from mgmt-fix.
Cleanup naming and content of kvs-stuff files.
Make getpmiv() work as expected.

------------------------------------------------------------------------
r5509 | rauh | 2008-01-11 15:17:17 +0100 (Fri, 11 Jan 2008) | 2 lines

correct bad use of strlen()

------------------------------------------------------------------------
r5508 | rauh | 2008-01-10 11:19:05 +0100 (Thu, 10 Jan 2008) | 2 lines

fixed warnings on gcc 4.2.X

------------------------------------------------------------------------
r5503 | eicker | 2008-01-09 11:24:19 +0100 (Wed, 09 Jan 2008) | 3 lines

Bugfix: Add pscpu.h to RPM. This reenable pscom to build.
Correct one warning.

------------------------------------------------------------------------
r5484 | eicker | 2007-12-21 17:56:13 +0100 (Fri, 21 Dec 2007) | 2 lines

Minor fix.

------------------------------------------------------------------------
r5483 | eicker | 2007-12-21 17:35:42 +0100 (Fri, 21 Dec 2007) | 3 lines

Extension: Make accounter polling configurable for both, admin and
config-file.

------------------------------------------------------------------------
r5481 | eicker | 2007-12-21 15:29:23 +0100 (Fri, 21 Dec 2007) | 2 lines

Merge some minor whitespace and typo changes from Michaels branch.

------------------------------------------------------------------------
r5479 | eicker | 2007-12-21 15:07:05 +0100 (Fri, 21 Dec 2007) | 12 lines

Merge changes from Michael's branch:
 - Some more environment variables to forward: PSP_DAPL, PSP_ELAN,
   PSP_TCP
 - Prevent unexpected termination of forwarder processes
 - Improve input forwarding
 - Create environment to make accounting configurable (config and admin
   stuff still missing)
 - New function to get number of registered accounters:
   PSID_getNumAcct()
 - Major cleanup and improvements of mpiexec.
 - Many minor changes and bugfixes

------------------------------------------------------------------------
r5459 | eicker | 2007-12-17 15:17:38 +0100 (Mon, 17 Dec 2007) | 2 lines

Process pinning, memory binding and all that.

------------------------------------------------------------------------
r5457 | eicker | 2007-12-17 14:40:40 +0100 (Mon, 17 Dec 2007) | 2 lines

Don't strip binaries while install. This enables debuginfo RPMs to work.

------------------------------------------------------------------------
r5436 | eicker | 2007-12-14 11:00:44 +0100 (Fri, 14 Dec 2007) | 4 lines

Undo all changes concerning PSI_releaseSilent(). Instead suppress
  warning on already disappeared childs and parents when releasing whole
  task in PSI_release().

------------------------------------------------------------------------
r5421 | moschny | 2007-12-12 16:02:35 +0100 (Wed, 12 Dec 2007) | 4 lines

Use $(CC) for linking instead of $(LD) to avoid errors of type
  "ERROR: No build ID note found in"
on newer systems.

------------------------------------------------------------------------
r5420 | moschny | 2007-12-12 15:53:08 +0100 (Wed, 12 Dec 2007) | 2 lines

Use a user-dependant buildroot.

------------------------------------------------------------------------
r5419 | moschny | 2007-12-12 15:24:30 +0100 (Wed, 12 Dec 2007) | 2 lines

Bugfix: open() with O_CREAT needs a mode parameter.

------------------------------------------------------------------------
r5418 | moschny | 2007-12-12 15:15:31 +0100 (Wed, 12 Dec 2007) | 6 lines

Remove additional parameter for PSI_release() method, as this breaks
compatibility with other modules.

Instead, introduce PSI_releaseSilent(), which has the wanted
functionality.

------------------------------------------------------------------------
r5404 | eicker | 2007-12-01 00:05:51 +0100 (Sat, 01 Dec 2007) | 2 lines

Bugfix: fprintf() needs FILE pointer as first argument.

------------------------------------------------------------------------
r5403 | eicker | 2007-11-30 23:55:54 +0100 (Fri, 30 Nov 2007) | 3 lines

Bugfix: Also mpirun_elan has to be updated due to changed call of
PSI_release().

------------------------------------------------------------------------
r5389 | eicker | 2007-11-29 17:18:49 +0100 (Thu, 29 Nov 2007) | 3 lines

Bugfix: Don't truncate SIGNAL message between psid and forwarder.
Suppress some superfluous message from forwarder concerning signals.

------------------------------------------------------------------------
r5385 | eicker | 2007-11-29 10:41:30 +0100 (Thu, 29 Nov 2007) | 2 lines

Prevent a warning when compiling with gcc 4.0.

------------------------------------------------------------------------
r5384 | eicker | 2007-11-28 19:34:20 +0100 (Wed, 28 Nov 2007) | 2 lines

Bugfix: Don't mess up processes and process-groups.

------------------------------------------------------------------------
r5383 | eicker | 2007-11-28 19:30:21 +0100 (Wed, 28 Nov 2007) | 2 lines

Minor fix in documentation

------------------------------------------------------------------------
r5382 | eicker | 2007-11-28 19:29:33 +0100 (Wed, 28 Nov 2007) | 2 lines

Append to logfile if used instead of syslog().

------------------------------------------------------------------------
r5379 | eicker | 2007-11-28 17:13:40 +0100 (Wed, 28 Nov 2007) | 2 lines

Bugfix: Fix signal-delivery via forwarder.

------------------------------------------------------------------------
r5377 | eicker | 2007-11-28 17:09:59 +0100 (Wed, 28 Nov 2007) | 2 lines

Flush every line if logging to file.

------------------------------------------------------------------------
r5372 | eicker | 2007-11-27 16:34:26 +0100 (Tue, 27 Nov 2007) | 3 lines

Add pscpu-stuff to libcommon and libpsi.
Fix some typos.

------------------------------------------------------------------------
r5371 | eicker | 2007-11-27 16:32:41 +0100 (Tue, 27 Nov 2007) | 2 lines

Bugfix: libreadline seems to need lib(n)curses on some platforms.

------------------------------------------------------------------------
r5370 | eicker | 2007-11-27 13:48:52 +0100 (Tue, 27 Nov 2007) | 2 lines

Add library to handle the bitmasks used to store CPU-sets.

------------------------------------------------------------------------
r5369 | eicker | 2007-11-27 13:47:46 +0100 (Tue, 27 Nov 2007) | 2 lines

Add library to handle the bitmasks used to store CPU-sets.

------------------------------------------------------------------------
r5359 | eicker | 2007-11-22 23:37:07 +0100 (Thu, 22 Nov 2007) | 2 lines

Remove PSI_releaseSilent() again. We don't want to bloat the source.

------------------------------------------------------------------------
r5327 | eicker | 2007-11-06 20:20:38 +0100 (Tue, 06 Nov 2007) | 3 lines

Disable processor affinity within OpenFabrics. This fixes some serious
problems with MPI on Cell.

------------------------------------------------------------------------
r5321 | rauh | 2007-10-30 15:23:03 +0100 (Tue, 30 Oct 2007) | 4 lines

changed signal handling, no the forwarder sends signals to the clients,
(should behave now like the shell)
bugfixes in deamon (on sigchld signal) and mpiexec.

------------------------------------------------------------------------
r5311 | eicker | 2007-10-25 12:10:35 +0200 (Thu, 25 Oct 2007) | 3 lines

BUGFIX: Make mpirun_elan fail more gracefully if /etc/elanidmap is not
found.

------------------------------------------------------------------------
r5304 | rauh | 2007-10-23 16:44:54 +0200 (Tue, 23 Oct 2007) | 2 lines

fixed mpiexec (-f) for admin tasks again

------------------------------------------------------------------------
r5303 | rauh | 2007-10-23 16:22:05 +0200 (Tue, 23 Oct 2007) | 2 lines

fixed the use of hostfile (-f) for admin tasks

------------------------------------------------------------------------
r5302 | rauh | 2007-10-23 14:39:50 +0200 (Tue, 23 Oct 2007) | 4 lines

many small fixes
mpiexec --gdb has now readline support
fixed mpiexec --admin

------------------------------------------------------------------------
r5276 | rauh | 2007-10-12 10:27:23 +0200 (Fri, 12 Oct 2007) | 2 lines

fixed bug in merging function

------------------------------------------------------------------------
r5273 | rauh | 2007-10-10 15:25:46 +0200 (Wed, 10 Oct 2007) | 2 lines

small bugfix: loopnodesfirst is now -F

------------------------------------------------------------------------
r5272 | rauh | 2007-10-10 15:11:31 +0200 (Wed, 10 Oct 2007) | 6 lines

machinefile now supports interface option ifhn
mpiexec: more compatibility to mpich mpiexec
a few little fixes
accounting: now all childs memory are read


------------------------------------------------------------------------
r5271 | rauh | 2007-10-10 15:04:23 +0200 (Wed, 10 Oct 2007) | 5 lines

machinefile now supports interface option ifhn
mpiexec: more compatibility to mpich mpiexec
a few little fixes
accounting: now all childs memory are read

------------------------------------------------------------------------
r5265 | eicker | 2007-10-10 11:17:46 +0200 (Wed, 10 Oct 2007) | 2 lines

Replace 'psmstart' strings with 'pssh'.

------------------------------------------------------------------------
r5234 | rauh | 2007-09-26 14:30:25 +0200 (Wed, 26 Sep 2007) | 2 lines

removed debug output

------------------------------------------------------------------------
r5233 | rauh | 2007-09-26 14:25:12 +0200 (Wed, 26 Sep 2007) | 3 lines

comment out in psh to use mpiexec
accounting

------------------------------------------------------------------------
r5232 | rauh | 2007-09-26 11:26:44 +0200 (Wed, 26 Sep 2007) | 3 lines

fixed warning
fixed mpiexec --envall (wrong null termination)

------------------------------------------------------------------------
r5231 | rauh | 2007-09-26 11:00:25 +0200 (Wed, 26 Sep 2007) | 3 lines

fixed accouting with mpiexec
accouting is more detailed (mem,vmem,session,jobalias)

------------------------------------------------------------------------
r5230 | rauh | 2007-09-26 10:55:03 +0200 (Wed, 26 Sep 2007) | 5 lines

fixed accouting with mpiexec
more detailed accouting information (mem,vmem,session,jodid)
mipexec: new option jobid
psh uses as default mpiexec if parastation is up and running

------------------------------------------------------------------------
r5219 | rauh | 2007-09-20 15:24:56 +0200 (Thu, 20 Sep 2007) | 2 lines

added gdb parallel debugging support.

------------------------------------------------------------------------
r5218 | eicker | 2007-09-18 22:43:35 +0200 (Tue, 18 Sep 2007) | 2 lines

Merge Michael's branch containing the PMI and mpiexec stuff.

------------------------------------------------------------------------
r5216 | eicker | 2007-09-18 22:32:58 +0200 (Tue, 18 Sep 2007) | 3 lines

Bugfix: Fix build-system when libelanctrl is not available.
Suppress to warnings.

------------------------------------------------------------------------
r5202 | eicker | 2007-09-14 20:30:03 +0200 (Fri, 14 Sep 2007) | 3 lines

New version of mpirun_elan. Hopefully process placement now work
correctly.

------------------------------------------------------------------------
r5201 | eicker | 2007-09-14 20:00:38 +0200 (Fri, 14 Sep 2007) | 5 lines

Extension: Allow to distribute environment variables of arbitrary size.
Improve detection for libnuma.
Also try to detect libelancntr. This will be needed for mpirun_elan.
First step to make mpirun_elan working. This one is currently broken.

------------------------------------------------------------------------
r5180 | eicker | 2007-09-11 18:56:50 +0200 (Tue, 11 Sep 2007) | 4 lines

Minor improvements for mpirun_elan:
 - Also propagate LD_LIBRARY_PATH
 - Use PSI_spawnStrict().

------------------------------------------------------------------------
r5173 | eicker | 2007-09-11 10:48:25 +0200 (Tue, 11 Sep 2007) | 2 lines

Fix one typo introduced in the last change.

------------------------------------------------------------------------
r5172 | eicker | 2007-09-11 10:43:05 +0200 (Tue, 11 Sep 2007) | 4 lines

Extension: New command mpirun_elan to start apps linked against Quadrics
   MPI.
More debugging messages.

------------------------------------------------------------------------
r5150 | eicker | 2007-08-23 15:11:50 +0200 (Thu, 23 Aug 2007) | 3 lines

Bugfix: numa_available() returns -1 if not available
Bugfix: Also compile if sched_setaffinity() is not available.

------------------------------------------------------------------------
r5112 | eicker | 2007-08-20 10:34:59 +0200 (Mon, 20 Aug 2007) | 6 lines

Bugfix: Also spawn processes from mpirun_openib if acting verbose.
Bugfix: Only send signal to TG_SERVICE task if error occured or last child
    disappeared.
Only send RELEASERES message when all pending messages occured. Keep
    last code describing a problem during release.

------------------------------------------------------------------------
r5102 | eicker | 2007-08-14 18:54:15 +0200 (Tue, 14 Aug 2007) | 4 lines

Bugfix: Make temporary setting of user, adminuser, etc. from admin
   working again.
Improve pssh's behavior on changed window size.

------------------------------------------------------------------------
r5091 | eicker | 2007-08-13 13:05:16 +0200 (Mon, 13 Aug 2007) | 2 lines

New version (psmgmt-4.3.10)

------------------------------------------------------------------------

Version psmgmt-4.3.10:
======================
------------------------------------------------------------------------
r5090 | eicker | 2007-08-13 12:40:10 +0200 (Mon, 13 Aug 2007) | 3 lines

Add 'format(printf)' __attribute__ to various printf-like functions
Remove all errors in printf-like argument-lists found by __attribute__.

------------------------------------------------------------------------
r5089 | eicker | 2007-08-13 12:16:13 +0200 (Mon, 13 Aug 2007) | 3 lines

Derive new functions PSIDfwd_printMsg() and PSIDfwd_printMsgf() from
private printMsg(). These will be needed by PMI stuff.

------------------------------------------------------------------------
r5081 | eicker | 2007-08-09 16:19:55 +0200 (Thu, 09 Aug 2007) | 5 lines

Backport some features from psmpd branch:
- Introduce PSI_spawnStrict() in order to suppress pseudo-intelligent
  executable detection.
- Print out signal-type on process-crash.

------------------------------------------------------------------------
r5073 | eicker | 2007-08-09 13:15:28 +0200 (Thu, 09 Aug 2007) | 6 lines

Handle PSDaemonProtocolVersion similar to PSProtocolVersion, i.e.
- Create option to ask it.
- Store version for every daemon in the cluster.
- Enable psiadmin to show version of every node.
- Update daemon's startup message.

------------------------------------------------------------------------
r5070 | eicker | 2007-08-09 12:14:46 +0200 (Thu, 09 Aug 2007) | 2 lines

Also change forwarder's ptid if task's parent changes.

------------------------------------------------------------------------
r5069 | eicker | 2007-08-09 11:52:17 +0200 (Thu, 09 Aug 2007) | 2 lines

BUGFIX: Fix problems introduced by the reorganization of signaling stuff.

------------------------------------------------------------------------
r5065 | eicker | 2007-08-08 14:05:36 +0200 (Wed, 08 Aug 2007) | 7 lines

Reorganization of signaling stuff:
- Childs will now be inherited by their grandparent.
- Two new message types: PSP_DD_NEWCHILD, PSP_DD_NEWPARENT
- Corresponding handling functions

Add some documentation plus fix some typos.

------------------------------------------------------------------------
r4975 | eicker | 2007-07-20 16:00:28 +0200 (Fri, 20 Jul 2007) | 3 lines

Bugfix: Fix some minor problems if processes get release by their
  forwarder.

------------------------------------------------------------------------
r4974 | eicker | 2007-07-20 13:47:52 +0200 (Fri, 20 Jul 2007) | 2 lines

Bugfix: Fix compile if libnuma not available.

------------------------------------------------------------------------
r4973 | eicker | 2007-07-20 13:41:29 +0200 (Fri, 20 Jul 2007) | 2 lines

Let configure detect if libnuma is available.

------------------------------------------------------------------------
r4972 | eicker | 2007-07-20 10:21:07 +0200 (Fri, 20 Jul 2007) | 5 lines

More infrastructure for process-pinning:
 - Add the actual pinning and binding stuff
This will become active as soon as partitions contain actual CPU-slot
infos.

------------------------------------------------------------------------
r4971 | eicker | 2007-07-19 14:16:40 +0200 (Thu, 19 Jul 2007) | 2 lines

Extension: Pass client-environment to psidforwarder, too.

------------------------------------------------------------------------
r4970 | eicker | 2007-07-19 11:37:59 +0200 (Thu, 19 Jul 2007) | 3 lines

Extension: Also allow forwarder to release controlled client (if the
   controlled client is not connected to the daemon by itself).

------------------------------------------------------------------------
r4969 | eicker | 2007-07-19 10:16:43 +0200 (Thu, 19 Jul 2007) | 2 lines

Add help message for 'set/show cpumap' directive.

------------------------------------------------------------------------
r4968 | eicker | 2007-07-19 09:56:09 +0200 (Thu, 19 Jul 2007) | 9 lines

More infrastructure for process-pinning:
 - New directive in psiadmin: 'set/show cpumap'
 - Config-parser extended to make these option persistent
 - Corresponding options-messages: PSP_OP_CLR_CPUMAP, PSP_OP_APP_CPUMAP,
   PSP_OP_CPUMAP
 - Corresponding functions: PSIDnodes_clearCPUMap(),
   PSIDnodes_appendCPUMap(), PSIDnodes_mapCPU(), send_CPUMap_OPTIONS()
Extension of parser: parser_getQuotedString().

------------------------------------------------------------------------
r4967 | eicker | 2007-07-18 18:47:04 +0200 (Wed, 18 Jul 2007) | 3 lines

Bugfix: Passing the cpu-number for TG_SERVICE and TG_ADMIN processes
   might result in SEGFAULTing the psid.

------------------------------------------------------------------------
r4953 | eicker | 2007-07-13 15:50:06 +0200 (Fri, 13 Jul 2007) | 7 lines

More infrastructure for process-pinning:
 - New directive in psiadmin: 'set/show pinprocs', 'set/show bindmem'
 - Config-parser extended to make these options persistent
 - Corresponding options-messages: PSP_OP_PINPROCS, PSP_OP_BINDMEM
 - Corresponding functions: PSIDnodes_setPinProcs(),
   PSIDnodes_pinProcs(), PSIDnodes_setBindMem(), PSIDnodes_bindMem()

------------------------------------------------------------------------
r4952 | eicker | 2007-07-13 14:46:54 +0200 (Fri, 13 Jul 2007) | 7 lines

Some more infrastructure for process pinning:
 - Info on CPU now bound into SPAWNREQ message (new subtype
   PSP_SPAWN_LOC).
 - New message type PSP_DD_NODESRES to push cpu info to GETNODES requesting
   clients's daemon.
 - Thus reduce NODES_CHUNK to 256.

------------------------------------------------------------------------
r4951 | eicker | 2007-07-11 16:18:28 +0200 (Wed, 11 Jul 2007) | 2 lines

Update copyright.

------------------------------------------------------------------------
r4946 | eicker | 2007-07-10 18:13:42 +0200 (Tue, 10 Jul 2007) | 2 lines

Extension: New psiadmin 'show' directives to view RLIMIT_ settings.

------------------------------------------------------------------------
r4878 | eicker | 2007-06-14 11:47:52 +0200 (Thu, 14 Jun 2007) | 2 lines

Bugfix: Set correct MANPATH even if not given from OS (as on Fedora).

------------------------------------------------------------------------
r4858 | rauh | 2007-06-11 12:31:48 +0200 (Mon, 11 Jun 2007) | 2 lines

new option in psaccview for better parsing : --nospace

------------------------------------------------------------------------
r4856 | rauh | 2007-06-11 12:26:21 +0200 (Mon, 11 Jun 2007) | 2 lines

bugfix and new option for parsing: nospace

------------------------------------------------------------------------
r4818 | rauh | 2007-05-09 15:26:10 +0200 (Wed, 09 May 2007) | 2 lines

better set of accounting file permissions and security fix

------------------------------------------------------------------------
r4817 | rauh | 2007-05-09 12:12:52 +0200 (Wed, 09 May 2007) | 2 lines

cleaner function to became a daemon

------------------------------------------------------------------------
r4798 | eicker | 2007-04-24 19:23:08 +0200 (Tue, 24 Apr 2007) | 2 lines

New version (psmgmt-4.3.9)

------------------------------------------------------------------------

Version psmgmt-4.3.9:
=====================
------------------------------------------------------------------------
r4797 | eicker | 2007-04-24 19:11:34 +0200 (Tue, 24 Apr 2007) | 3 lines

Bugfix: Improve data alignment of message-substructures. This should
    prevent the annoying kernel-warning on IA64.

------------------------------------------------------------------------
r4782 | rauh | 2007-04-20 10:46:05 +0200 (Fri, 20 Apr 2007) | 2 lines

changed looking and small jobname

------------------------------------------------------------------------
r4780 | rauh | 2007-04-19 17:45:47 +0200 (Thu, 19 Apr 2007) | 2 lines

more secure

------------------------------------------------------------------------
r4779 | rauh | 2007-04-19 14:45:15 +0200 (Thu, 19 Apr 2007) | 2 lines

changed default display values

------------------------------------------------------------------------
r4777 | rauh | 2007-04-19 12:53:14 +0200 (Thu, 19 Apr 2007) | 2 lines

added conf file, time formating, nodes, exechost

------------------------------------------------------------------------
r4776 | rauh | 2007-04-19 10:25:28 +0200 (Thu, 19 Apr 2007) | 2 lines

fixed free coruption

------------------------------------------------------------------------
r4771 | rauh | 2007-04-18 16:20:04 +0200 (Wed, 18 Apr 2007) | 2 lines

better error handling by accounter and new options in psaccview

------------------------------------------------------------------------
r4770 | rauh | 2007-04-18 16:19:02 +0200 (Wed, 18 Apr 2007) | 2 lines

better error handling

------------------------------------------------------------------------
r4769 | rauh | 2007-04-18 16:17:19 +0200 (Wed, 18 Apr 2007) | 2 lines

added nodes and exechost to joblist

------------------------------------------------------------------------
r4768 | rauh | 2007-04-17 17:00:37 +0200 (Tue, 17 Apr 2007) | 2 lines

accounter: better error handling bugfix

------------------------------------------------------------------------
r4767 | rauh | 2007-04-17 17:00:01 +0200 (Tue, 17 Apr 2007) | 2 lines

better error handling bugfix

------------------------------------------------------------------------
r4766 | rauh | 2007-04-16 14:11:01 +0200 (Mon, 16 Apr 2007) | 2 lines

temp joined account and mgmt again

------------------------------------------------------------------------
r4764 | eicker | 2007-04-14 23:19:59 +0200 (Sat, 14 Apr 2007) | 2 lines

Bugfix: Don't mess around with the ptr.

------------------------------------------------------------------------
r4757 | rauh | 2007-04-12 14:32:12 +0200 (Thu, 12 Apr 2007) | 2 lines

bugfix with accounter jobname

------------------------------------------------------------------------
r4756 | rauh | 2007-04-12 14:30:44 +0200 (Thu, 12 Apr 2007) | 2 lines

fixed jobname now always null terminated

------------------------------------------------------------------------
r4755 | rauh | 2007-04-12 13:26:31 +0200 (Thu, 12 Apr 2007) | 2 lines

bugfix in jobname

------------------------------------------------------------------------
r4754 | rauh | 2007-04-12 11:06:59 +0200 (Thu, 12 Apr 2007) | 2 lines

changed default display settings

------------------------------------------------------------------------
r4751 | rauh | 2007-04-12 09:14:43 +0200 (Thu, 12 Apr 2007) | 2 lines

fixed null pointer division and formating

------------------------------------------------------------------------
r4749 | rauh | 2007-04-11 16:50:29 +0200 (Wed, 11 Apr 2007) | 2 lines

fixed big bug in accounter Msg handling

------------------------------------------------------------------------
r4748 | rauh | 2007-04-11 16:49:57 +0200 (Wed, 11 Apr 2007) | 2 lines

fixed big bug in SlotMsg Handling

------------------------------------------------------------------------
r4746 | rauh | 2007-04-11 15:36:44 +0200 (Wed, 11 Apr 2007) | 2 lines

bugfixed when resolving host name fails

------------------------------------------------------------------------
r4734 | rauh | 2007-04-10 13:04:37 +0200 (Tue, 10 Apr 2007) | 2 lines

splitted accouting part to own rpm

------------------------------------------------------------------------
r4733 | rauh | 2007-04-10 13:00:47 +0200 (Tue, 10 Apr 2007) | 2 lines

splitted the account stuff to psmgmt-account rpm

------------------------------------------------------------------------
r4696 | rauh | 2007-03-26 12:30:43 +0200 (Mon, 26 Mar 2007) | 2 lines

fixed wrong include <bits/sigaction.h>

------------------------------------------------------------------------
r4693 | rauh | 2007-03-26 11:22:04 +0200 (Mon, 26 Mar 2007) | 2 lines

ansi c fix again

------------------------------------------------------------------------
r4691 | rauh | 2007-03-26 11:17:25 +0200 (Mon, 26 Mar 2007) | 2 lines

fix for non ansi c

------------------------------------------------------------------------
r4690 | rauh | 2007-03-26 11:07:15 +0200 (Mon, 26 Mar 2007) | 2 lines

more compatible to ansi c

------------------------------------------------------------------------
r4684 | rauh | 2007-03-22 17:28:34 +0100 (Thu, 22 Mar 2007) | 2 lines

added psaccview script to rpm

------------------------------------------------------------------------
r4683 | rauh | 2007-03-22 17:08:01 +0100 (Thu, 22 Mar 2007) | 2 lines

script for analysing and summarizing the acc log files

------------------------------------------------------------------------
r4682 | rauh | 2007-03-22 12:54:52 +0100 (Thu, 22 Mar 2007) | 2 lines

bugfixed wrong handle of slot msg

------------------------------------------------------------------------
r4678 | rauh | 2007-03-19 13:32:41 +0100 (Mon, 19 Mar 2007) | 2 lines

Added version output

------------------------------------------------------------------------
r4677 | rauh | 2007-03-19 12:14:20 +0100 (Mon, 19 Mar 2007) | 2 lines

corrected misspelling

------------------------------------------------------------------------
r4676 | rauh | 2007-03-19 11:27:46 +0100 (Mon, 19 Mar 2007) | 2 lines

added acc log dir to rpm

------------------------------------------------------------------------
r4675 | rauh | 2007-03-19 11:27:08 +0100 (Mon, 19 Mar 2007) | 2 lines

changed acc log dir to /var/account

------------------------------------------------------------------------
r4674 | rauh | 2007-03-19 11:05:23 +0100 (Mon, 19 Mar 2007) | 2 lines

changed default acc log dir to /var/account

------------------------------------------------------------------------
r4671 | eicker | 2007-03-16 16:34:37 +0100 (Fri, 16 Mar 2007) | 2 lines

Add starter program for MVAPIch executables: mpirun_openib.

------------------------------------------------------------------------
r4667 | rauh | 2007-03-16 09:46:49 +0100 (Fri, 16 Mar 2007) | 2 lines

better code style and formating

------------------------------------------------------------------------
r4662 | rauh | 2007-03-15 12:53:56 +0100 (Thu, 15 Mar 2007) | 2 lines

fixed bug in binary tree

------------------------------------------------------------------------
r4660 | rauh | 2007-03-14 15:16:58 +0100 (Wed, 14 Mar 2007) | 2 lines

added more debug output and small bug fix

------------------------------------------------------------------------
r4659 | rauh | 2007-03-14 12:09:15 +0100 (Wed, 14 Mar 2007) | 2 lines

fixed default accounting dir

------------------------------------------------------------------------
r4656 | rauh | 2007-03-13 17:27:15 +0100 (Tue, 13 Mar 2007) | 2 lines

Added accounter daemon start script

------------------------------------------------------------------------
r4655 | rauh | 2007-03-13 17:23:21 +0100 (Tue, 13 Mar 2007) | 2 lines

Added psydo HWtype to start the accounting daemon

------------------------------------------------------------------------
r4652 | rauh | 2007-03-13 16:21:44 +0100 (Tue, 13 Mar 2007) | 2 lines

correct keyword Id

------------------------------------------------------------------------
r4651 | rauh | 2007-03-13 16:17:40 +0100 (Tue, 13 Mar 2007) | 2 lines

added keywords Id

------------------------------------------------------------------------
r4650 | rauh | 2007-03-13 16:02:50 +0100 (Tue, 13 Mar 2007) | 2 lines

script to start the accounting daemon from parastation

------------------------------------------------------------------------
r4649 | rauh | 2007-03-13 15:53:28 +0100 (Tue, 13 Mar 2007) | 2 lines

removed 2 warnings from unused variables

------------------------------------------------------------------------
r4646 | eicker | 2007-03-12 21:44:24 +0100 (Mon, 12 Mar 2007) | 3 lines

Check in new full-blown accounter.
Move old test-accounter to testacct.c.

------------------------------------------------------------------------
r4642 | hauke | 2007-03-12 10:37:05 +0100 (Mon, 12 Mar 2007) | 3 lines

Use 'pxx
ssh' instead of psmstart. 'ssh -x' is still default.

------------------------------------------------------------------------
r4639 | eicker | 2007-03-09 15:52:03 +0100 (Fri, 09 Mar 2007) | 3 lines

Update copyright.
Fix some svn properties.

------------------------------------------------------------------------
r4638 | eicker | 2007-03-09 15:46:46 +0100 (Fri, 09 Mar 2007) | 3 lines

Implement PSI_HW_TYPE environment. This can mask specific nodes to use
depending on the configured hardware-types.

------------------------------------------------------------------------
r4637 | eicker | 2007-03-09 14:20:03 +0100 (Fri, 09 Mar 2007) | 2 lines

Update hardware description in parastation.conf templates.

------------------------------------------------------------------------
r4633 | eicker | 2007-03-09 11:21:11 +0100 (Fri, 09 Mar 2007) | 2 lines

Bugfix: Prevent infinite loop in HW_printType() if hwType's MSB is set.

------------------------------------------------------------------------
r4629 | eicker | 2007-03-08 12:51:11 +0100 (Thu, 08 Mar 2007) | 2 lines

Bugfix: Allow to start admin-tasks even if 'starter false' is given.

------------------------------------------------------------------------
r4624 | eicker | 2007-03-06 21:39:15 +0100 (Tue, 06 Mar 2007) | 2 lines

New version (psmgmt-4.3.8)


Version psmgmt-4.3.8:
=====================
------------------------------------------------------------------------
r4623 | eicker | 2007-03-06 21:36:25 +0100 (Tue, 06 Mar 2007) | 3 lines

Add some more features needed for accounting, mainly a message
    containing all the nodes involved to run a job.

------------------------------------------------------------------------
r4620 | eicker | 2007-03-06 11:59:13 +0100 (Tue, 06 Mar 2007) | 3 lines

Remove old startup-code for InfiniPath executables. The new version of
the helper is in a separate RPM (psipath) now.

------------------------------------------------------------------------
r4614 | eicker | 2007-03-05 16:37:34 +0100 (Mon, 05 Mar 2007) | 3 lines

Also export psienv.h and psispawn.h. This is needed to build the ipath
startup stuff.

------------------------------------------------------------------------
r4606 | eicker | 2007-03-02 15:33:52 +0100 (Fri, 02 Mar 2007) | 2 lines

Bugfix: Free resources of jobs exiting while suspended.

------------------------------------------------------------------------
r4603 | eicker | 2007-03-01 17:32:44 +0100 (Thu, 01 Mar 2007) | 2 lines

Always build 32-bit stuff on ppc-platforms.

------------------------------------------------------------------------
r4590 | eicker | 2007-02-21 16:08:02 +0100 (Wed, 21 Feb 2007) | 3 lines

Bugfix: Fix bug preventing logger to talk to local daemon on 64 bit
   big-endian platforms (aka Fedora on PPC).

------------------------------------------------------------------------
r4589 | eicker | 2007-02-21 16:05:54 +0100 (Wed, 21 Feb 2007) | 2 lines

Define logger to use via __PSI_LOGGERPATH environment (used for debug).

------------------------------------------------------------------------
r4588 | eicker | 2007-02-21 15:15:49 +0100 (Wed, 21 Feb 2007) | 2 lines

Improve output of parameter lists.

------------------------------------------------------------------------
r4587 | eicker | 2007-02-21 14:57:30 +0100 (Wed, 21 Feb 2007) | 2 lines

Improved logging messages.

------------------------------------------------------------------------
r4528 | eicker | 2007-01-22 16:45:25 +0100 (Mon, 22 Jan 2007) | 2 lines

Fix typo.

------------------------------------------------------------------------
r4526 | eicker | 2007-01-22 16:34:57 +0100 (Mon, 22 Jan 2007) | 2 lines

Don't quit PSI_send/recvMsg() and close connection to psid on interrupt.

------------------------------------------------------------------------
r4524 | eicker | 2007-01-22 09:43:32 +0100 (Mon, 22 Jan 2007) | 4 lines

More changes for accounting:
- Send sender's IP address in every message.
- Send executed command in 'E' message.

------------------------------------------------------------------------
r4519 | eicker | 2007-01-17 14:52:17 +0100 (Wed, 17 Jan 2007) | 2 lines

Cell BE port: RedHat actually builds 64bit stuff on PPC.

------------------------------------------------------------------------
r4518 | eicker | 2007-01-16 19:09:07 +0100 (Tue, 16 Jan 2007) | 8 lines

The first step for process pinning:
 - This implements some versioning to the daemon-daemon protocol.
 - Some more infrastructure.
 - Partitions now stored in slot-lists, not node-lists.
 - Slot-lists sent to other daemons (depending on version).
 - Slot-lists sent to psiadmin (depending on version).


------------------------------------------------------------------------
r4516 | eicker | 2007-01-16 18:04:04 +0100 (Tue, 16 Jan 2007) | 2 lines

New version.


Version psmgmt-4.3.7:
=====================
------------------------------------------------------------------------
r4515 | eicker | 2007-01-15 16:22:29 +0100 (Mon, 15 Jan 2007) | 2 lines

Fix some SVN-properties.

------------------------------------------------------------------------
r4514 | eicker | 2007-01-15 16:03:37 +0100 (Mon, 15 Jan 2007) | 2 lines

Add one include to make last change working.

------------------------------------------------------------------------
r4513 | eicker | 2007-01-15 15:40:53 +0100 (Mon, 15 Jan 2007) | 2 lines

Also send exit-status information to accounter.

------------------------------------------------------------------------
r4511 | eicker | 2007-01-14 00:50:49 +0100 (Sun, 14 Jan 2007) | 2 lines

Bugfix: Initialize psiadmin's parser before removing comments.

------------------------------------------------------------------------
r4510 | eicker | 2007-01-12 17:55:22 +0100 (Fri, 12 Jan 2007) | 2 lines

Update (C) for last change.

------------------------------------------------------------------------
r4509 | eicker | 2007-01-12 17:50:31 +0100 (Fri, 12 Jan 2007) | 6 lines

Bugfix: closelog() in execForwarder might close stdout/stderr fd. This
  was triggered by also closing PSID_lockFD.
Bugfix: psidforwarder's checkFileTable() might mess up openfds. This
  might psidforwarder hang in an endless loop.
Improve psidforwarder logging.

------------------------------------------------------------------------
r4507 | rauh | 2007-01-12 13:07:14 +0100 (Fri, 12 Jan 2007) | 2 lines

corrected typo

------------------------------------------------------------------------
r4496 | eicker | 2007-01-08 12:53:30 +0100 (Mon, 08 Jan 2007) | 3 lines

Bugfix: Release lock on /var/lock/subsys/parastation when setting up
  sandbox.

------------------------------------------------------------------------
r4495 | eicker | 2007-01-08 12:14:40 +0100 (Mon, 08 Jan 2007) | 3 lines

Enable daemons to handle handle different versions within one cluster.
psiadmin's 'list version' now also shows the daemons' protocol version.

------------------------------------------------------------------------
r4494 | eicker | 2007-01-04 13:55:11 +0100 (Thu, 04 Jan 2007) | 2 lines

Suppress one warning.

------------------------------------------------------------------------
r4492 | eicker | 2007-01-04 12:40:24 +0100 (Thu, 04 Jan 2007) | 2 lines

Update Changelog for 4.3.6

------------------------------------------------------------------------


Version psmgmt-4.3.6:
=====================
------------------------------------------------------------------------
r4491 | eicker | 2007-01-04 12:38:06 +0100 (Thu, 04 Jan 2007) | 2 lines

New version 4.3.6

------------------------------------------------------------------------
r4490 | eicker | 2007-01-04 12:34:28 +0100 (Thu, 04 Jan 2007) | 3 lines

Rework of the psid's configuration parser in order to allow more than
 one user/group/adminuser/admingroup in the configration file.

------------------------------------------------------------------------
r4489 | eicker | 2007-01-02 19:32:31 +0100 (Tue, 02 Jan 2007) | 2 lines

Fix typo (rename clear_QUID_list() to clear_GUID_list()).

------------------------------------------------------------------------
r4478 | eicker | 2006-12-18 11:20:26 +0100 (Mon, 18 Dec 2006) | 3 lines

Fix some typos in psiadmin's help messages.
Disable MCP-related (i.e. V3) directives in psiadmin.

------------------------------------------------------------------------
r4477 | eicker | 2006-12-15 12:44:43 +0100 (Fri, 15 Dec 2006) | 2 lines

Correct signal delivery for TG_SERVICE processes.

------------------------------------------------------------------------
r4472 | eicker | 2006-12-11 12:19:20 +0100 (Mon, 11 Dec 2006) | 2 lines

Bugfix: Minor problem within startup of InfiniPath jobs.

------------------------------------------------------------------------

Version psmgmt-4.3.5:
=====================
------------------------------------------------------------------------
r4452 | eicker | 2006-11-23 21:02:43 +0100 (Thu, 23 Nov 2006) | 2 lines

Minor improvements in PS[IE]_spawnAdmin() needed for pscp to work.

------------------------------------------------------------------------
r4440 | eicker | 2006-11-09 17:55:21 +0100 (Thu, 09 Nov 2006) | 3 lines

New admin-directive 'list memory'. Corresponding info collected within
   RDPPing-messages.

------------------------------------------------------------------------
r4439 | eicker | 2006-11-07 17:03:05 +0100 (Tue, 07 Nov 2006) | 2 lines

pssh: Only present logout message in interactive sessions.

------------------------------------------------------------------------
r4437 | eicker | 2006-11-06 20:55:22 +0100 (Mon, 06 Nov 2006) | 2 lines

New version.

------------------------------------------------------------------------

Version psmgmt-4.3.4:
=====================
------------------------------------------------------------------------
r4436 | eicker | 2006-11-06 20:50:48 +0100 (Mon, 06 Nov 2006) | 2 lines

More compatibility with ssh: Give correct return value.

------------------------------------------------------------------------
r4435 | eicker | 2006-11-06 19:35:13 +0100 (Mon, 06 Nov 2006) | 2 lines

More ssh compatibility: Make slave pty aware of changes in window-size.

------------------------------------------------------------------------
r4434 | eicker | 2006-11-06 18:09:02 +0100 (Mon, 06 Nov 2006) | 2 lines

Some more ssh compatibility: Don't stop forwarder too early.

------------------------------------------------------------------------
r4431 | eicker | 2006-11-03 15:59:08 +0100 (Fri, 03 Nov 2006) | 3 lines

Make test_config compile with older gcc on IA64.
Remove obsolete tool test_config_parsing.

------------------------------------------------------------------------
r4430 | eicker | 2006-11-03 15:49:36 +0100 (Fri, 03 Nov 2006) | 6 lines

Extension: Allow more than one user/group/admin-user/admin-group to be
set.
Move most of psnodes-stuff into the daemon, i.e. psidnodes.[ch].
  Actually this is the only place where it is used.
Many minor cleanups.

------------------------------------------------------------------------
r4424 | eicker | 2006-11-02 15:44:00 +0100 (Thu, 02 Nov 2006) | 2 lines

Fix 64 bit issue in logging facility.

------------------------------------------------------------------------
r4421 | eicker | 2006-10-30 18:14:23 +0100 (Mon, 30 Oct 2006) | 2 lines

Fix some bugs in last pssh-implementation.

------------------------------------------------------------------------
r4419 | eicker | 2006-10-30 16:42:54 +0100 (Mon, 30 Oct 2006) | 2 lines

Fix two typos.

------------------------------------------------------------------------
r4418 | eicker | 2006-10-30 14:55:28 +0100 (Mon, 30 Oct 2006) | 2 lines

Yet more compatibility with ssh.

------------------------------------------------------------------------
r4417 | eicker | 2006-10-30 14:42:45 +0100 (Mon, 30 Oct 2006) | 2 lines

Store stdin/stdout/stderr fds in task structure.

------------------------------------------------------------------------
r4416 | eicker | 2006-10-30 14:28:27 +0100 (Mon, 30 Oct 2006) | 2 lines

Improve history handling.

------------------------------------------------------------------------
r4415 | eicker | 2006-10-25 16:52:35 +0200 (Wed, 25 Oct 2006) | 3 lines

Final changes on pssh. This should enable pssh to be used from within
psh.

------------------------------------------------------------------------
r4411 | eicker | 2006-10-25 15:36:07 +0200 (Wed, 25 Oct 2006) | 3 lines

Reorganize task-spawn. Lookup path if no absolute path (or path starting
with './') is given. This enables pssh to be more complient with ssh.

------------------------------------------------------------------------
r4410 | eicker | 2006-10-25 15:32:12 +0200 (Wed, 25 Oct 2006) | 4 lines

New helper function PSC_concat(). Concatenate two or more strings into
one with malloc on the fly. This replaces some common used
malloc()/strcpy()/strcat() constructs.

------------------------------------------------------------------------
r4409 | eicker | 2006-10-25 12:58:54 +0200 (Wed, 25 Oct 2006) | 2 lines

Bugfix: Remove debug remains.

------------------------------------------------------------------------
r4405 | eicker | 2006-10-24 16:50:54 +0200 (Tue, 24 Oct 2006) | 2 lines

Nicer output in psiadmin's 'list jobs slots' directive.

------------------------------------------------------------------------
r4402 | eicker | 2006-10-24 13:16:12 +0200 (Tue, 24 Oct 2006) | 2 lines

psaccounter needs asnchronous handling of answers to PSI_kill()

------------------------------------------------------------------------
r4401 | eicker | 2006-10-24 12:13:48 +0200 (Tue, 24 Oct 2006) | 4 lines

Improved handling of dropped messages
More control on delivery of signals (new msg type PSP_CD_SIGRES)
Signal 0 now might be used to ping process (as in kill(2))

------------------------------------------------------------------------
r4400 | eicker | 2006-10-24 12:09:54 +0200 (Tue, 24 Oct 2006) | 2 lines

Minor update, some todos added.

------------------------------------------------------------------------
r4398 | eicker | 2006-10-24 09:48:38 +0200 (Tue, 24 Oct 2006) | 2 lines

Some collected info on PS message types.

------------------------------------------------------------------------
r4393 | eicker | 2006-10-17 00:07:59 +0200 (Tue, 17 Oct 2006) | 3 lines

More on accounting: Different accounting messages, also messages on task
queue, start and delete. logger ping still missing.

------------------------------------------------------------------------
r4380 | eicker | 2006-10-10 22:40:48 +0200 (Tue, 10 Oct 2006) | 3 lines

More accounting stuff. Still missing the possibility of the accounter to
request if the logger is still there.

------------------------------------------------------------------------
r4366 | eicker | 2006-10-05 21:03:24 +0200 (Thu, 05 Oct 2006) | 2 lines

Many hooks for accounting stuff.

------------------------------------------------------------------------
r4362 | eicker | 2006-10-04 15:15:29 +0200 (Wed, 04 Oct 2006) | 3 lines

New environment 'PSI_HOSTS_UNIQUE'. This eliminates consecutive
identical entries within a hostfile. Might be useful for benchmarking.

------------------------------------------------------------------------
r4355 | eicker | 2006-09-15 16:13:30 +0200 (Fri, 15 Sep 2006) | 3 lines

New task-group TG_SERVICE. Will be used within the new PSC startup stuff.
Add the corresponding PSI_spawnService() routine.

------------------------------------------------------------------------
r4350 | eicker | 2006-09-14 17:56:33 +0200 (Thu, 14 Sep 2006) | 2 lines

Suppress warning messages from gcc4.

------------------------------------------------------------------------
r4347 | eicker | 2006-09-14 17:33:52 +0200 (Thu, 14 Sep 2006) | 2 lines

New info PSP_INFO_LIST_PARTITION. We'll need this for PSC startup stuff.

------------------------------------------------------------------------
r4336 | eicker | 2006-09-05 19:12:28 +0200 (Tue, 05 Sep 2006) | 2 lines

Respect the starter flag even if starting foreign applications.

------------------------------------------------------------------------
r4335 | eicker | 2006-09-05 19:11:19 +0200 (Tue, 05 Sep 2006) | 2 lines

Remove bogus debug-message.

------------------------------------------------------------------------
r4322 | hauke | 2006-09-04 10:17:59 +0200 (Mon, 04 Sep 2006) | 2 lines

psh: don't use configfile nodelist, if -n option is used on cmd_line.

------------------------------------------------------------------------
r4321 | hauke | 2006-09-04 10:00:45 +0200 (Mon, 04 Sep 2006) | 2 lines

psh: default to ssh.

------------------------------------------------------------------------
r4320 | hauke | 2006-09-04 10:00:10 +0200 (Mon, 04 Sep 2006) | 2 lines

psh: default to ssh.

------------------------------------------------------------------------
r4319 | hauke | 2006-09-04 09:59:18 +0200 (Mon, 04 Sep 2006) | 2 lines

psh: ask for ~/.psh.d/default.

------------------------------------------------------------------------
r4318 | hauke | 2006-09-04 09:47:53 +0200 (Mon, 04 Sep 2006) | 2 lines

psh: split comma separated hostlist.

------------------------------------------------------------------------
r4303 | eicker | 2006-09-01 12:02:01 +0200 (Fri, 01 Sep 2006) | 3 lines

Handle PSP_INFO_NODE requests correctly. Parameter is PSnodes_ID_t, not
int. This has introduced problems on big endian platforms.

------------------------------------------------------------------------
r4302 | eicker | 2006-09-01 12:00:07 +0200 (Fri, 01 Sep 2006) | 2 lines

Bugfix: Actually enable 'set starter' and 'set runjobs'.

------------------------------------------------------------------------
r4268 | eicker | 2006-08-18 22:58:30 +0200 (Fri, 18 Aug 2006) | 2 lines

Extension: New directive 'sleep' within psiadmin.

------------------------------------------------------------------------
r4260 | eicker | 2006-08-18 12:52:45 +0200 (Fri, 18 Aug 2006) | 2 lines

Fix some problems with terminal process group within spawning processes.

------------------------------------------------------------------------
r4258 | eicker | 2006-08-17 13:19:24 +0200 (Thu, 17 Aug 2006) | 2 lines

Update ChangeLog

Version psmgmt-4.3.3:
=====================
------------------------------------------------------------------------
r4257 | eicker | 2006-08-17 13:16:05 +0200 (Thu, 17 Aug 2006) | 2 lines

New version

------------------------------------------------------------------------
r4256 | eicker | 2006-08-17 12:59:52 +0200 (Thu, 17 Aug 2006) | 2 lines

Enable PSE_spawnAdmin() and PSI_spawnAdmin() to set rank explicitely.

------------------------------------------------------------------------
r4236 | eicker | 2006-08-09 21:30:49 +0200 (Wed, 09 Aug 2006) | 2 lines

Spawning of admin tasks completed. pssh is first example to use this.

------------------------------------------------------------------------
r4235 | eicker | 2006-08-08 21:01:01 +0200 (Tue, 08 Aug 2006) | 2 lines

Fix help message (see bug #52).

------------------------------------------------------------------------
r4234 | eicker | 2006-08-08 00:05:55 +0200 (Tue, 08 Aug 2006) | 2 lines

Next snapshot of pssh. Still not working.

------------------------------------------------------------------------
r4199 | eicker | 2006-07-21 17:18:41 +0200 (Fri, 21 Jul 2006) | 2 lines

First snapshot of pssh. Not working, not enabled in Makefile.

------------------------------------------------------------------------
r4198 | eicker | 2006-07-21 15:48:04 +0200 (Fri, 21 Jul 2006) | 2 lines

Add user-land support for admin-tasks (at least a stub of it).

------------------------------------------------------------------------
r4196 | eicker | 2006-07-20 12:58:57 +0200 (Thu, 20 Jul 2006) | 4 lines

Extension: Add 'adminuser' and 'admingroup' attribute to nodes. This
   includes extensions to the configuration file and to psiadmin. Needed
   for admin-task to be implemented later.

------------------------------------------------------------------------
r4195 | eicker | 2006-07-19 16:58:42 +0200 (Wed, 19 Jul 2006) | 4 lines

Bugfix: Enable PSI_spawn() and relatives to handle much larger
    environments. Now we might reduce the maximum size of
    DDBufferMsg_t and DDTypedBufferMsg_t significantly.

------------------------------------------------------------------------
r4194 | eicker | 2006-07-19 15:34:25 +0200 (Wed, 19 Jul 2006) | 4 lines

Bugfix: Interprete PSI_DEBUGMASK correct even when given as hex.
Bugfix: Exit from PSE_spawnMaster() even if PSI_spawn gives no error
    code.

------------------------------------------------------------------------
r4180 | eicker | 2006-07-11 23:55:32 +0200 (Tue, 11 Jul 2006) | 2 lines

Move all the spawning stuff into psidspawn.c.

------------------------------------------------------------------------
r4175 | eicker | 2006-07-11 16:55:07 +0200 (Tue, 11 Jul 2006) | 3 lines

Extract all functions concerning handling of communication hardware into
   one file.

------------------------------------------------------------------------
r4164 | eicker | 2006-07-10 15:42:55 +0200 (Mon, 10 Jul 2006) | 3 lines

Prevent 'list version' from providing obsolete info (belonging to a
   previous node).

------------------------------------------------------------------------
r4163 | eicker | 2006-07-10 15:27:10 +0200 (Mon, 10 Jul 2006) | 2 lines

Implement psiadmin's 'list jobs' directive.

------------------------------------------------------------------------
r4162 | eicker | 2006-07-10 14:33:26 +0200 (Mon, 10 Jul 2006) | 2 lines

Improved documentation. This prevents some warnings within doxygen.

------------------------------------------------------------------------
r4145 | eicker | 2006-06-26 18:08:27 +0200 (Mon, 26 Jun 2006) | 3 lines

Smarter test if we'll ever get the requested resources when we have to
overbook.

------------------------------------------------------------------------
r4143 | eicker | 2006-06-22 00:35:14 +0200 (Thu, 22 Jun 2006) | 2 lines

Some more corrections on allocation. One minor issue remains.

------------------------------------------------------------------------
r4138 | hauke | 2006-06-20 14:40:43 +0200 (Tue, 20 Jun 2006) | 2 lines

Install x86_64 libs to /opt/parastation/lib64.

------------------------------------------------------------------------
r4123 | eicker | 2006-06-06 17:03:42 +0200 (Tue, 06 Jun 2006) | 3 lines

Fix failing BuildRequires on Fedora Core5 without breaking it on SUSE
systems (Bug #48)

------------------------------------------------------------------------
r4122 | eicker | 2006-06-02 16:37:07 +0200 (Fri, 02 Jun 2006) | 3 lines

Check for stack-protection stuff and switch it off when building shared
libraries. This fixes RPM build problems on Fedora core5 (Bug #44).

------------------------------------------------------------------------
r4111 | eicker | 2006-05-29 20:51:44 +0200 (Mon, 29 May 2006) | 2 lines

Bugfix: Fix flow control for stdin logger->forwarder (Bug #43).

------------------------------------------------------------------------

Version psmgmt-4.3.2:
=====================
------------------------------------------------------------------------
r4100 | eicker | 2006-05-16 16:35:05 +0200 (Tue, 16 May 2006) | 4 lines

Bugfix: Make 'RLimit RSSize', 'RLimit MemLock' and 'RLimit Core'
    actually work (Bug #23)
Minor bugfixes in rlimit-context.

------------------------------------------------------------------------
r4099 | eicker | 2006-05-04 11:49:13 +0200 (Thu, 04 May 2006) | 2 lines

Add some BuildRequires in order to make rpmbuild more robust.

------------------------------------------------------------------------
r4065 | eicker | 2006-04-06 15:35:05 +0200 (Thu, 06 Apr 2006) | 2 lines

Bugfix: Let test_config use stderr instead of syslog() for output.

------------------------------------------------------------------------
r4041 | eicker | 2006-03-22 14:28:13 +0100 (Wed, 22 Mar 2006) | 2 lines

Don't let any user kill psid by just doing 'test' in psiadmin (Bug #29).

------------------------------------------------------------------------
r4025 | eicker | 2006-03-13 17:53:47 +0100 (Mon, 13 Mar 2006) | 2 lines

Bugfix: Prevent calling free() more than once on task->argv[i].

------------------------------------------------------------------------
r4006 | eicker | 2006-03-02 15:49:58 +0100 (Thu, 02 Mar 2006) | 5 lines

Extension: New info-type PSP_INFO_QUEUE_*. This make info-retrival more
    flexible.
Refactor PSIADM_ProcStat() in order to make use of the new info-retrival
    mechanism.


Version psmgmt-4.3.1:
=====================
------------------------------------------------------------------------
r3990 | eicker | 2006-02-21 12:58:22 +0100 (Tue, 21 Feb 2006) | 4 lines

Bugfix: Adopt Makefiles to be backward-compatible with make 3.79.1
   (Bug #42)

------------------------------------------------------------------------
r3985 | eicker | 2006-02-15 15:36:51 +0100 (Wed, 15 Feb 2006) | 2 lines

Bugfix: mpirun_chp4 produces process leftovers (Bug #41).


Version psmgmt-4.3.0:
=====================
------------------------------------------------------------------------
r3956 | eicker | 2006-02-01 14:10:15 +0100 (Wed, 01 Feb 2006) | 2 lines

Extend parser to also handle -1 numerical values.

------------------------------------------------------------------------
r3955 | eicker | 2006-01-31 17:47:50 +0100 (Tue, 31 Jan 2006) | 2 lines

Make psiadmin output consistent with expected input.

------------------------------------------------------------------------
r3950 | eicker | 2006-01-31 11:05:59 +0100 (Tue, 31 Jan 2006) | 2 lines

Fix on-line help messages for 'show runjobs' and 'show overbook'.

------------------------------------------------------------------------
r3949 | eicker | 2006-01-30 18:43:13 +0100 (Mon, 30 Jan 2006) | 2 lines

Also forward PSP_OPENIB environment.

------------------------------------------------------------------------
r3939 | eicker | 2006-01-24 17:34:33 +0100 (Tue, 24 Jan 2006) | 2 lines

Prevent some unnecessary (and misleading) messages on job crash.

------------------------------------------------------------------------
r3935 | eicker | 2006-01-20 14:25:40 +0100 (Fri, 20 Jan 2006) | 2 lines

New version (add PathScale support).

------------------------------------------------------------------------
r3934 | eicker | 2006-01-20 14:24:48 +0100 (Fri, 20 Jan 2006) | 2 lines

Enhancement: Add support for PathScale binaries.

------------------------------------------------------------------------
r3933 | eicker | 2006-01-20 14:13:33 +0100 (Fri, 20 Jan 2006) | 5 lines

Use ptid instead of loggertid in order to find a job's root. This is
needed for TG_PSCSPAWNER. Thus a PSP_CD_GETNODES message might take some
more hops in order to reach the root. On the other hand this is much
cleaner.

------------------------------------------------------------------------
r3932 | eicker | 2006-01-20 14:07:52 +0100 (Fri, 20 Jan 2006) | 2 lines

New task-group TG_PSCSPAWNER.

------------------------------------------------------------------------
r3931 | eicker | 2006-01-20 13:59:25 +0100 (Fri, 20 Jan 2006) | 2 lines

Makefile reorganization.

------------------------------------------------------------------------
r3930 | eicker | 2006-01-20 13:55:15 +0100 (Fri, 20 Jan 2006) | 3 lines

Makefile reorganization.
Don't build pslog sharedlibs (will never be used).

------------------------------------------------------------------------
r3929 | eicker | 2006-01-20 13:53:19 +0100 (Fri, 20 Jan 2006) | 3 lines

New functions: PSI_spawnSingle() and PSI_createMPIhosts(). Will be used
within PathScale support.

------------------------------------------------------------------------
r3928 | eicker | 2006-01-20 13:45:33 +0100 (Fri, 20 Jan 2006) | 2 lines

Switch to new PSI_propEnv() function.

------------------------------------------------------------------------
r3927 | eicker | 2006-01-20 13:43:19 +0100 (Fri, 20 Jan 2006) | 3 lines

New function PSI_propEnv(). This will propagate some default environment
to child processes spawned via ParaStation.

------------------------------------------------------------------------
r3926 | eicker | 2006-01-20 13:35:54 +0100 (Fri, 20 Jan 2006) | 3 lines

Bugfix: Use PSE_getPartition() instead of PSI_createPartition() in order
to support all the batch-systems.

------------------------------------------------------------------------
r3925 | eicker | 2006-01-20 13:34:23 +0100 (Fri, 20 Jan 2006) | 3 lines

Bugfix: Use PSE_getPartition() instead of PSI_createPartition() in order
to support all the batch-systems.

------------------------------------------------------------------------
r3924 | eicker | 2006-01-20 13:32:30 +0100 (Fri, 20 Jan 2006) | 3 lines

Bugfix: 'psmstart -l' is allowed as normal user if argument maps to same
uid.

------------------------------------------------------------------------
r3897 | eicker | 2006-01-13 14:21:15 +0100 (Fri, 13 Jan 2006) | 2 lines

New version

------------------------------------------------------------------------
r3896 | eicker | 2006-01-13 13:48:05 +0100 (Fri, 13 Jan 2006) | 2 lines

Fix some problems/warnings discovered by gcc 4.0.

------------------------------------------------------------------------
r3895 | eicker | 2006-01-10 14:04:10 +0100 (Tue, 10 Jan 2006) | 2 lines

New version.

------------------------------------------------------------------------
r3894 | eicker | 2006-01-10 14:03:23 +0100 (Tue, 10 Jan 2006) | 5 lines

Extensions:
- Support IBM's LoadLeveler ressource management.
- If a batch-system is detected, follow the provided allegations more
  tightly.

------------------------------------------------------------------------
r3893 | eicker | 2006-01-09 19:31:19 +0100 (Mon, 09 Jan 2006) | 2 lines

Switch off overbooking per default.

------------------------------------------------------------------------
r3892 | eicker | 2006-01-09 19:29:54 +0100 (Mon, 09 Jan 2006) | 2 lines

Bugfix: Make 'psid -l stdout' work as expected.

------------------------------------------------------------------------
r3891 | eicker | 2006-01-09 19:14:49 +0100 (Mon, 09 Jan 2006) | 2 lines

Bugfix: Some more test if token != NULL to prevent SEGFAULT (bug #31).

------------------------------------------------------------------------
r3890 | eicker | 2006-01-09 19:09:13 +0100 (Mon, 09 Jan 2006) | 2 lines

Bugfix: Make list version work (bug #32).

------------------------------------------------------------------------
r3889 | eicker | 2006-01-06 11:38:54 +0100 (Fri, 06 Jan 2006) | 2 lines

Minor cosmetic changes.

------------------------------------------------------------------------
r3888 | eicker | 2006-01-06 11:38:33 +0100 (Fri, 06 Jan 2006) | 2 lines

Adapt sample configuration file to the now directives.

------------------------------------------------------------------------
r3887 | eicker | 2006-01-06 10:20:52 +0100 (Fri, 06 Jan 2006) | 5 lines

New options PSP_OP_OVERBOOK, PSP_OP_STARTER, PSP_OP_RUNJOBS.
Support this options within psiadmin.
Allow this options within configuration file.
Remark: PSP_OP_OVERBOOK not yet considered during partition-build.

------------------------------------------------------------------------
r3886 | eicker | 2006-01-06 09:58:41 +0100 (Fri, 06 Jan 2006) | 2 lines

Undo last change (revision stuff).

------------------------------------------------------------------------
r3885 | eicker | 2006-01-06 09:57:09 +0100 (Fri, 06 Jan 2006) | 2 lines

Revision stuff

------------------------------------------------------------------------
r3884 | eicker | 2006-01-06 09:48:15 +0100 (Fri, 06 Jan 2006) | 2 lines

Fix copyright.

------------------------------------------------------------------------
r3883 | eicker | 2006-01-02 13:54:06 +0100 (Mon, 02 Jan 2006) | 4 lines

New admin directive 'list versions' shows daemon and RPM version of
every node (see Bug #28)
Now the RPM-version can also be retrieved from psid.

------------------------------------------------------------------------
r3875 | eicker | 2006-01-02 10:27:25 +0100 (Mon, 02 Jan 2006) | 2 lines

Enhancement: Show psiadmin's RPM version from within admin (Bug #28)

------------------------------------------------------------------------
r3874 | eicker | 2006-01-02 10:10:08 +0100 (Mon, 02 Jan 2006) | 2 lines

Bugfix: In psiadmin a noderange of '-1' means the local node. (Bug #27).

------------------------------------------------------------------------
r3869 | eicker | 2005-12-21 22:01:11 +0100 (Wed, 21 Dec 2005) | 2 lines

Bugfix: Also distribute logging.h (this is needed by pscommon.h)

------------------------------------------------------------------------
r3862 | eicker | 2005-12-19 19:32:43 +0100 (Mon, 19 Dec 2005) | 3 lines

Extension: psiadmin now has a history file (Thanks to Bert Wesarg
<wesarg@informatik.uni-halle.de>)

------------------------------------------------------------------------
r3854 | eicker | 2005-12-19 10:17:25 +0100 (Mon, 19 Dec 2005) | 3 lines

Extension: Default reservations from parastation.conf (thanks to Bert
Wesarg <wesarg@informatik.uni-halle.de>)

------------------------------------------------------------------------
r3853 | eicker | 2005-12-19 09:50:55 +0100 (Mon, 19 Dec 2005) | 3 lines

Bugfix: close some memory leaks (thanks to Bert Wesarg
  <wesarg@informatik.uni-halle.de>)

------------------------------------------------------------------------
r3844 | eicker | 2005-12-15 13:30:54 +0100 (Thu, 15 Dec 2005) | 2 lines

New version.

------------------------------------------------------------------------
r3843 | eicker | 2005-12-15 13:30:18 +0100 (Thu, 15 Dec 2005) | 2 lines

Introduce init.d script for ParaStation.

------------------------------------------------------------------------
r3841 | eicker | 2005-12-15 10:40:49 +0100 (Thu, 15 Dec 2005) | 3 lines

Bugfix: All processes (besides the loggers) are allowed to spawn further
processes even if 'starter no' is given.

------------------------------------------------------------------------
r3840 | eicker | 2005-12-15 10:38:43 +0100 (Thu, 15 Dec 2005) | 2 lines

Also forward PSP_LIB.

------------------------------------------------------------------------
r3839 | eicker | 2005-12-14 17:01:21 +0100 (Wed, 14 Dec 2005) | 2 lines

Bugfix: Prevent psiadmin from segfault on 'help test'.

------------------------------------------------------------------------
r3801 | hauke | 2005-11-03 11:26:34 +0100 (Thu, 03 Nov 2005) | 2 lines

specfile tag "Copyright" is deprecated. Changed to "License: Proprietary".

------------------------------------------------------------------------
r3787 | eicker | 2005-10-05 10:57:12 +0200 (Wed, 05 Oct 2005) | 2 lines

Decouple various logging masks.

------------------------------------------------------------------------
r3785 | eicker | 2005-10-05 10:02:56 +0200 (Wed, 05 Oct 2005) | 3 lines

Use PROC+LOAD instead of PROCLOAD in parastation.conf and psiadmin.
Improve psiadmin's online-help.

------------------------------------------------------------------------
r3784 | eicker | 2005-10-04 22:36:51 +0200 (Tue, 04 Oct 2005) | 3 lines

Make sure 'set nodessort <mode>' in psiadmin really works.
Add 'set/show nodessort' to psiadmin's online-help.

------------------------------------------------------------------------
r3783 | eicker | 2005-10-04 22:34:43 +0200 (Tue, 04 Oct 2005) | 2 lines

Bugfix: Make sure tag is resetted when initializing the logger.

------------------------------------------------------------------------
r3782 | eicker | 2005-10-04 22:03:24 +0200 (Tue, 04 Oct 2005) | 3 lines

Implement default PSINodesSort configuration in /etc/parastation.conf.
Also make nodesSort an option configurable during run-time via psiadmin.

------------------------------------------------------------------------
r3780 | eicker | 2005-10-04 15:48:05 +0200 (Tue, 04 Oct 2005) | 2 lines

Implement new rlimits: RLIMIT_MEMLOCK, RLIMIT_CORE (see Bug #23)

------------------------------------------------------------------------
r3779 | eicker | 2005-10-04 15:19:17 +0200 (Tue, 04 Oct 2005) | 3 lines

Fix typo.
Correct version.

------------------------------------------------------------------------
r3778 | eicker | 2005-10-04 15:10:57 +0200 (Tue, 04 Oct 2005) | 4 lines

Complete new logging. Now logging is steered via masks and no longer via
simple levels.
This patch touches almost the whole management code.

------------------------------------------------------------------------
r3771 | eicker | 2005-09-15 14:03:00 +0200 (Thu, 15 Sep 2005) | 4 lines

Propagate some more environment variables by default:
  LD_LIBRARY_PATH, LD_PRELOAD, MPID_PSP_MAXSMALLMSG, PSP_NETWORK,
  PSP_P4SOCK, PSP_SHAREDMEM, PSP_GM, PSP_MVAPI and PSP_DEBUG.

------------------------------------------------------------------------
r3769 | eicker | 2005-09-15 13:33:33 +0200 (Thu, 15 Sep 2005) | 2 lines

Create MANPATH if it was not set before.

------------------------------------------------------------------------
r3748 | eicker | 2005-08-10 13:35:15 +0200 (Wed, 10 Aug 2005) | 3 lines

Cleanup: Remove obsolete variables/function to suppress compiler
warnings.

------------------------------------------------------------------------
r3747 | eicker | 2005-08-10 09:06:16 +0200 (Wed, 10 Aug 2005) | 4 lines

Directives for psiadmin or parastation.conf might be abbreviated as much
as possible (of course commands have to be unique).
Implement completion within psiadmin.

------------------------------------------------------------------------
r3745 | eicker | 2005-08-08 13:58:21 +0200 (Mon, 08 Aug 2005) | 4 lines

Implement an extended batch-mode (-f flag).
Handle .psiadminrc files either in the current directory or in the
user's home.


Version psmgmt-4.2.5:
=====================
------------------------------------------------------------------------
r3739 | eicker | 2005-07-27 14:01:47 +0200 (Wed, 27 Jul 2005) | 2 lines

Bugfix: Never ever close the file-descriptor holding the flock().


Version psmgmt-4.2.4:
=====================
------------------------------------------------------------------------
r3736 | eicker | 2005-07-27 09:12:43 +0200 (Wed, 27 Jul 2005) | 4 lines

Bugfix: Fix race-condition on startup. This might lead to a daemon
  which is locally not accessible but works as expected in all other
  means.

------------------------------------------------------------------------
r3725 | eicker | 2005-07-15 11:38:59 +0200 (Fri, 15 Jul 2005) | 2 lines

Correct 'status s[ummary]' help message.

------------------------------------------------------------------------
r3720 | eicker | 2005-07-05 14:31:39 +0200 (Tue, 05 Jul 2005) | 2 lines

Small README describing the creation of a new release of psmgmt.


Version psmgmt-4.2.3:
=====================
------------------------------------------------------------------------
r3717 | eicker | 2005-07-05 14:19:13 +0200 (Tue, 05 Jul 2005) | 3 lines

Prepare for new version.
Update ChangeLog.

------------------------------------------------------------------------
r3716 | eicker | 2005-07-05 14:03:38 +0200 (Tue, 05 Jul 2005) | 2 lines

Don't clone whole task structures when only a siglist is needed.

------------------------------------------------------------------------
r3715 | eicker | 2005-07-05 13:54:03 +0200 (Tue, 05 Jul 2005) | 4 lines

Bugfix: Fix some race-conditions within code used during shutdown of
parallel tasks. This should suppress some error-messages, as well in the
syslogs of the daemon as in the output of the user processes.

------------------------------------------------------------------------
r3714 | eicker | 2005-07-05 13:42:44 +0200 (Tue, 05 Jul 2005) | 2 lines

Add some documentation.

------------------------------------------------------------------------
r3688 | eicker | 2005-06-24 16:01:42 +0200 (Fri, 24 Jun 2005) | 2 lines

Some comments added.



Version psmgmt-4.2.2:
=====================
------------------------------------------------------------------------
r3667 | eicker | 2005-06-08 12:24:34 +0200 (Wed, 08 Jun 2005) | 2 lines

New version

------------------------------------------------------------------------
r3663 | eicker | 2005-06-06 11:13:35 +0200 (Mon, 06 Jun 2005) | 2 lines

Implement a flow control between logger and forwarder for stdin.

------------------------------------------------------------------------
r3662 | eicker | 2005-06-06 11:10:10 +0200 (Mon, 06 Jun 2005) | 2 lines

Cleanup: Remove more obsolete references to pshwtypes.h

------------------------------------------------------------------------
r3661 | eicker | 2005-05-25 14:24:29 +0200 (Wed, 25 May 2005) | 2 lines

Cleanup: Remove obsolete pshwtypes.h and all references to it.

------------------------------------------------------------------------
r3660 | eicker | 2005-05-24 19:34:48 +0200 (Tue, 24 May 2005) | 5 lines

New info call PSP_INFO_CMDLINE retrieving the command line of a task
which is actually started by the ParaStation daemon.
An (deactivated) example for the usage may be found within psiadmin's
commands.c.

------------------------------------------------------------------------
r3659 | eicker | 2005-05-24 13:24:46 +0200 (Tue, 24 May 2005) | 2 lines

Bugfix: Don't exit daemon on problem in recvfrom().

------------------------------------------------------------------------
r3658 | eicker | 2005-05-20 14:57:12 +0200 (Fri, 20 May 2005) | 2 lines

Bugfix: Don't handle the timeout stuff within the signal handler.

------------------------------------------------------------------------
r3657 | eicker | 2005-05-20 13:03:34 +0200 (Fri, 20 May 2005) | 2 lines

Bugfix: Prevent apps from hanging on exit due to connection breakdown.

------------------------------------------------------------------------
r3652 | moschny | 2005-05-17 19:38:52 +0200 (Tue, 17 May 2005) | 2 lines

Hardcoding "/opt/parastation".
Nobody seems to be interested anyway.
------------------------------------------------------------------------
r3651 | moschny | 2005-05-17 18:36:28 +0200 (Tue, 17 May 2005) | 1 line

Include the login scripts in dist.
------------------------------------------------------------------------
r3650 | moschny | 2005-05-17 18:34:04 +0200 (Tue, 17 May 2005) | 4 lines

- More quoting.
- Eliminate use of grep.
- Default to /opt/parastation if there's no /etc/parastation file or
  no InstallDir option.


Version psmgmt-4.2.1:
=====================
------------------------------------------------------------------------
r3649 | eicker | 2005-05-17 17:28:11 +0200 (Tue, 17 May 2005) | 2 lines

New version.

------------------------------------------------------------------------
r3648 | eicker | 2005-05-17 17:26:30 +0200 (Tue, 17 May 2005) | 2 lines

Cleanup code.

------------------------------------------------------------------------
r3647 | eicker | 2005-05-17 15:14:58 +0200 (Tue, 17 May 2005) | 2 lines

Minor cleanup.

------------------------------------------------------------------------
r3646 | eicker | 2005-05-17 15:11:31 +0200 (Tue, 17 May 2005) | 2 lines

Bugfix: loop and do not shutdown on EINTR.

------------------------------------------------------------------------
r3644 | moschny | 2005-05-13 16:06:16 +0200 (Fri, 13 May 2005) | 5 lines

Scripts that can be used to set user's PATH and MANPATH at login
time. Something like this could be included in the rpms. However, the
current build process expects all files to be under /opt/parastation,
while these two files should be placed in /etc/profile.d.

------------------------------------------------------------------------
r3643 | moschny | 2005-05-13 14:24:06 +0200 (Fri, 13 May 2005) | 1 line

Made two small corrections.
------------------------------------------------------------------------
r3637 | eicker | 2005-05-11 16:40:45 +0200 (Wed, 11 May 2005) | 2 lines

New command 'status summary' within psiadmin.

------------------------------------------------------------------------
r3635 | hauke | 2005-05-10 16:39:24 +0200 (Tue, 10 May 2005) | 2 lines

Small autocd fix.

------------------------------------------------------------------------
r3623 | hauke | 2005-05-04 20:22:32 +0200 (Wed, 04 May 2005) | 1 line

Powerpc64 support.
------------------------------------------------------------------------
r3622 | hauke | 2005-05-04 20:20:25 +0200 (Wed, 04 May 2005) | 1 line

Powerpc64 support.


Version psmgmt-4.2.0:
=====================
------------------------------------------------------------------------
r3610 | hauke | 2005-04-28 17:34:07 +0200 (Thu, 28 Apr 2005) | 2 lines

Version 4.2.0-0

------------------------------------------------------------------------
r3607 | hauke | 2005-04-27 11:13:16 +0200 (Wed, 27 Apr 2005) | 1 line

Include LICENSE.
------------------------------------------------------------------------
r3606 | hauke | 2005-04-27 11:12:33 +0200 (Wed, 27 Apr 2005) | 1 line

Typo
------------------------------------------------------------------------
r3571 | eicker | 2005-04-11 19:28:49 +0200 (Mon, 11 Apr 2005) | 2 lines

Bugfix: Fix changes done when removing OSF support.

------------------------------------------------------------------------
r3570 | eicker | 2005-04-11 19:28:10 +0200 (Mon, 11 Apr 2005) | 2 lines

Fix typo in copyright messages.

------------------------------------------------------------------------
r3569 | eicker | 2005-04-11 17:09:59 +0200 (Mon, 11 Apr 2005) | 2 lines

Remove obsolete stuff.

------------------------------------------------------------------------
r3568 | eicker | 2005-04-11 17:03:39 +0200 (Mon, 11 Apr 2005) | 2 lines

Remove OSF aka Tru64 remnants.

------------------------------------------------------------------------
r3561 | eicker | 2005-04-07 14:24:24 +0200 (Thu, 07 Apr 2005) | 2 lines

Remove all the license stuff.

------------------------------------------------------------------------
r3560 | eicker | 2005-04-07 14:22:53 +0200 (Thu, 07 Apr 2005) | 2 lines

Do not link libpopt statically any longer. SuSE has fixed their bug.

------------------------------------------------------------------------
r3559 | eicker | 2005-04-07 14:16:19 +0200 (Thu, 07 Apr 2005) | 3 lines

Bugfix: Do not exit daemon if actually reading a control message fails.
Bugfix: Don't use rdpsock explicitely within handleRDP().

------------------------------------------------------------------------
r3558 | eicker | 2005-04-07 14:11:26 +0200 (Thu, 07 Apr 2005) | 2 lines

Fix build-system in order to make 'make distclean' working as intended.

------------------------------------------------------------------------
r3557 | eicker | 2005-04-07 14:04:55 +0200 (Thu, 07 Apr 2005) | 3 lines

Fix build-system in order to work with old versions of rpm.
Cleanup.

------------------------------------------------------------------------
r3556 | eicker | 2005-04-04 19:09:50 +0200 (Mon, 04 Apr 2005) | 2 lines

Fix cleaning stuff.

------------------------------------------------------------------------
r3555 | eicker | 2005-04-04 18:51:37 +0200 (Mon, 04 Apr 2005) | 3 lines

Remove obsolete info stuff. The new PSI_info-API is used for more than a
year now.

------------------------------------------------------------------------
r3545 | eicker | 2005-03-02 15:47:39 +0100 (Wed, 02 Mar 2005) | 2 lines

Remove one compiler warning.

------------------------------------------------------------------------


Version psmgmt-4.1.4:
=====================

Update ChangeLog. Prepare for release 4.2.0

------------------------------------------------------------------------
r3545 | eicker | 2005-03-02 15:47:39 +0100 (Wed, 02 Mar 2005) | 2 lines

Remove one compiler warning.

------------------------------------------------------------------------
r3544 | eicker | 2005-03-02 15:27:24 +0100 (Wed, 02 Mar 2005) | 2 lines

Adapt for removed files.

------------------------------------------------------------------------
r3537 | eicker | 2005-02-11 16:06:17 +0100 (Fri, 11 Feb 2005) | 2 lines

Update copyright information. Prepare for OpenSource release.

------------------------------------------------------------------------
r3536 | eicker | 2005-02-11 15:01:52 +0100 (Fri, 11 Feb 2005) | 2 lines

Remove obsolete files.

------------------------------------------------------------------------
r3535 | eicker | 2005-02-11 14:29:09 +0100 (Fri, 11 Feb 2005) | 2 lines

Remove obsolete stuff.

------------------------------------------------------------------------
r3534 | eicker | 2005-02-11 14:18:25 +0100 (Fri, 11 Feb 2005) | 2 lines

Remove obsolete file

------------------------------------------------------------------------
r3533 | eicker | 2005-02-11 14:09:22 +0100 (Fri, 11 Feb 2005) | 2 lines

Remove obsolete sources.

------------------------------------------------------------------------
r3518 | eicker | 2005-01-27 13:58:17 +0100 (Thu, 27 Jan 2005) | 2 lines

Fix type in log-output.

------------------------------------------------------------------------
r3517 | hauke | 2005-01-27 11:59:58 +0100 (Thu, 27 Jan 2005) | 1 line

Allow $target_os=="linux-gnu" (RedHat).

Version psmgmt-4.1.4:
=====================

------------------------------------------------------------------------
r3516 | eicker | 2005-01-27 10:47:04 +0100 (Thu, 27 Jan 2005) | 1 line

Update ChangeLog. Prepare for release 4.1.4

------------------------------------------------------------------------
r3515 | eicker | 2005-01-27 10:00:12 +0100 (Thu, 27 Jan 2005) | 2 lines

Rebuild srpm only, if necessary

------------------------------------------------------------------------
r3514 | eicker | 2005-01-26 18:07:44 +0100 (Wed, 26 Jan 2005) | 3 lines

fork() before connecting other nodes xinetd. This should improve the
responsiveness of the daemon significantly.

------------------------------------------------------------------------
r3513 | eicker | 2005-01-26 17:20:51 +0100 (Wed, 26 Jan 2005) | 2 lines

Remove some warning from C compiler

------------------------------------------------------------------------
r3512 | eicker | 2005-01-26 17:12:53 +0100 (Wed, 26 Jan 2005) | 1 line

First try for the new build system

------------------------------------------------------------------------
r3486 | eicker | 2004-12-22 16:23:42 +0100 (Wed, 22 Dec 2004) | 5 lines

Bugfix: Handle the case where not stdin is available und daemonSock's fd
is 0. This will lead the daemon to not exit graceful. In combination
with psid not killing the logger due to another bug the logger will
never exit.

------------------------------------------------------------------------
r3485 | eicker | 2004-12-22 16:17:59 +0100 (Wed, 22 Dec 2004) | 5 lines

Don't send SIGKILL to logger's process group but to the process itself.
This is no problem since the logger will never fork, anyhow, and much
more secure since the logger might share a process group with other
processes.

------------------------------------------------------------------------
r3430 | eicker | 2004-10-21 09:47:55 +0200 (Thu, 21 Oct 2004) | 2 lines

Example for native communication with PSPort4. We have to review this!

------------------------------------------------------------------------
r3427 | eicker | 2004-10-20 15:45:36 +0200 (Wed, 20 Oct 2004) | 2 lines

Update copyright message.

------------------------------------------------------------------------
r3418 | hauke | 2004-10-18 14:48:27 +0200 (Mon, 18 Oct 2004) | 2 lines

More debug output for failing exec() calls.

------------------------------------------------------------------------
r3410 | eicker | 2004-10-13 14:51:59 +0200 (Wed, 13 Oct 2004) | 2 lines

Remove obsolete myrinet entry in HWType.

------------------------------------------------------------------------
r3390 | eicker | 2004-10-04 18:51:08 +0200 (Mon, 04 Oct 2004) | 3 lines

Fix one possible segfault.
Remove some 64bit warnings.

Version psmgmt-4.1.3:
=====================

2004-09-28  Norbert Eicker  <eicker@par-tec.com>

	* ChangeLog: Update ChangeLog. Prepare for release 4.1.3.

2004-09-23  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Make the help messages more describing the actual admin.

2004-09-22  Norbert Eicker  <eicker@par-tec.com>

	* Extension: New directive r[ange] within admin.
	New noderange 'all' selecting (guess what) all nodes.

	* Modification: Make RDP output less verbose.

	* Modification: Set PSI_LOOP_NODES_FIRST when LSF or PBS detected.

2004-09-15  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Do not exit daemon when MYrecvfrom() return EWOULDBLOCK

	* Bugfix: Catch interrupted system call within PSC_startDaemon()

2004-07-23  Norbert Eicker  <eicker@par-tec.com>

	* Modification: Remove obsolete 'env PS_MODULEPATH' (Bug #8)
	and obsolete 'Hardware myrinet' entry from parastation.conf.

Version psmgmt-4.1.2:
=====================

2004-06-22  Norbert Eicker  <eicker@par-tec.com>

	* ChangeLog: Add some stubs for released version.

2004-06-14  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Handle return values and catched signals of client
	processes correctly in psilogger. Create more useful return values.

2004-05-25  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Add some infiniband stuff.

2004-04-30  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Try to fix broken connections by testing the number of
	active clients on each node and sending the list of actually
	active nodes if a difference occured.

2004-04-29  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Remove all client's group memberships inherited from psid.

	* Bugfix: Close file descriptors to /dev/cpu/?/cpuid devices after use.

2004-04-22  Jens Hauke  <hauke@par-tec.com>

	* Extension: mpirun for javampi.

2004-04-20  Jens Hauke  <hauke@par-tec.com>

	* Extension: New option -np for psmstart to order a bigger
	partition (used for java mpi).

2004-04-19  moschny  <moschny@par-tec.com>

	* Extension: Some changes to psh:
	- Allow absolute paths for -s option.
	- Change autocmd defaults, so following commands are not executed in
	  case of a failure.

2004-04-16  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Insert a 50 msec delay between consecutive startups of
	remote daemons.

Version psmgmt-4.1.1:
=====================

2004-03-16  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Prevent segmentation fault after using illegal nodenames
	several times.

2004-03-11  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Add the test_config utility to the distribution.

	* Extension: Implement handleOldBins and freeOnSuspend.

	* Bugfix: Implicit overbooking due to suspend/resume may lead to
	further harm.

Version psmgmt-4.1.0beta2:
==========================

2004-03-10  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Give a hint to the user while waiting for resources.

	* Modification: Improved hints on finished jobs of the status system.

2004-03-09  Norbert Eicker  <eicker@par-tec.com>

	* Modification: Link statically against libpopt in order to circumvent
	version problems.

	* Extension: Also show the exclusive flag for 's load' in admin.

	* Bugfix: Partition creation should work now correctly.

2004-03-08  Norbert Eicker  <eicker@par-tec.com>

	* Modification: Reintroduce 'licenseserver' token for convenience.

2004-02-27  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Set errno correctly within PSI_info*() calls.

2004-02-23  Norbert Eicker  <eicker@par-tec.com>

	* Modification: Print info type as string, not just as number.

	* Modification: Fix error message concerning wrong daemon version
	(daemon to old).

	* Bugfix: Return message of the right type to old clients
	(i.e. version < 329).

	* Typo: Short form of 'status allproc' is 's ap' not 's aw'.

2004-02-12  Jens Hauke  <hauke@par-tec.com>

	* Extension: psh is usefull :-).

2004-02-11  Jens Hauke  <hauke@par-tec.com>

	* Extension: Include TCP-Bypass option.

2004-02-10  Jens Hauke  <hauke@par-tec.com>

	* Extension: Changes for ia64.

Version psmgmt-4.1.0beta:
=========================

2004-02-06  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Get NORMJOBS when displaying normal jobs in admin.

2004-01-29  Norbert Eicker  <eicker@par-tec.com>

	* Modification: Make process spawning more robust.

2004-01-28  Norbert Eicker  <eicker@par-tec.com>

	* Extension: New status handling: Replace MCast by sending
	messages via RDP. This can be switched back to the old MCast
	functionality via UseMCast within parastation.conf.

	* Extension: New partition handler. We have a quite primitive
	batch system now.

	* Bugfix: Correct request handling within msg_PROVIDETASK() and
	msg_PROVIDETASKNL().

	* Bugfix: Kill client process in case the local daemon disappears.

	* Bugfix: Fix master determination for first node connecting.

	* Extension: Also print out PSP_INFO_LIST_ALLOCJOBS info on
	'status load' in admin.

2004-01-22  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Fix memory leak: free nodelist on return.

	* Bugfix: Special handling for local daemon messages.

	* Bugfix: Handle local daemon's undeliverable packets (needed to
	detect master)

2004-01-16  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Many fixes in admin:
	- Fix memory leak in printTags().
	- hwstop's name is hwstop, not hwstart.
	- Add descrition for set command.
	- Catch another syntax error: 's c hw' is illegal.
	- Catch more syntax errors: 's p cnt' is illegal.

2004-01-15  Norbert Eicker  <eicker@par-tec.com>

	* Extension: New command 'show master' in admin.

	* Modification: Improve RDP.

	* Bugfix: Catch some more interrupted system calls.

	* Bugfix: Catch one possible infinite loop.

2004-01-14  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Printing of help messages in admin recognize the
	actual screen width.

2004-01-13  Jens Hauke  <hauke@par-tec.com>

	* Extension: Architecture x86_64.

2004-01-09  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: NOTIFYDEADRES and RELEASERES messages have to be forwarded.

	* Extension: Enable the new status code.

	* Modification:	Adapt test program to new parseConfig() syntax.

	* Modification: Always show when MCast is disabled.

	* Bugfix: Always handle the extended error messages under
	Linux. Otherwise spurious exits from the daemon complaining on RDP
	ERRORS might happen.

	* Modification: Change default RDPMaxRetransCount from 128 to 32.

	* Bugfix: Sselect will not return on timeout if timeout is longer
	than timer's timeout. This will only return, if data appears on
	one of the controlled fds. This usually happens regulary, if MCast
	is used (due to local pings), but not for the new status facility.

2003-12-19  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Make daemon more modularized.

	* Extension: Do not use MCast directly but use the more abstract
	status facility. MCast's use is configurable now.

	* Extension: Prepare for forwarding requests to master node if MCast
	is not used.

	* Bugfix: Stop execution when no sufficient partition could be
	provided within psmstart or test_pse.

2003-12-16  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Reorganization within RDP and MCast.

2003-12-11  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Separate Timer and Selector functionality inside the
	daemon.

2003-12-10  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Get info from correct nodes when building candidate list.

	* Extension: Make code more robust against changes in PSnodes_ID_t.
	Also give info on various limits within send_OPTIONS().

	* Extension: Adding new messages in order to replace MCast. New
	keyword 'NoMCast' in parastation.conf in order to switch MCast off
	and use alternative protocol.

2003-12-09  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Make daemon more modularized.

2003-12-04  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Segfault due to free() of dup_argv to early in psmstart.

2003-11-28  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Don't exit on non-fatal errors from psiinfo calls.

	* Bugfix myTID set false for any PSI_-call before PSI_initClient().

2003-11-26  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: 64bit compatibility changes.

	* Extension: Differentiate between physical and virtual CPUs.
	Thus enable the CPU limit within the license checking.

	* Modification: Use virtual CPUs for partition creation.

	* Extension: Implement new 'cnt' option to 'status proc' and
	'status allproc' commands.

	* Extension: Make task encoding more platform independent.

2003-11-24  Norbert Eicker  <eicker@par-tec.com>

	* Modification:	Remove trailing '\n' from status strings.

2003-11-14  Norbert Eicker  <eicker@par-tec.com>

	* Extensions: Make daemon's protocol more platform transparent.

2003-11-10  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Also include test_pse in the distribution.

	* Modification:	Remove the 'test_nodes' utility from mgmt. This is
	in p4 now.

2003-10-31  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Smarter error message upon spawn failure.

2003-10-29  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Fix potential problems if Linux' PIDs where larger than
	16 bits. Reserve 12 bits for node ID under OSF.

2003-10-22  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Don't declare own node dead. This might happen, if local
	MCast pings stay away.

2003-10-20  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Error message containing more info in pscommon.c.

Version psmgmt-4.0.6:
=====================

2004-01-09  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Always handle the extended error messages under
	Linux. Otherwise spurious exits from the daemon complaining on RDP
	ERRORS might happen. This is merged from the main trunk.

	* Bugfix: Tselect will not return on timeout if timeout is longer
	than timer's timeout. This will only return, if data appears on
	one of the controlled fds. This usually happens regulary, if MCast
	is used (due to local pings), but not for the new status facility.
	This one was found in the main trunk.

2003-12-22  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Don't allow clients with newer protocol than mine. Send
	daemons protocol version architecture independent. This is merged
	from the main trunk.

	* Modification:	Merge compatible changes from internal 4.0.5 revision.

	* Modification: Merge compatible changes from internal 4.0.5
	revision. This includes:
	- Add help messages for hwstart/hwstop commands.
	- Bugfixes to RDP.
	- OpenPBS/PBSPro detection and handling.

	* Extension: Add some compatibility dummy calls for 4.1.x.

	* Bugfix: Merge changes from main trunk concerning PSM_INSTALL,
	psh and rpmbuildpsmgmt.

2003-10-14  Jens Hauke  <hauke@par-tec.com>

	* Modification:	replace isspace() by ps_isspace, to avoid a GLIBC
	2.3 dependency.

	* Bugfix: Fix some problems with rpm -U (Update) in PSM_INSTALL.

Version psmgmt-4.0.5 (internal version):
========================================

  Note: This was a kind of internal psmgmt-4.1 preview. Most of the stuff
	in this revision did not made it into psmgmt-4.0.6 which was
	released in a normal fashion.

2003-10-13  Jens Hauke  <hauke@par-tec.com>

	* dist_mgmt/Makefile.in: Remove psld.

	* dist_mgmt/ChangeLog: Update changelog for 4.0.5.

	* scripts/psh: Fix some quoting problems.

2003-10-13  Jens Hauke  <hauke@par-tec.com>

	* Bugfix: scripts/psh: Fix some quoting problems.

2003-10-08  Norbert Eicker  <eicker@par-tec.com>

	* Extension: psld no longer needed.

2003-10-06  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Add help messages for hwstart/hwstop commands.

2003-09-29  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Enable the handling of PBSPro/OpenPBS environment
	variables.

2003-09-26  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Reimplement partition creation in order to support
	overbooking. Many minor bugfixes. Also sort candidates
	corresponding to number of CPUs. Minor improvements.

	* Bugfix: Also detect PSI_NODES_SORT=NONE. Extract nodelist
	sending from PSI_createPartition() into sendNodelist().

	* Extension: PSI_PBS() function analog to PSI_LSF(). (Transparent
	Batchsystem support)

2003-09-12  Norbert Eicker  <eicker@par-tec.com>

	* Extension: New partition handling mechanism.
	New functions PSI_spawn(), PSI_spawnRank() and
	PSI_spawnGMSpawner() enabeling the new partition and spawning
	mechanism. New functions PSE_getPartition() and PSE_getSize().

	* Extension: Complete redesign of spawning stuff:
	- Remove PSI_spawnM() function.
	- Add PSI_spawnRank() and PSI_spawnGMSpawner() functions.

	* Extension: New messages to create and manage partition within
	the daemon. Thus new protocol version.

Version psmgmt-4.0.4:
===========================

2003-07-03  Jens Hauke  <hauke@par-tec.com>

	* Release: psmgmt-4.0.3 released.

2003-08-27  Jens Hauke  <hauke@par-tec.com>

	* Extension: Minor fixes for IA64 support.

2003-08-27  Norbert Eicker  <eicker@par-tec.com>

	* Extension: New commands hwstart/hwstop within psiadmin.

2003-08-15  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Complete rewrite of psiadmin. Significant syntax
	change.
	* Bugfix: Switch from strtok() to strtok_r(). Not really a bug but
	will prevent from future problems.

2003-08-04  Norbert Eicker  <eicker@par-tec.com>

	* Extension: New options to psmstart. These include -l, -h and -n.
	* Extension: Do not fail to spawn if chdir() to workdir is
	impossible. Try user's home instead.

2003-07-31  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Close of client's stdin from forwarder.
	* Bugfix: Correct handling of daemonSock in logger/forwarder.
	* Bugfix: Enable jobs started via psmstart to be killed by SIGINT.

2003-07-25  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Enable basic GM support.

2003-07-11  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Catch error within daemon if to many files are open.

2003-07-04  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: RDP flow control heals output loss.

Version psmgmt-4.0.3:
===========================

2003-07-03  Jens Hauke  <hauke@par-tec.com>

	* Release: psmgmt-4.0.3 released.

2003-06-26  Norbert Eicker  <eicker@par-tec.com>

	* Extensions: Use mpirun_chgm to start MPIch/GM apps within ParaStation

	* Extensions: Don't start daemons on other nodes automatically.

	* Extensions: New option to psiadmin: -s / --start-all
	Starts all daemons within the cluster.

2003-06-25  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Distribute correct info on restricting node to special user.

	* Extension: Nodes may be restricted to special groups.

2003-06-18  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Root can start on any node now.

Version psmgmt-4.0.2:
===========================

2003-06-16  Jens Hauke  <hauke@par-tec.com>

	* Release: psmgmt-4.0.2 released.

2003-06-13  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Change to InstallDir before daemon executes scripts.

2003-06-06  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Make gcc-2.95 libraries work with gcc-3.2.

2003-06-05  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Resolving of hardware types might fail.

2003-06-04  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Correct message handling within resendMsgs() of RDP.

2003-06-02  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Daemon hangs if script floods buffer with output.

	* Bugfix: Don't crash on unresolvable hostnames in PSI_HOSTS or
	hostfile.

2003-05-28  Norbert Eicker  <eicker@par-tec.com>

	* Extensions: Remove obsolete 'config' command from psiadmin.

	* Bugfix: Correct help message for psiadmin's 'show' command.

	* Bugfix: Make psmstart work even if not called with absolute path.

2003-04-11  Norbert Eicker  <eicker@par-tec.com>

	* Bugfix: Don't call PSC_startDaemon() with invalid address in psid.

2003-04-10  Norbert Eicker  <eicker@par-tec.com>

	* Extensions: Most signals sent to logger are forwarded to all
	distributed processes of a parallel task.

Version psmgmt-4.0.1:
===========================

2003-04-08  Jens Hauke  <hauke@par-tec.com>

	* Release: psmgmt-4.0.1 released.

2003-04-07  Norbert Eicker  <eicker@par-tec.com>

	* Extension: Send SIGKILL if process ignores killing after 10 seconds.

	* Bugfix: Fix task handling.

	* Bugfix: Fix output leak.

	* Bugfix: Clients held an open socket to the daemon.

2003-04-04  Jens Hauke  <hauke@par-tec.com>

	* Release: psmgmt-4.0.0 released.
